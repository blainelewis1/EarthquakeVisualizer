<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

  <title>Earthquake Visualizer</title>

  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="data:application/octet-stream;base64,KGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT0iZnVuY3Rpb24iJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbysiJyIpO3Rocm93IGYuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT0iZnVuY3Rpb24iJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CmZ1bmN0aW9uIGNvcnNsaXRlKG4sdCxvKXtmdW5jdGlvbiBlKG4pe3JldHVybiBuPj0yMDAmJjMwMD5ufHwzMDQ9PT1ufWZ1bmN0aW9uIGkoKXt2b2lkIDA9PT1yLnN0YXR1c3x8ZShyLnN0YXR1cyk/dC5jYWxsKHIsbnVsbCxyKTp0LmNhbGwocixyLG51bGwpfXZhciBsPSExO2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93LlhNTEh0dHBSZXF1ZXN0KXJldHVybiB0KEVycm9yKCJCcm93c2VyIG5vdCBzdXBwb3J0ZWQiKSk7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBvKXt2YXIgdT1uLm1hdGNoKC9eXHMqaHR0cHM/OlwvXC9bXlwvXSovKTtvPXUmJnVbMF0hPT1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmRvbWFpbisobG9jYXRpb24ucG9ydD8iOiIrbG9jYXRpb24ucG9ydDoiIil9dmFyIHI9bmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDtpZihvJiYhKCJ3aXRoQ3JlZGVudGlhbHMiaW4gcikpe3I9bmV3IHdpbmRvdy5YRG9tYWluUmVxdWVzdDt2YXIgYT10O3Q9ZnVuY3Rpb24oKXtpZihsKWEuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Vsc2V7dmFyIG49dGhpcyx0PWFyZ3VtZW50cztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5hcHBseShuLHQpfSwwKX19fXJldHVybiJvbmxvYWQiaW4gcj9yLm9ubG9hZD1pOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmaSgpfSxyLm9uZXJyb3I9ZnVuY3Rpb24obil7dC5jYWxsKHRoaXMsbnx8ITAsbnVsbCksdD1mdW5jdGlvbigpe319LHIub25wcm9ncmVzcz1mdW5jdGlvbigpe30sci5vbnRpbWVvdXQ9ZnVuY3Rpb24obil7dC5jYWxsKHRoaXMsbixudWxsKSx0PWZ1bmN0aW9uKCl7fX0sci5vbmFib3J0PWZ1bmN0aW9uKG4pe3QuY2FsbCh0aGlzLG4sbnVsbCksdD1mdW5jdGlvbigpe319LHIub3BlbigiR0VUIixuLCEwKSxyLnNlbmQobnVsbCksbD0hMCxyfSJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiYobW9kdWxlLmV4cG9ydHM9Y29yc2xpdGUpOwp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKbW9kdWxlLmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24ocil7cmV0dXJuIltvYmplY3QgQXJyYXldIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpfTsKfSx7fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiFmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5MLG89e307by52ZXJzaW9uPSIwLjcuNyIsIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bzoiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUobyksby5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuTD1uLHRoaXN9LHQuTD1vLG8uVXRpbD17ZXh0ZW5kOmZ1bmN0aW9uKHQpe3ZhciBlLGksbixvLHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2ZvcihpPTAsbj1zLmxlbmd0aDtuPmk7aSsrKXtvPXNbaV18fHt9O2ZvcihlIGluIG8pby5oYXNPd25Qcm9wZXJ0eShlKSYmKHRbZV09b1tlXSl9cmV0dXJuIHR9LGJpbmQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjI/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpOm51bGw7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxpfHxhcmd1bWVudHMpfX0sc3RhbXA6ZnVuY3Rpb24oKXt2YXIgdD0wLGU9Il9sZWFmbGV0X2lkIjtyZXR1cm4gZnVuY3Rpb24oaSl7cmV0dXJuIGlbZV09aVtlXXx8Kyt0LGlbZV19fSgpLGludm9rZUVhY2g6ZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87aWYoIm9iamVjdCI9PXR5cGVvZiB0KXtvPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKTtmb3IobiBpbiB0KWUuYXBwbHkoaSxbbix0W25dXS5jb25jYXQobykpO3JldHVybiEwfXJldHVybiExfSxsaW1pdEV4ZWNCeUludGVydmFsOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO3JldHVybiBmdW5jdGlvbiBzKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBuP3ZvaWQobz0hMCk6KG49ITAsc2V0VGltZW91dChmdW5jdGlvbigpe249ITEsbyYmKHMuYXBwbHkoaSxhKSxvPSExKX0sZSksdm9pZCB0LmFwcGx5KGksYSkpfX0sZmFsc2VGbjpmdW5jdGlvbigpe3JldHVybiExfSxmb3JtYXROdW06ZnVuY3Rpb24odCxlKXt2YXIgaT1NYXRoLnBvdygxMCxlfHw1KTtyZXR1cm4gTWF0aC5yb3VuZCh0KmkpL2l9LHRyaW06ZnVuY3Rpb24odCl7cmV0dXJuIHQudHJpbT90LnRyaW0oKTp0LnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX0sc3BsaXRXb3JkczpmdW5jdGlvbih0KXtyZXR1cm4gby5VdGlsLnRyaW0odCkuc3BsaXQoL1xzKy8pfSxzZXRPcHRpb25zOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQub3B0aW9ucz1vLmV4dGVuZCh7fSx0Lm9wdGlvbnMsZSksdC5vcHRpb25zfSxnZXRQYXJhbVN0cmluZzpmdW5jdGlvbih0LGUsaSl7dmFyIG49W107Zm9yKHZhciBvIGluIHQpbi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChpP28udG9VcHBlckNhc2UoKTpvKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KHRbb10pKTtyZXR1cm4oZSYmLTEhPT1lLmluZGV4T2YoIj8iKT8iJiI6Ij8iKStuLmpvaW4oIiYiKX0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZXBsYWNlKC9ceyAqKFtcd19dKykgKlx9L2csZnVuY3Rpb24odCxuKXt2YXIgbz1lW25dO2lmKG89PT1pKXRocm93IG5ldyBFcnJvcigiTm8gdmFsdWUgcHJvdmlkZWQgZm9yIHZhcmlhYmxlICIrdCk7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG8mJihvPW8oZSkpLG99KX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfSxlbXB0eUltYWdlVXJsOiJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFEL0FDd0FBQUFBQVFBQkFBQUNBRHM9In0sZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciBpLG4sbz1bIndlYmtpdCIsIm1veiIsIm8iLCJtcyJdO2ZvcihpPTA7aTxvLmxlbmd0aCYmIW47aSsrKW49dFtvW2ldK2VdO3JldHVybiBufWZ1bmN0aW9uIGkoZSl7dmFyIGk9K25ldyBEYXRlLG89TWF0aC5tYXgoMCwxNi0oaS1uKSk7cmV0dXJuIG49aStvLHQuc2V0VGltZW91dChlLG8pfXZhciBuPTAscz10LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZSgiUmVxdWVzdEFuaW1hdGlvbkZyYW1lIil8fGksYT10LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHxlKCJDYW5jZWxBbmltYXRpb25GcmFtZSIpfHxlKCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiKXx8ZnVuY3Rpb24oZSl7dC5jbGVhclRpbWVvdXQoZSl9O28uVXRpbC5yZXF1ZXN0QW5pbUZyYW1lPWZ1bmN0aW9uKGUsbixhLHIpe3JldHVybiBlPW8uYmluZChlLG4pLGEmJnM9PT1pP3ZvaWQgZSgpOnMuY2FsbCh0LGUscil9LG8uVXRpbC5jYW5jZWxBbmltRnJhbWU9ZnVuY3Rpb24oZSl7ZSYmYS5jYWxsKHQsZSl9fSgpLG8uZXh0ZW5kPW8uVXRpbC5leHRlbmQsby5iaW5kPW8uVXRpbC5iaW5kLG8uc3RhbXA9by5VdGlsLnN0YW1wLG8uc2V0T3B0aW9ucz1vLlV0aWwuc2V0T3B0aW9ucyxvLkNsYXNzPWZ1bmN0aW9uKCl7fSxvLkNsYXNzLmV4dGVuZD1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe3RoaXMuaW5pdGlhbGl6ZSYmdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9pbml0SG9va3MmJnRoaXMuY2FsbEluaXRIb29rcygpfSxpPWZ1bmN0aW9uKCl7fTtpLnByb3RvdHlwZT10aGlzLnByb3RvdHlwZTt2YXIgbj1uZXcgaTtuLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGU9bjtmb3IodmFyIHMgaW4gdGhpcyl0aGlzLmhhc093blByb3BlcnR5KHMpJiYicHJvdG90eXBlIiE9PXMmJihlW3NdPXRoaXNbc10pO3Quc3RhdGljcyYmKG8uZXh0ZW5kKGUsdC5zdGF0aWNzKSxkZWxldGUgdC5zdGF0aWNzKSx0LmluY2x1ZGVzJiYoby5VdGlsLmV4dGVuZC5hcHBseShudWxsLFtuXS5jb25jYXQodC5pbmNsdWRlcykpLGRlbGV0ZSB0LmluY2x1ZGVzKSx0Lm9wdGlvbnMmJm4ub3B0aW9ucyYmKHQub3B0aW9ucz1vLmV4dGVuZCh7fSxuLm9wdGlvbnMsdC5vcHRpb25zKSksby5leHRlbmQobix0KSxuLl9pbml0SG9va3M9W107dmFyIGE9dGhpcztyZXR1cm4gZS5fX3N1cGVyX189YS5wcm90b3R5cGUsbi5jYWxsSW5pdEhvb2tzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2luaXRIb29rc0NhbGxlZCl7YS5wcm90b3R5cGUuY2FsbEluaXRIb29rcyYmYS5wcm90b3R5cGUuY2FsbEluaXRIb29rcy5jYWxsKHRoaXMpLHRoaXMuX2luaXRIb29rc0NhbGxlZD0hMDtmb3IodmFyIHQ9MCxlPW4uX2luaXRIb29rcy5sZW5ndGg7ZT50O3QrKyluLl9pbml0SG9va3NbdF0uY2FsbCh0aGlzKX19LGV9LG8uQ2xhc3MuaW5jbHVkZT1mdW5jdGlvbih0KXtvLmV4dGVuZCh0aGlzLnByb3RvdHlwZSx0KX0sby5DbGFzcy5tZXJnZU9wdGlvbnM9ZnVuY3Rpb24odCl7by5leHRlbmQodGhpcy5wcm90b3R5cGUub3B0aW9ucyx0KX0sby5DbGFzcy5hZGRJbml0SG9vaz1mdW5jdGlvbih0KXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksaT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OmZ1bmN0aW9uKCl7dGhpc1t0XS5hcHBseSh0aGlzLGUpfTt0aGlzLnByb3RvdHlwZS5faW5pdEhvb2tzPXRoaXMucHJvdG90eXBlLl9pbml0SG9va3N8fFtdLHRoaXMucHJvdG90eXBlLl9pbml0SG9va3MucHVzaChpKX07dmFyIHM9Il9sZWFmbGV0X2V2ZW50cyI7by5NaXhpbj17fSxvLk1peGluLkV2ZW50cz17YWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbih0LGUsaSl7aWYoby5VdGlsLmludm9rZUVhY2godCx0aGlzLmFkZEV2ZW50TGlzdGVuZXIsdGhpcyxlLGkpKXJldHVybiB0aGlzO3ZhciBuLGEscixoLGwsdSxjLGQ9dGhpc1tzXT10aGlzW3NdfHx7fSxwPWkmJmkhPT10aGlzJiZvLnN0YW1wKGkpO2Zvcih0PW8uVXRpbC5zcGxpdFdvcmRzKHQpLG49MCxhPXQubGVuZ3RoO2E+bjtuKyspcj17YWN0aW9uOmUsY29udGV4dDppfHx0aGlzfSxoPXRbbl0scD8obD1oKyJfaWR4Iix1PWwrIl9sZW4iLGM9ZFtsXT1kW2xdfHx7fSxjW3BdfHwoY1twXT1bXSxkW3VdPShkW3VdfHwwKSsxKSxjW3BdLnB1c2gocikpOihkW2hdPWRbaF18fFtdLGRbaF0ucHVzaChyKSk7cmV0dXJuIHRoaXN9LGhhc0V2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXNbc107cmV0dXJuISFlJiYodCBpbiBlJiZlW3RdLmxlbmd0aD4wfHx0KyJfaWR4ImluIGUmJmVbdCsiX2lkeF9sZW4iXT4wKX0scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbih0LGUsaSl7aWYoIXRoaXNbc10pcmV0dXJuIHRoaXM7aWYoIXQpcmV0dXJuIHRoaXMuY2xlYXJBbGxFdmVudExpc3RlbmVycygpO2lmKG8uVXRpbC5pbnZva2VFYWNoKHQsdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyLHRoaXMsZSxpKSlyZXR1cm4gdGhpczt2YXIgbixhLHIsaCxsLHUsYyxkLHAsXz10aGlzW3NdLG09aSYmaSE9PXRoaXMmJm8uc3RhbXAoaSk7Zm9yKHQ9by5VdGlsLnNwbGl0V29yZHModCksbj0wLGE9dC5sZW5ndGg7YT5uO24rKylpZihyPXRbbl0sdT1yKyJfaWR4IixjPXUrIl9sZW4iLGQ9X1t1XSxlKXtpZihoPW0mJmQ/ZFttXTpfW3JdKXtmb3IobD1oLmxlbmd0aC0xO2w+PTA7bC0tKWhbbF0uYWN0aW9uIT09ZXx8aSYmaFtsXS5jb250ZXh0IT09aXx8KHA9aC5zcGxpY2UobCwxKSxwWzBdLmFjdGlvbj1vLlV0aWwuZmFsc2VGbik7aSYmZCYmMD09PWgubGVuZ3RoJiYoZGVsZXRlIGRbbV0sX1tjXS0tKX19ZWxzZSBkZWxldGUgX1tyXSxkZWxldGUgX1t1XSxkZWxldGUgX1tjXTtyZXR1cm4gdGhpc30sY2xlYXJBbGxFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3JldHVybiBkZWxldGUgdGhpc1tzXSx0aGlzfSxmaXJlRXZlbnQ6ZnVuY3Rpb24odCxlKXtpZighdGhpcy5oYXNFdmVudExpc3RlbmVycyh0KSlyZXR1cm4gdGhpczt2YXIgaSxuLGEscixoLGw9by5VdGlsLmV4dGVuZCh7fSxlLHt0eXBlOnQsdGFyZ2V0OnRoaXN9KSx1PXRoaXNbc107aWYodVt0XSlmb3IoaT11W3RdLnNsaWNlKCksbj0wLGE9aS5sZW5ndGg7YT5uO24rKylpW25dLmFjdGlvbi5jYWxsKGlbbl0uY29udGV4dCxsKTtyPXVbdCsiX2lkeCJdO2ZvcihoIGluIHIpaWYoaT1yW2hdLnNsaWNlKCkpZm9yKG49MCxhPWkubGVuZ3RoO2E+bjtuKyspaVtuXS5hY3Rpb24uY2FsbChpW25dLmNvbnRleHQsbCk7cmV0dXJuIHRoaXN9LGFkZE9uZVRpbWVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKHQsZSxpKXtpZihvLlV0aWwuaW52b2tlRWFjaCh0LHRoaXMuYWRkT25lVGltZUV2ZW50TGlzdGVuZXIsdGhpcyxlLGkpKXJldHVybiB0aGlzO3ZhciBuPW8uYmluZChmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUsaSkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4saSl9LHRoaXMpO3JldHVybiB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodCxlLGkpLmFkZEV2ZW50TGlzdGVuZXIodCxuLGkpfX0sby5NaXhpbi5FdmVudHMub249by5NaXhpbi5FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcixvLk1peGluLkV2ZW50cy5vZmY9by5NaXhpbi5FdmVudHMucmVtb3ZlRXZlbnRMaXN0ZW5lcixvLk1peGluLkV2ZW50cy5vbmNlPW8uTWl4aW4uRXZlbnRzLmFkZE9uZVRpbWVFdmVudExpc3RlbmVyLG8uTWl4aW4uRXZlbnRzLmZpcmU9by5NaXhpbi5FdmVudHMuZmlyZUV2ZW50LGZ1bmN0aW9uKCl7dmFyIG49IkFjdGl2ZVhPYmplY3QiaW4gdCxzPW4mJiFlLmFkZEV2ZW50TGlzdGVuZXIsYT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkscj0tMSE9PWEuaW5kZXhPZigid2Via2l0IiksaD0tMSE9PWEuaW5kZXhPZigiY2hyb21lIiksbD0tMSE9PWEuaW5kZXhPZigicGhhbnRvbSIpLHU9LTEhPT1hLmluZGV4T2YoImFuZHJvaWQiKSxjPS0xIT09YS5zZWFyY2goImFuZHJvaWQgWzIzXSIpLGQ9LTEhPT1hLmluZGV4T2YoImdlY2tvIikscD10eXBlb2Ygb3JpZW50YXRpb24hPWkrIiIsXz0hdC5Qb2ludGVyRXZlbnQmJnQuTVNQb2ludGVyRXZlbnQsbT10LlBvaW50ZXJFdmVudCYmdC5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWR8fF8sZj0iZGV2aWNlUGl4ZWxSYXRpbyJpbiB0JiZ0LmRldmljZVBpeGVsUmF0aW8+MXx8Im1hdGNoTWVkaWEiaW4gdCYmdC5tYXRjaE1lZGlhKCIobWluLXJlc29sdXRpb246MTQ0ZHBpKSIpJiZ0Lm1hdGNoTWVkaWEoIihtaW4tcmVzb2x1dGlvbjoxNDRkcGkpIikubWF0Y2hlcyxnPWUuZG9jdW1lbnRFbGVtZW50LHY9biYmInRyYW5zaXRpb24iaW4gZy5zdHlsZSx5PSJXZWJLaXRDU1NNYXRyaXgiaW4gdCYmIm0xMSJpbiBuZXcgdC5XZWJLaXRDU1NNYXRyaXgmJiFjLFA9Ik1velBlcnNwZWN0aXZlImluIGcuc3R5bGUsTD0iT1RyYW5zaXRpb24iaW4gZy5zdHlsZSx4PSF0LkxfRElTQUJMRV8zRCYmKHZ8fHl8fFB8fEwpJiYhbCx3PSF0LkxfTk9fVE9VQ0gmJiFsJiYobXx8Im9udG91Y2hzdGFydCJpbiB0fHx0LkRvY3VtZW50VG91Y2gmJmUgaW5zdGFuY2VvZiB0LkRvY3VtZW50VG91Y2gpO28uQnJvd3Nlcj17aWU6bixpZWx0OTpzLHdlYmtpdDpyLGdlY2tvOmQmJiFyJiYhdC5vcGVyYSYmIW4sYW5kcm9pZDp1LGFuZHJvaWQyMzpjLGNocm9tZTpoLGllM2Q6dix3ZWJraXQzZDp5LGdlY2tvM2Q6UCxvcGVyYTNkOkwsYW55M2Q6eCxtb2JpbGU6cCxtb2JpbGVXZWJraXQ6cCYmcixtb2JpbGVXZWJraXQzZDpwJiZ5LG1vYmlsZU9wZXJhOnAmJnQub3BlcmEsdG91Y2g6dyxtc1BvaW50ZXI6Xyxwb2ludGVyOm0scmV0aW5hOmZ9fSgpLG8uUG9pbnQ9ZnVuY3Rpb24odCxlLGkpe3RoaXMueD1pP01hdGgucm91bmQodCk6dCx0aGlzLnk9aT9NYXRoLnJvdW5kKGUpOmV9LG8uUG9pbnQucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgby5Qb2ludCh0aGlzLngsdGhpcy55KX0sYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX2FkZChvLnBvaW50KHQpKX0sX2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kz10LngsdGhpcy55Kz10LnksdGhpc30sc3VidHJhY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fc3VidHJhY3Qoby5wb2ludCh0KSl9LF9zdWJ0cmFjdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54LT10LngsdGhpcy55LT10LnksdGhpc30sZGl2aWRlQnk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2aWRlQnkodCl9LF9kaXZpZGVCeTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Lz10LHRoaXMueS89dCx0aGlzfSxtdWx0aXBseUJ5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHRpcGx5QnkodCl9LF9tdWx0aXBseUJ5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXN9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm91bmQoKX0sX3JvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzfSxmbG9vcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX2Zsb29yKCl9LF9mbG9vcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpc30sZGlzdGFuY2VUbzpmdW5jdGlvbih0KXt0PW8ucG9pbnQodCk7dmFyIGU9dC54LXRoaXMueCxpPXQueS10aGlzLnk7cmV0dXJuIE1hdGguc3FydChlKmUraSppKX0sZXF1YWxzOmZ1bmN0aW9uKHQpe3JldHVybiB0PW8ucG9pbnQodCksdC54PT09dGhpcy54JiZ0Lnk9PT10aGlzLnl9LGNvbnRhaW5zOmZ1bmN0aW9uKHQpe3JldHVybiB0PW8ucG9pbnQodCksTWF0aC5hYnModC54KTw9TWF0aC5hYnModGhpcy54KSYmTWF0aC5hYnModC55KTw9TWF0aC5hYnModGhpcy55KX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4iUG9pbnQoIitvLlV0aWwuZm9ybWF0TnVtKHRoaXMueCkrIiwgIitvLlV0aWwuZm9ybWF0TnVtKHRoaXMueSkrIikifX0sby5wb2ludD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQgaW5zdGFuY2VvZiBvLlBvaW50P3Q6by5VdGlsLmlzQXJyYXkodCk/bmV3IG8uUG9pbnQodFswXSx0WzFdKTp0PT09aXx8bnVsbD09PXQ/dDpuZXcgby5Qb2ludCh0LGUsbil9LG8uQm91bmRzPWZ1bmN0aW9uKHQsZSl7aWYodClmb3IodmFyIGk9ZT9bdCxlXTp0LG49MCxvPWkubGVuZ3RoO28+bjtuKyspdGhpcy5leHRlbmQoaVtuXSl9LG8uQm91bmRzLnByb3RvdHlwZT17ZXh0ZW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0PW8ucG9pbnQodCksdGhpcy5taW58fHRoaXMubWF4Pyh0aGlzLm1pbi54PU1hdGgubWluKHQueCx0aGlzLm1pbi54KSx0aGlzLm1heC54PU1hdGgubWF4KHQueCx0aGlzLm1heC54KSx0aGlzLm1pbi55PU1hdGgubWluKHQueSx0aGlzLm1pbi55KSx0aGlzLm1heC55PU1hdGgubWF4KHQueSx0aGlzLm1heC55KSk6KHRoaXMubWluPXQuY2xvbmUoKSx0aGlzLm1heD10LmNsb25lKCkpLHRoaXN9LGdldENlbnRlcjpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IG8uUG9pbnQoKHRoaXMubWluLngrdGhpcy5tYXgueCkvMiwodGhpcy5taW4ueSt0aGlzLm1heC55KS8yLHQpfSxnZXRCb3R0b21MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLlBvaW50KHRoaXMubWluLngsdGhpcy5tYXgueSl9LGdldFRvcFJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLlBvaW50KHRoaXMubWF4LngsdGhpcy5taW4ueSl9LGdldFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXguc3VidHJhY3QodGhpcy5taW4pfSxjb250YWluczpmdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybiB0PSJudW1iZXIiPT10eXBlb2YgdFswXXx8dCBpbnN0YW5jZW9mIG8uUG9pbnQ/by5wb2ludCh0KTpvLmJvdW5kcyh0KSx0IGluc3RhbmNlb2Ygby5Cb3VuZHM/KGU9dC5taW4saT10Lm1heCk6ZT1pPXQsZS54Pj10aGlzLm1pbi54JiZpLng8PXRoaXMubWF4LngmJmUueT49dGhpcy5taW4ueSYmaS55PD10aGlzLm1heC55fSxpbnRlcnNlY3RzOmZ1bmN0aW9uKHQpe3Q9by5ib3VuZHModCk7dmFyIGU9dGhpcy5taW4saT10aGlzLm1heCxuPXQubWluLHM9dC5tYXgsYT1zLng+PWUueCYmbi54PD1pLngscj1zLnk+PWUueSYmbi55PD1pLnk7cmV0dXJuIGEmJnJ9LGlzVmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLm1pbnx8IXRoaXMubWF4KX19LG8uYm91bmRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIXR8fHQgaW5zdGFuY2VvZiBvLkJvdW5kcz90Om5ldyBvLkJvdW5kcyh0LGUpfSxvLlRyYW5zZm9ybWF0aW9uPWZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuX2E9dCx0aGlzLl9iPWUsdGhpcy5fYz1pLHRoaXMuX2Q9bn0sby5UcmFuc2Zvcm1hdGlvbi5wcm90b3R5cGU9e3RyYW5zZm9ybTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl90cmFuc2Zvcm0odC5jbG9uZSgpLGUpfSxfdHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZXx8MSx0Lng9ZSoodGhpcy5fYSp0LngrdGhpcy5fYiksdC55PWUqKHRoaXMuX2MqdC55K3RoaXMuX2QpLHR9LHVudHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZXx8MSxuZXcgby5Qb2ludCgodC54L2UtdGhpcy5fYikvdGhpcy5fYSwodC55L2UtdGhpcy5fZCkvdGhpcy5fYyl9fSxvLkRvbVV0aWw9e2dldDpmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/ZS5nZXRFbGVtZW50QnlJZCh0KTp0fSxnZXRTdHlsZTpmdW5jdGlvbih0LGkpe3ZhciBuPXQuc3R5bGVbaV07aWYoIW4mJnQuY3VycmVudFN0eWxlJiYobj10LmN1cnJlbnRTdHlsZVtpXSksKCFufHwiYXV0byI9PT1uKSYmZS5kZWZhdWx0Vmlldyl7dmFyIG89ZS5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCk7bj1vP29baV06bnVsbH1yZXR1cm4iYXV0byI9PT1uP251bGw6bn0sZ2V0Vmlld3BvcnRPZmZzZXQ6ZnVuY3Rpb24odCl7dmFyIGksbj0wLHM9MCxhPXQscj1lLmJvZHksaD1lLmRvY3VtZW50RWxlbWVudDtkb3tpZihuKz1hLm9mZnNldFRvcHx8MCxzKz1hLm9mZnNldExlZnR8fDAsbis9cGFyc2VJbnQoby5Eb21VdGlsLmdldFN0eWxlKGEsImJvcmRlclRvcFdpZHRoIiksMTApfHwwLHMrPXBhcnNlSW50KG8uRG9tVXRpbC5nZXRTdHlsZShhLCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDAsaT1vLkRvbVV0aWwuZ2V0U3R5bGUoYSwicG9zaXRpb24iKSxhLm9mZnNldFBhcmVudD09PXImJiJhYnNvbHV0ZSI9PT1pKWJyZWFrO2lmKCJmaXhlZCI9PT1pKXtuKz1yLnNjcm9sbFRvcHx8aC5zY3JvbGxUb3B8fDAscys9ci5zY3JvbGxMZWZ0fHxoLnNjcm9sbExlZnR8fDA7YnJlYWt9aWYoInJlbGF0aXZlIj09PWkmJiFhLm9mZnNldExlZnQpe3ZhciBsPW8uRG9tVXRpbC5nZXRTdHlsZShhLCJ3aWR0aCIpLHU9by5Eb21VdGlsLmdldFN0eWxlKGEsIm1heC13aWR0aCIpLGM9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsoIm5vbmUiIT09bHx8Im5vbmUiIT09dSkmJihzKz1jLmxlZnQrYS5jbGllbnRMZWZ0KSxuKz1jLnRvcCsoci5zY3JvbGxUb3B8fGguc2Nyb2xsVG9wfHwwKTticmVha31hPWEub2Zmc2V0UGFyZW50fXdoaWxlKGEpO2E9dDtkb3tpZihhPT09cilicmVhaztuLT1hLnNjcm9sbFRvcHx8MCxzLT1hLnNjcm9sbExlZnR8fDAsYT1hLnBhcmVudE5vZGV9d2hpbGUoYSk7cmV0dXJuIG5ldyBvLlBvaW50KHMsbil9LGRvY3VtZW50SXNMdHI6ZnVuY3Rpb24oKXtyZXR1cm4gby5Eb21VdGlsLl9kb2NJc0x0ckNhY2hlZHx8KG8uRG9tVXRpbC5fZG9jSXNMdHJDYWNoZWQ9ITAsby5Eb21VdGlsLl9kb2NJc0x0cj0ibHRyIj09PW8uRG9tVXRpbC5nZXRTdHlsZShlLmJvZHksImRpcmVjdGlvbiIpKSxvLkRvbVV0aWwuX2RvY0lzTHRyfSxjcmVhdGU6ZnVuY3Rpb24odCxpLG4pe3ZhciBvPWUuY3JlYXRlRWxlbWVudCh0KTtyZXR1cm4gby5jbGFzc05hbWU9aSxuJiZuLmFwcGVuZENoaWxkKG8pLG99LGhhc0NsYXNzOmZ1bmN0aW9uKHQsZSl7aWYodC5jbGFzc0xpc3QhPT1pKXJldHVybiB0LmNsYXNzTGlzdC5jb250YWlucyhlKTt2YXIgbj1vLkRvbVV0aWwuX2dldENsYXNzKHQpO3JldHVybiBuLmxlbmd0aD4wJiZuZXcgUmVnRXhwKCIoXnxcXHMpIitlKyIoXFxzfCQpIikudGVzdChuKX0sYWRkQ2xhc3M6ZnVuY3Rpb24odCxlKXtpZih0LmNsYXNzTGlzdCE9PWkpZm9yKHZhciBuPW8uVXRpbC5zcGxpdFdvcmRzKGUpLHM9MCxhPW4ubGVuZ3RoO2E+cztzKyspdC5jbGFzc0xpc3QuYWRkKG5bc10pO2Vsc2UgaWYoIW8uRG9tVXRpbC5oYXNDbGFzcyh0LGUpKXt2YXIgcj1vLkRvbVV0aWwuX2dldENsYXNzKHQpO28uRG9tVXRpbC5fc2V0Q2xhc3ModCwocj9yKyIgIjoiIikrZSl9fSxyZW1vdmVDbGFzczpmdW5jdGlvbih0LGUpe3QuY2xhc3NMaXN0IT09aT90LmNsYXNzTGlzdC5yZW1vdmUoZSk6by5Eb21VdGlsLl9zZXRDbGFzcyh0LG8uVXRpbC50cmltKCgiICIrby5Eb21VdGlsLl9nZXRDbGFzcyh0KSsiICIpLnJlcGxhY2UoIiAiK2UrIiAiLCIgIikpKX0sX3NldENsYXNzOmZ1bmN0aW9uKHQsZSl7dC5jbGFzc05hbWUuYmFzZVZhbD09PWk/dC5jbGFzc05hbWU9ZTp0LmNsYXNzTmFtZS5iYXNlVmFsPWV9LF9nZXRDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gdC5jbGFzc05hbWUuYmFzZVZhbD09PWk/dC5jbGFzc05hbWU6dC5jbGFzc05hbWUuYmFzZVZhbH0sc2V0T3BhY2l0eTpmdW5jdGlvbih0LGUpe2lmKCJvcGFjaXR5ImluIHQuc3R5bGUpdC5zdHlsZS5vcGFjaXR5PWU7ZWxzZSBpZigiZmlsdGVyImluIHQuc3R5bGUpe3ZhciBpPSExLG49IkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhIjt0cnl7aT10LmZpbHRlcnMuaXRlbShuKX1jYXRjaChvKXtpZigxPT09ZSlyZXR1cm59ZT1NYXRoLnJvdW5kKDEwMCplKSxpPyhpLkVuYWJsZWQ9MTAwIT09ZSxpLk9wYWNpdHk9ZSk6dC5zdHlsZS5maWx0ZXIrPSIgcHJvZ2lkOiIrbisiKG9wYWNpdHk9IitlKyIpIn19LHRlc3RQcm9wOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1lLmRvY3VtZW50RWxlbWVudC5zdHlsZSxuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXWluIGkpcmV0dXJuIHRbbl07cmV0dXJuITF9LGdldFRyYW5zbGF0ZVN0cmluZzpmdW5jdGlvbih0KXt2YXIgZT1vLkJyb3dzZXIud2Via2l0M2QsaT0idHJhbnNsYXRlIisoZT8iM2QiOiIiKSsiKCIsbj0oZT8iLDAiOiIiKSsiKSI7cmV0dXJuIGkrdC54KyJweCwiK3QueSsicHgiK259LGdldFNjYWxlU3RyaW5nOmZ1bmN0aW9uKHQsZSl7dmFyIGk9by5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyhlLmFkZChlLm11bHRpcGx5QnkoLTEqdCkpKSxuPSIgc2NhbGUoIit0KyIpICI7cmV0dXJuIGkrbn0sc2V0UG9zaXRpb246ZnVuY3Rpb24odCxlLGkpe3QuX2xlYWZsZXRfcG9zPWUsIWkmJm8uQnJvd3Nlci5hbnkzZD90LnN0eWxlW28uRG9tVXRpbC5UUkFOU0ZPUk1dPW8uRG9tVXRpbC5nZXRUcmFuc2xhdGVTdHJpbmcoZSk6KHQuc3R5bGUubGVmdD1lLngrInB4Iix0LnN0eWxlLnRvcD1lLnkrInB4Iil9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9sZWFmbGV0X3Bvc319LG8uRG9tVXRpbC5UUkFOU0ZPUk09by5Eb21VdGlsLnRlc3RQcm9wKFsidHJhbnNmb3JtIiwiV2Via2l0VHJhbnNmb3JtIiwiT1RyYW5zZm9ybSIsIk1velRyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIl0pLG8uRG9tVXRpbC5UUkFOU0lUSU9OPW8uRG9tVXRpbC50ZXN0UHJvcChbIndlYmtpdFRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwibXNUcmFuc2l0aW9uIl0pLG8uRG9tVXRpbC5UUkFOU0lUSU9OX0VORD0id2Via2l0VHJhbnNpdGlvbiI9PT1vLkRvbVV0aWwuVFJBTlNJVElPTnx8Ik9UcmFuc2l0aW9uIj09PW8uRG9tVXRpbC5UUkFOU0lUSU9OP28uRG9tVXRpbC5UUkFOU0lUSU9OKyJFbmQiOiJ0cmFuc2l0aW9uZW5kIixmdW5jdGlvbigpe2lmKCJvbnNlbGVjdHN0YXJ0ImluIGUpby5leHRlbmQoby5Eb21VdGlsLHtkaXNhYmxlVGV4dFNlbGVjdGlvbjpmdW5jdGlvbigpe28uRG9tRXZlbnQub24odCwic2VsZWN0c3RhcnQiLG8uRG9tRXZlbnQucHJldmVudERlZmF1bHQpfSxlbmFibGVUZXh0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7by5Eb21FdmVudC5vZmYodCwic2VsZWN0c3RhcnQiLG8uRG9tRXZlbnQucHJldmVudERlZmF1bHQpfX0pO2Vsc2V7dmFyIGk9by5Eb21VdGlsLnRlc3RQcm9wKFsidXNlclNlbGVjdCIsIldlYmtpdFVzZXJTZWxlY3QiLCJPVXNlclNlbGVjdCIsIk1velVzZXJTZWxlY3QiLCJtc1VzZXJTZWxlY3QiXSk7by5leHRlbmQoby5Eb21VdGlsLHtkaXNhYmxlVGV4dFNlbGVjdGlvbjpmdW5jdGlvbigpe2lmKGkpe3ZhciB0PWUuZG9jdW1lbnRFbGVtZW50LnN0eWxlO3RoaXMuX3VzZXJTZWxlY3Q9dFtpXSx0W2ldPSJub25lIn19LGVuYWJsZVRleHRTZWxlY3Rpb246ZnVuY3Rpb24oKXtpJiYoZS5kb2N1bWVudEVsZW1lbnQuc3R5bGVbaV09dGhpcy5fdXNlclNlbGVjdCxkZWxldGUgdGhpcy5fdXNlclNlbGVjdCl9fSl9by5leHRlbmQoby5Eb21VdGlsLHtkaXNhYmxlSW1hZ2VEcmFnOmZ1bmN0aW9uKCl7by5Eb21FdmVudC5vbih0LCJkcmFnc3RhcnQiLG8uRG9tRXZlbnQucHJldmVudERlZmF1bHQpfSxlbmFibGVJbWFnZURyYWc6ZnVuY3Rpb24oKXtvLkRvbUV2ZW50Lm9mZih0LCJkcmFnc3RhcnQiLG8uRG9tRXZlbnQucHJldmVudERlZmF1bHQpfX0pfSgpLG8uTGF0TG5nPWZ1bmN0aW9uKHQsZSxuKXtpZih0PXBhcnNlRmxvYXQodCksZT1wYXJzZUZsb2F0KGUpLGlzTmFOKHQpfHxpc05hTihlKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgTGF0TG5nIG9iamVjdDogKCIrdCsiLCAiK2UrIikiKTt0aGlzLmxhdD10LHRoaXMubG5nPWUsbiE9PWkmJih0aGlzLmFsdD1wYXJzZUZsb2F0KG4pKX0sby5leHRlbmQoby5MYXRMbmcse0RFR19UT19SQUQ6TWF0aC5QSS8xODAsUkFEX1RPX0RFRzoxODAvTWF0aC5QSSxNQVhfTUFSR0lOOjFlLTl9KSxvLkxhdExuZy5wcm90b3R5cGU9e2VxdWFsczpmdW5jdGlvbih0KXtpZighdClyZXR1cm4hMTt0PW8ubGF0TG5nKHQpO3ZhciBlPU1hdGgubWF4KE1hdGguYWJzKHRoaXMubGF0LXQubGF0KSxNYXRoLmFicyh0aGlzLmxuZy10LmxuZykpO3JldHVybiBlPD1vLkxhdExuZy5NQVhfTUFSR0lOfSx0b1N0cmluZzpmdW5jdGlvbih0KXtyZXR1cm4iTGF0TG5nKCIrby5VdGlsLmZvcm1hdE51bSh0aGlzLmxhdCx0KSsiLCAiK28uVXRpbC5mb3JtYXROdW0odGhpcy5sbmcsdCkrIikifSxkaXN0YW5jZVRvOmZ1bmN0aW9uKHQpe3Q9by5sYXRMbmcodCk7dmFyIGU9NjM3ODEzNyxpPW8uTGF0TG5nLkRFR19UT19SQUQsbj0odC5sYXQtdGhpcy5sYXQpKmkscz0odC5sbmctdGhpcy5sbmcpKmksYT10aGlzLmxhdCppLHI9dC5sYXQqaSxoPU1hdGguc2luKG4vMiksbD1NYXRoLnNpbihzLzIpLHU9aCpoK2wqbCpNYXRoLmNvcyhhKSpNYXRoLmNvcyhyKTtyZXR1cm4gMiplKk1hdGguYXRhbjIoTWF0aC5zcXJ0KHUpLE1hdGguc3FydCgxLXUpKX0sd3JhcDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMubG5nO3JldHVybiB0PXR8fC0xODAsZT1lfHwxODAsaT0oaStlKSUoZS10KSsodD5pfHxpPT09ZT9lOnQpLG5ldyBvLkxhdExuZyh0aGlzLmxhdCxpKX19LG8ubGF0TG5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBvLkxhdExuZz90Om8uVXRpbC5pc0FycmF5KHQpPyJudW1iZXIiPT10eXBlb2YgdFswXXx8InN0cmluZyI9PXR5cGVvZiB0WzBdP25ldyBvLkxhdExuZyh0WzBdLHRbMV0sdFsyXSk6bnVsbDp0PT09aXx8bnVsbD09PXQ/dDoib2JqZWN0Ij09dHlwZW9mIHQmJiJsYXQiaW4gdD9uZXcgby5MYXRMbmcodC5sYXQsImxuZyJpbiB0P3QubG5nOnQubG9uKTplPT09aT9udWxsOm5ldyBvLkxhdExuZyh0LGUpfSxvLkxhdExuZ0JvdW5kcz1mdW5jdGlvbih0LGUpe2lmKHQpZm9yKHZhciBpPWU/W3QsZV06dCxuPTAsbz1pLmxlbmd0aDtvPm47bisrKXRoaXMuZXh0ZW5kKGlbbl0pfSxvLkxhdExuZ0JvdW5kcy5wcm90b3R5cGU9e2V4dGVuZDpmdW5jdGlvbih0KXtpZighdClyZXR1cm4gdGhpczt2YXIgZT1vLmxhdExuZyh0KTtyZXR1cm4gdD1udWxsIT09ZT9lOm8ubGF0TG5nQm91bmRzKHQpLHQgaW5zdGFuY2VvZiBvLkxhdExuZz90aGlzLl9zb3V0aFdlc3R8fHRoaXMuX25vcnRoRWFzdD8odGhpcy5fc291dGhXZXN0LmxhdD1NYXRoLm1pbih0LmxhdCx0aGlzLl9zb3V0aFdlc3QubGF0KSx0aGlzLl9zb3V0aFdlc3QubG5nPU1hdGgubWluKHQubG5nLHRoaXMuX3NvdXRoV2VzdC5sbmcpLHRoaXMuX25vcnRoRWFzdC5sYXQ9TWF0aC5tYXgodC5sYXQsdGhpcy5fbm9ydGhFYXN0LmxhdCksdGhpcy5fbm9ydGhFYXN0LmxuZz1NYXRoLm1heCh0LmxuZyx0aGlzLl9ub3J0aEVhc3QubG5nKSk6KHRoaXMuX3NvdXRoV2VzdD1uZXcgby5MYXRMbmcodC5sYXQsdC5sbmcpLHRoaXMuX25vcnRoRWFzdD1uZXcgby5MYXRMbmcodC5sYXQsdC5sbmcpKTp0IGluc3RhbmNlb2Ygby5MYXRMbmdCb3VuZHMmJih0aGlzLmV4dGVuZCh0Ll9zb3V0aFdlc3QpLHRoaXMuZXh0ZW5kKHQuX25vcnRoRWFzdCkpLHRoaXN9LHBhZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zb3V0aFdlc3QsaT10aGlzLl9ub3J0aEVhc3Qsbj1NYXRoLmFicyhlLmxhdC1pLmxhdCkqdCxzPU1hdGguYWJzKGUubG5nLWkubG5nKSp0O3JldHVybiBuZXcgby5MYXRMbmdCb3VuZHMobmV3IG8uTGF0TG5nKGUubGF0LW4sZS5sbmctcyksbmV3IG8uTGF0TG5nKGkubGF0K24saS5sbmcrcykpfSxnZXRDZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG8uTGF0TG5nKCh0aGlzLl9zb3V0aFdlc3QubGF0K3RoaXMuX25vcnRoRWFzdC5sYXQpLzIsKHRoaXMuX3NvdXRoV2VzdC5sbmcrdGhpcy5fbm9ydGhFYXN0LmxuZykvMil9LGdldFNvdXRoV2VzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3V0aFdlc3R9LGdldE5vcnRoRWFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub3J0aEVhc3R9LGdldE5vcnRoV2VzdDpmdW5jdGlvbigpe3JldHVybiBuZXcgby5MYXRMbmcodGhpcy5nZXROb3J0aCgpLHRoaXMuZ2V0V2VzdCgpKX0sZ2V0U291dGhFYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLkxhdExuZyh0aGlzLmdldFNvdXRoKCksdGhpcy5nZXRFYXN0KCkpfSxnZXRXZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXRoV2VzdC5sbmd9LGdldFNvdXRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXRoV2VzdC5sYXR9LGdldEVhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9ydGhFYXN0LmxuZ30sZ2V0Tm9ydGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9ydGhFYXN0LmxhdH0sY29udGFpbnM6ZnVuY3Rpb24odCl7dD0ibnVtYmVyIj09dHlwZW9mIHRbMF18fHQgaW5zdGFuY2VvZiBvLkxhdExuZz9vLmxhdExuZyh0KTpvLmxhdExuZ0JvdW5kcyh0KTt2YXIgZSxpLG49dGhpcy5fc291dGhXZXN0LHM9dGhpcy5fbm9ydGhFYXN0O3JldHVybiB0IGluc3RhbmNlb2Ygby5MYXRMbmdCb3VuZHM/KGU9dC5nZXRTb3V0aFdlc3QoKSxpPXQuZ2V0Tm9ydGhFYXN0KCkpOmU9aT10LGUubGF0Pj1uLmxhdCYmaS5sYXQ8PXMubGF0JiZlLmxuZz49bi5sbmcmJmkubG5nPD1zLmxuZ30saW50ZXJzZWN0czpmdW5jdGlvbih0KXt0PW8ubGF0TG5nQm91bmRzKHQpO3ZhciBlPXRoaXMuX3NvdXRoV2VzdCxpPXRoaXMuX25vcnRoRWFzdCxuPXQuZ2V0U291dGhXZXN0KCkscz10LmdldE5vcnRoRWFzdCgpLGE9cy5sYXQ+PWUubGF0JiZuLmxhdDw9aS5sYXQscj1zLmxuZz49ZS5sbmcmJm4ubG5nPD1pLmxuZztyZXR1cm4gYSYmcn0sdG9CQm94U3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuZ2V0V2VzdCgpLHRoaXMuZ2V0U291dGgoKSx0aGlzLmdldEVhc3QoKSx0aGlzLmdldE5vcnRoKCldLmpvaW4oIiwiKX0sZXF1YWxzOmZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0PW8ubGF0TG5nQm91bmRzKHQpLHRoaXMuX3NvdXRoV2VzdC5lcXVhbHModC5nZXRTb3V0aFdlc3QoKSkmJnRoaXMuX25vcnRoRWFzdC5lcXVhbHModC5nZXROb3J0aEVhc3QoKSkpOiExfSxpc1ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuISghdGhpcy5fc291dGhXZXN0fHwhdGhpcy5fbm9ydGhFYXN0KX19LG8ubGF0TG5nQm91bmRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIXR8fHQgaW5zdGFuY2VvZiBvLkxhdExuZ0JvdW5kcz90Om5ldyBvLkxhdExuZ0JvdW5kcyh0LGUpfSxvLlByb2plY3Rpb249e30sby5Qcm9qZWN0aW9uLlNwaGVyaWNhbE1lcmNhdG9yPXtNQVhfTEFUSVRVREU6ODUuMDUxMTI4Nzc5OCxwcm9qZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPW8uTGF0TG5nLkRFR19UT19SQUQsaT10aGlzLk1BWF9MQVRJVFVERSxuPU1hdGgubWF4KE1hdGgubWluKGksdC5sYXQpLC1pKSxzPXQubG5nKmUsYT1uKmU7cmV0dXJuIGE9TWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K2EvMikpLG5ldyBvLlBvaW50KHMsYSl9LHVucHJvamVjdDpmdW5jdGlvbih0KXt2YXIgZT1vLkxhdExuZy5SQURfVE9fREVHLGk9dC54KmUsbj0oMipNYXRoLmF0YW4oTWF0aC5leHAodC55KSktTWF0aC5QSS8yKSplO3JldHVybiBuZXcgby5MYXRMbmcobixpKX19LG8uUHJvamVjdGlvbi5Mb25MYXQ9e3Byb2plY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLlBvaW50KHQubG5nLHQubGF0KX0sdW5wcm9qZWN0OmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgby5MYXRMbmcodC55LHQueCl9fSxvLkNSUz17bGF0TG5nVG9Qb2ludDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMucHJvamVjdGlvbi5wcm9qZWN0KHQpLG49dGhpcy5zY2FsZShlKTtyZXR1cm4gdGhpcy50cmFuc2Zvcm1hdGlvbi5fdHJhbnNmb3JtKGksbil9LHBvaW50VG9MYXRMbmc6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnNjYWxlKGUpLG49dGhpcy50cmFuc2Zvcm1hdGlvbi51bnRyYW5zZm9ybSh0LGkpO3JldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KG4pfSxwcm9qZWN0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByb2plY3Rpb24ucHJvamVjdCh0KX0sc2NhbGU6ZnVuY3Rpb24odCl7cmV0dXJuIDI1NipNYXRoLnBvdygyLHQpfSxnZXRTaXplOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2NhbGUodCk7cmV0dXJuIG8ucG9pbnQoZSxlKX19LG8uQ1JTLlNpbXBsZT1vLmV4dGVuZCh7fSxvLkNSUyx7cHJvamVjdGlvbjpvLlByb2plY3Rpb24uTG9uTGF0LHRyYW5zZm9ybWF0aW9uOm5ldyBvLlRyYW5zZm9ybWF0aW9uKDEsMCwtMSwwKSxzY2FsZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3coMix0KX19KSxvLkNSUy5FUFNHMzg1Nz1vLmV4dGVuZCh7fSxvLkNSUyx7Y29kZToiRVBTRzozODU3Iixwcm9qZWN0aW9uOm8uUHJvamVjdGlvbi5TcGhlcmljYWxNZXJjYXRvcix0cmFuc2Zvcm1hdGlvbjpuZXcgby5UcmFuc2Zvcm1hdGlvbiguNS9NYXRoLlBJLC41LC0uNS9NYXRoLlBJLC41KSxwcm9qZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvamVjdGlvbi5wcm9qZWN0KHQpLGk9NjM3ODEzNztyZXR1cm4gZS5tdWx0aXBseUJ5KGkpfX0pLG8uQ1JTLkVQU0c5MDA5MTM9by5leHRlbmQoe30sby5DUlMuRVBTRzM4NTcse2NvZGU6IkVQU0c6OTAwOTEzIn0pLG8uQ1JTLkVQU0c0MzI2PW8uZXh0ZW5kKHt9LG8uQ1JTLHtjb2RlOiJFUFNHOjQzMjYiLHByb2plY3Rpb246by5Qcm9qZWN0aW9uLkxvbkxhdCx0cmFuc2Zvcm1hdGlvbjpuZXcgby5UcmFuc2Zvcm1hdGlvbigxLzM2MCwuNSwtMS8zNjAsLjUpfSksby5NYXA9by5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOm8uTWl4aW4uRXZlbnRzLG9wdGlvbnM6e2NyczpvLkNSUy5FUFNHMzg1NyxmYWRlQW5pbWF0aW9uOm8uRG9tVXRpbC5UUkFOU0lUSU9OJiYhby5Ccm93c2VyLmFuZHJvaWQyMyx0cmFja1Jlc2l6ZTohMCxtYXJrZXJab29tQW5pbWF0aW9uOm8uRG9tVXRpbC5UUkFOU0lUSU9OJiZvLkJyb3dzZXIuYW55M2R9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtlPW8uc2V0T3B0aW9ucyh0aGlzLGUpLHRoaXMuX2luaXRDb250YWluZXIodCksdGhpcy5faW5pdExheW91dCgpLHRoaXMuX29uUmVzaXplPW8uYmluZCh0aGlzLl9vblJlc2l6ZSx0aGlzKSx0aGlzLl9pbml0RXZlbnRzKCksZS5tYXhCb3VuZHMmJnRoaXMuc2V0TWF4Qm91bmRzKGUubWF4Qm91bmRzKSxlLmNlbnRlciYmZS56b29tIT09aSYmdGhpcy5zZXRWaWV3KG8ubGF0TG5nKGUuY2VudGVyKSxlLnpvb20se3Jlc2V0OiEwfSksdGhpcy5faGFuZGxlcnM9W10sdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX3pvb21Cb3VuZExheWVycz17fSx0aGlzLl90aWxlTGF5ZXJzTnVtPTAsdGhpcy5jYWxsSW5pdEhvb2tzKCksdGhpcy5fYWRkTGF5ZXJzKGUubGF5ZXJzKX0sc2V0VmlldzpmdW5jdGlvbih0LGUpe3JldHVybiBlPWU9PT1pP3RoaXMuZ2V0Wm9vbSgpOmUsdGhpcy5fcmVzZXRWaWV3KG8ubGF0TG5nKHQpLHRoaXMuX2xpbWl0Wm9vbShlKSksdGhpc30sc2V0Wm9vbTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9sb2FkZWQ/dGhpcy5zZXRWaWV3KHRoaXMuZ2V0Q2VudGVyKCksdCx7em9vbTplfSk6KHRoaXMuX3pvb209dGhpcy5fbGltaXRab29tKHQpLHRoaXMpfSx6b29tSW46ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zZXRab29tKHRoaXMuX3pvb20rKHR8fDEpLGUpfSx6b29tT3V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2V0Wm9vbSh0aGlzLl96b29tLSh0fHwxKSxlKX0sc2V0Wm9vbUFyb3VuZDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5nZXRab29tU2NhbGUoZSkscz10aGlzLmdldFNpemUoKS5kaXZpZGVCeSgyKSxhPXQgaW5zdGFuY2VvZiBvLlBvaW50P3Q6dGhpcy5sYXRMbmdUb0NvbnRhaW5lclBvaW50KHQpLHI9YS5zdWJ0cmFjdChzKS5tdWx0aXBseUJ5KDEtMS9uKSxoPXRoaXMuY29udGFpbmVyUG9pbnRUb0xhdExuZyhzLmFkZChyKSk7cmV0dXJuIHRoaXMuc2V0VmlldyhoLGUse3pvb206aX0pfSxmaXRCb3VuZHM6ZnVuY3Rpb24odCxlKXtlPWV8fHt9LHQ9dC5nZXRCb3VuZHM/dC5nZXRCb3VuZHMoKTpvLmxhdExuZ0JvdW5kcyh0KTt2YXIgaT1vLnBvaW50KGUucGFkZGluZ1RvcExlZnR8fGUucGFkZGluZ3x8WzAsMF0pLG49by5wb2ludChlLnBhZGRpbmdCb3R0b21SaWdodHx8ZS5wYWRkaW5nfHxbMCwwXSkscz10aGlzLmdldEJvdW5kc1pvb20odCwhMSxpLmFkZChuKSk7cz1lLm1heFpvb20/TWF0aC5taW4oZS5tYXhab29tLHMpOnM7dmFyIGE9bi5zdWJ0cmFjdChpKS5kaXZpZGVCeSgyKSxyPXRoaXMucHJvamVjdCh0LmdldFNvdXRoV2VzdCgpLHMpLGg9dGhpcy5wcm9qZWN0KHQuZ2V0Tm9ydGhFYXN0KCkscyksbD10aGlzLnVucHJvamVjdChyLmFkZChoKS5kaXZpZGVCeSgyKS5hZGQoYSkscyk7cmV0dXJuIHRoaXMuc2V0VmlldyhsLHMsZSl9LGZpdFdvcmxkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpdEJvdW5kcyhbWy05MCwtMTgwXSxbOTAsMTgwXV0sdCl9LHBhblRvOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2V0Vmlldyh0LHRoaXMuX3pvb20se3BhbjplfSl9LHBhbkJ5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpcmUoIm1vdmVzdGFydCIpLHRoaXMuX3Jhd1BhbkJ5KG8ucG9pbnQodCkpLHRoaXMuZmlyZSgibW92ZSIpLHRoaXMuZmlyZSgibW92ZWVuZCIpfSxzZXRNYXhCb3VuZHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9by5sYXRMbmdCb3VuZHModCksdGhpcy5vcHRpb25zLm1heEJvdW5kcz10LHQ/KHRoaXMuX2xvYWRlZCYmdGhpcy5fcGFuSW5zaWRlTWF4Qm91bmRzKCksdGhpcy5vbigibW92ZWVuZCIsdGhpcy5fcGFuSW5zaWRlTWF4Qm91bmRzLHRoaXMpKTp0aGlzLm9mZigibW92ZWVuZCIsdGhpcy5fcGFuSW5zaWRlTWF4Qm91bmRzLHRoaXMpfSxwYW5JbnNpZGVCb3VuZHM6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldENlbnRlcigpLG49dGhpcy5fbGltaXRDZW50ZXIoaSx0aGlzLl96b29tLHQpO3JldHVybiBpLmVxdWFscyhuKT90aGlzOnRoaXMucGFuVG8obixlKX0sYWRkTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9by5zdGFtcCh0KTtyZXR1cm4gdGhpcy5fbGF5ZXJzW2VdP3RoaXM6KHRoaXMuX2xheWVyc1tlXT10LCF0Lm9wdGlvbnN8fGlzTmFOKHQub3B0aW9ucy5tYXhab29tKSYmaXNOYU4odC5vcHRpb25zLm1pblpvb20pfHwodGhpcy5fem9vbUJvdW5kTGF5ZXJzW2VdPXQsdGhpcy5fdXBkYXRlWm9vbUxldmVscygpKSx0aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmby5UaWxlTGF5ZXImJnQgaW5zdGFuY2VvZiBvLlRpbGVMYXllciYmKHRoaXMuX3RpbGVMYXllcnNOdW0rKyx0aGlzLl90aWxlTGF5ZXJzVG9Mb2FkKyssdC5vbigibG9hZCIsdGhpcy5fb25UaWxlTGF5ZXJMb2FkLHRoaXMpKSx0aGlzLl9sb2FkZWQmJnRoaXMuX2xheWVyQWRkKHQpLHRoaXMpfSxyZW1vdmVMYXllcjpmdW5jdGlvbih0KXt2YXIgZT1vLnN0YW1wKHQpO3JldHVybiB0aGlzLl9sYXllcnNbZV0/KHRoaXMuX2xvYWRlZCYmdC5vblJlbW92ZSh0aGlzKSxkZWxldGUgdGhpcy5fbGF5ZXJzW2VdLHRoaXMuX2xvYWRlZCYmdGhpcy5maXJlKCJsYXllcnJlbW92ZSIse2xheWVyOnR9KSx0aGlzLl96b29tQm91bmRMYXllcnNbZV0mJihkZWxldGUgdGhpcy5fem9vbUJvdW5kTGF5ZXJzW2VdLHRoaXMuX3VwZGF0ZVpvb21MZXZlbHMoKSksdGhpcy5vcHRpb25zLnpvb21BbmltYXRpb24mJm8uVGlsZUxheWVyJiZ0IGluc3RhbmNlb2Ygby5UaWxlTGF5ZXImJih0aGlzLl90aWxlTGF5ZXJzTnVtLS0sdGhpcy5fdGlsZUxheWVyc1RvTG9hZC0tLHQub2ZmKCJsb2FkIix0aGlzLl9vblRpbGVMYXllckxvYWQsdGhpcykpLHRoaXMpOnRoaXN9LGhhc0xheWVyOmZ1bmN0aW9uKHQpe3JldHVybiB0P28uc3RhbXAodClpbiB0aGlzLl9sYXllcnM6ITF9LGVhY2hMYXllcjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiB0aGlzLl9sYXllcnMpdC5jYWxsKGUsdGhpcy5fbGF5ZXJzW2ldKTtyZXR1cm4gdGhpc30saW52YWxpZGF0ZVNpemU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm4gdGhpczt0PW8uZXh0ZW5kKHthbmltYXRlOiExLHBhbjohMH0sdD09PSEwP3thbmltYXRlOiEwfTp0KTt2YXIgZT10aGlzLmdldFNpemUoKTt0aGlzLl9zaXplQ2hhbmdlZD0hMCx0aGlzLl9pbml0aWFsQ2VudGVyPW51bGw7dmFyIGk9dGhpcy5nZXRTaXplKCksbj1lLmRpdmlkZUJ5KDIpLnJvdW5kKCkscz1pLmRpdmlkZUJ5KDIpLnJvdW5kKCksYT1uLnN1YnRyYWN0KHMpO3JldHVybiBhLnh8fGEueT8odC5hbmltYXRlJiZ0LnBhbj90aGlzLnBhbkJ5KGEpOih0LnBhbiYmdGhpcy5fcmF3UGFuQnkoYSksdGhpcy5maXJlKCJtb3ZlIiksdC5kZWJvdW5jZU1vdmVlbmQ/KGNsZWFyVGltZW91dCh0aGlzLl9zaXplVGltZXIpLHRoaXMuX3NpemVUaW1lcj1zZXRUaW1lb3V0KG8uYmluZCh0aGlzLmZpcmUsdGhpcywibW92ZWVuZCIpLDIwMCkpOnRoaXMuZmlyZSgibW92ZWVuZCIpKSx0aGlzLmZpcmUoInJlc2l6ZSIse29sZFNpemU6ZSxuZXdTaXplOml9KSk6dGhpc30sYWRkSGFuZGxlcjpmdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybiB0aGlzO3ZhciBpPXRoaXNbdF09bmV3IGUodGhpcyk7cmV0dXJuIHRoaXMuX2hhbmRsZXJzLnB1c2goaSksdGhpcy5vcHRpb25zW3RdJiZpLmVuYWJsZSgpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuX2xvYWRlZCYmdGhpcy5maXJlKCJ1bmxvYWQiKSx0aGlzLl9pbml0RXZlbnRzKCJvZmYiKTt0cnl7ZGVsZXRlIHRoaXMuX2NvbnRhaW5lci5fbGVhZmxldH1jYXRjaCh0KXt0aGlzLl9jb250YWluZXIuX2xlYWZsZXQ9aX1yZXR1cm4gdGhpcy5fY2xlYXJQYW5lcygpLHRoaXMuX2NsZWFyQ29udHJvbFBvcyYmdGhpcy5fY2xlYXJDb250cm9sUG9zKCksdGhpcy5fY2xlYXJIYW5kbGVycygpLHRoaXN9LGdldENlbnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGVja0lmTG9hZGVkKCksdGhpcy5faW5pdGlhbENlbnRlciYmIXRoaXMuX21vdmVkKCk/dGhpcy5faW5pdGlhbENlbnRlcjp0aGlzLmxheWVyUG9pbnRUb0xhdExuZyh0aGlzLl9nZXRDZW50ZXJMYXllclBvaW50KCkpfSxnZXRab29tOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pvb219LGdldEJvdW5kczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UGl4ZWxCb3VuZHMoKSxlPXRoaXMudW5wcm9qZWN0KHQuZ2V0Qm90dG9tTGVmdCgpKSxpPXRoaXMudW5wcm9qZWN0KHQuZ2V0VG9wUmlnaHQoKSk7cmV0dXJuIG5ldyBvLkxhdExuZ0JvdW5kcyhlLGkpfSxnZXRNaW5ab29tOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5taW5ab29tPT09aT90aGlzLl9sYXllcnNNaW5ab29tPT09aT8wOnRoaXMuX2xheWVyc01pblpvb206dGhpcy5vcHRpb25zLm1pblpvb219LGdldE1heFpvb206ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1heFpvb209PT1pP3RoaXMuX2xheWVyc01heFpvb209PT1pPzEvMDp0aGlzLl9sYXllcnNNYXhab29tOnRoaXMub3B0aW9ucy5tYXhab29tfSxnZXRCb3VuZHNab29tOmZ1bmN0aW9uKHQsZSxpKXt0PW8ubGF0TG5nQm91bmRzKHQpO3ZhciBuLHM9dGhpcy5nZXRNaW5ab29tKCktKGU/MTowKSxhPXRoaXMuZ2V0TWF4Wm9vbSgpLHI9dGhpcy5nZXRTaXplKCksaD10LmdldE5vcnRoV2VzdCgpLGw9dC5nZXRTb3V0aEVhc3QoKSx1PSEwO2k9by5wb2ludChpfHxbMCwwXSk7ZG8gcysrLG49dGhpcy5wcm9qZWN0KGwscykuc3VidHJhY3QodGhpcy5wcm9qZWN0KGgscykpLmFkZChpKSx1PWU/bi54PHIueHx8bi55PHIueTpyLmNvbnRhaW5zKG4pO3doaWxlKHUmJmE+PXMpO3JldHVybiB1JiZlP251bGw6ZT9zOnMtMX0sZ2V0U2l6ZTpmdW5jdGlvbigpe3JldHVybighdGhpcy5fc2l6ZXx8dGhpcy5fc2l6ZUNoYW5nZWQpJiYodGhpcy5fc2l6ZT1uZXcgby5Qb2ludCh0aGlzLl9jb250YWluZXIuY2xpZW50V2lkdGgsdGhpcy5fY29udGFpbmVyLmNsaWVudEhlaWdodCksdGhpcy5fc2l6ZUNoYW5nZWQ9ITEpLHRoaXMuX3NpemUuY2xvbmUoKX0sZ2V0UGl4ZWxCb3VuZHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRUb3BMZWZ0UG9pbnQoKTtyZXR1cm4gbmV3IG8uQm91bmRzKHQsdC5hZGQodGhpcy5nZXRTaXplKCkpKX0sZ2V0UGl4ZWxPcmlnaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hlY2tJZkxvYWRlZCgpLHRoaXMuX2luaXRpYWxUb3BMZWZ0UG9pbnR9LGdldFBhbmVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhbmVzfSxnZXRDb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyfSxnZXRab29tU2NhbGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLmNycztyZXR1cm4gZS5zY2FsZSh0KS9lLnNjYWxlKHRoaXMuX3pvb20pfSxnZXRTY2FsZVpvb206ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3pvb20rTWF0aC5sb2codCkvTWF0aC5MTjJ9LHByb2plY3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lPT09aT90aGlzLl96b29tOmUsdGhpcy5vcHRpb25zLmNycy5sYXRMbmdUb1BvaW50KG8ubGF0TG5nKHQpLGUpfSx1bnByb2plY3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lPT09aT90aGlzLl96b29tOmUsdGhpcy5vcHRpb25zLmNycy5wb2ludFRvTGF0TG5nKG8ucG9pbnQodCksZSl9LGxheWVyUG9pbnRUb0xhdExuZzpmdW5jdGlvbih0KXt2YXIgZT1vLnBvaW50KHQpLmFkZCh0aGlzLmdldFBpeGVsT3JpZ2luKCkpO3JldHVybiB0aGlzLnVucHJvamVjdChlKX0sbGF0TG5nVG9MYXllclBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvamVjdChvLmxhdExuZyh0KSkuX3JvdW5kKCk7cmV0dXJuIGUuX3N1YnRyYWN0KHRoaXMuZ2V0UGl4ZWxPcmlnaW4oKSl9LGNvbnRhaW5lclBvaW50VG9MYXllclBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiBvLnBvaW50KHQpLnN1YnRyYWN0KHRoaXMuX2dldE1hcFBhbmVQb3MoKSl9LGxheWVyUG9pbnRUb0NvbnRhaW5lclBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiBvLnBvaW50KHQpLmFkZCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpfSxjb250YWluZXJQb2ludFRvTGF0TG5nOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoby5wb2ludCh0KSk7cmV0dXJuIHRoaXMubGF5ZXJQb2ludFRvTGF0TG5nKGUpfSxsYXRMbmdUb0NvbnRhaW5lclBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxheWVyUG9pbnRUb0NvbnRhaW5lclBvaW50KHRoaXMubGF0TG5nVG9MYXllclBvaW50KG8ubGF0TG5nKHQpKSl9LG1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiBvLkRvbUV2ZW50LmdldE1vdXNlUG9zaXRpb24odCx0aGlzLl9jb250YWluZXIpfSxtb3VzZUV2ZW50VG9MYXllclBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KHRoaXMubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQodCkpfSxtb3VzZUV2ZW50VG9MYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGF5ZXJQb2ludFRvTGF0TG5nKHRoaXMubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0KSl9LF9pbml0Q29udGFpbmVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NvbnRhaW5lcj1vLkRvbVV0aWwuZ2V0KHQpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiTWFwIGNvbnRhaW5lciBub3QgZm91bmQuIik7aWYoZS5fbGVhZmxldCl0aHJvdyBuZXcgRXJyb3IoIk1hcCBjb250YWluZXIgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4iKTtlLl9sZWFmbGV0PSEwfSxfaW5pdExheW91dDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbnRhaW5lcjtvLkRvbVV0aWwuYWRkQ2xhc3ModCwibGVhZmxldC1jb250YWluZXIiKyhvLkJyb3dzZXIudG91Y2g/IiBsZWFmbGV0LXRvdWNoIjoiIikrKG8uQnJvd3Nlci5yZXRpbmE/IiBsZWFmbGV0LXJldGluYSI6IiIpKyhvLkJyb3dzZXIuaWVsdDk/IiBsZWFmbGV0LW9sZGllIjoiIikrKHRoaXMub3B0aW9ucy5mYWRlQW5pbWF0aW9uPyIgbGVhZmxldC1mYWRlLWFuaW0iOiIiKSk7dmFyIGU9by5Eb21VdGlsLmdldFN0eWxlKHQsInBvc2l0aW9uIik7ImFic29sdXRlIiE9PWUmJiJyZWxhdGl2ZSIhPT1lJiYiZml4ZWQiIT09ZSYmKHQuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIiksdGhpcy5faW5pdFBhbmVzKCksdGhpcy5faW5pdENvbnRyb2xQb3MmJnRoaXMuX2luaXRDb250cm9sUG9zKCl9LF9pbml0UGFuZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wYW5lcz17fTt0aGlzLl9tYXBQYW5lPXQubWFwUGFuZT10aGlzLl9jcmVhdGVQYW5lKCJsZWFmbGV0LW1hcC1wYW5lIix0aGlzLl9jb250YWluZXIpLHRoaXMuX3RpbGVQYW5lPXQudGlsZVBhbmU9dGhpcy5fY3JlYXRlUGFuZSgibGVhZmxldC10aWxlLXBhbmUiLHRoaXMuX21hcFBhbmUpLHQub2JqZWN0c1BhbmU9dGhpcy5fY3JlYXRlUGFuZSgibGVhZmxldC1vYmplY3RzLXBhbmUiLHRoaXMuX21hcFBhbmUpLHQuc2hhZG93UGFuZT10aGlzLl9jcmVhdGVQYW5lKCJsZWFmbGV0LXNoYWRvdy1wYW5lIiksdC5vdmVybGF5UGFuZT10aGlzLl9jcmVhdGVQYW5lKCJsZWFmbGV0LW92ZXJsYXktcGFuZSIpLHQubWFya2VyUGFuZT10aGlzLl9jcmVhdGVQYW5lKCJsZWFmbGV0LW1hcmtlci1wYW5lIiksdC5wb3B1cFBhbmU9dGhpcy5fY3JlYXRlUGFuZSgibGVhZmxldC1wb3B1cC1wYW5lIik7dmFyIGU9IiBsZWFmbGV0LXpvb20taGlkZSI7dGhpcy5vcHRpb25zLm1hcmtlclpvb21BbmltYXRpb258fChvLkRvbVV0aWwuYWRkQ2xhc3ModC5tYXJrZXJQYW5lLGUpLG8uRG9tVXRpbC5hZGRDbGFzcyh0LnNoYWRvd1BhbmUsZSksby5Eb21VdGlsLmFkZENsYXNzKHQucG9wdXBQYW5lLGUpKX0sX2NyZWF0ZVBhbmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gby5Eb21VdGlsLmNyZWF0ZSgiZGl2Iix0LGV8fHRoaXMuX3BhbmVzLm9iamVjdHNQYW5lKX0sX2NsZWFyUGFuZXM6ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fbWFwUGFuZSl9LF9hZGRMYXllcnM6ZnVuY3Rpb24odCl7dD10P28uVXRpbC5pc0FycmF5KHQpP3Q6W3RdOltdO2Zvcih2YXIgZT0wLGk9dC5sZW5ndGg7aT5lO2UrKyl0aGlzLmFkZExheWVyKHRbZV0pfSxfcmVzZXRWaWV3OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBzPXRoaXMuX3pvb20hPT1lO258fCh0aGlzLmZpcmUoIm1vdmVzdGFydCIpLHMmJnRoaXMuZmlyZSgiem9vbXN0YXJ0IikpLHRoaXMuX3pvb209ZSx0aGlzLl9pbml0aWFsQ2VudGVyPXQsdGhpcy5faW5pdGlhbFRvcExlZnRQb2ludD10aGlzLl9nZXROZXdUb3BMZWZ0UG9pbnQodCksaT90aGlzLl9pbml0aWFsVG9wTGVmdFBvaW50Ll9hZGQodGhpcy5fZ2V0TWFwUGFuZVBvcygpKTpvLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fbWFwUGFuZSxuZXcgby5Qb2ludCgwLDApKSx0aGlzLl90aWxlTGF5ZXJzVG9Mb2FkPXRoaXMuX3RpbGVMYXllcnNOdW07dmFyIGE9IXRoaXMuX2xvYWRlZDt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5maXJlKCJ2aWV3cmVzZXQiLHtoYXJkOiFpfSksYSYmKHRoaXMuZmlyZSgibG9hZCIpLHRoaXMuZWFjaExheWVyKHRoaXMuX2xheWVyQWRkLHRoaXMpKSx0aGlzLmZpcmUoIm1vdmUiKSwoc3x8bikmJnRoaXMuZmlyZSgiem9vbWVuZCIpLHRoaXMuZmlyZSgibW92ZWVuZCIse2hhcmQ6IWl9KX0sX3Jhd1BhbkJ5OmZ1bmN0aW9uKHQpe28uRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lLHRoaXMuX2dldE1hcFBhbmVQb3MoKS5zdWJ0cmFjdCh0KSl9LF9nZXRab29tU3BhbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1heFpvb20oKS10aGlzLmdldE1pblpvb20oKX0sX3VwZGF0ZVpvb21MZXZlbHM6ZnVuY3Rpb24oKXt2YXIgdCxlPTEvMCxuPS0oMS8wKSxvPXRoaXMuX2dldFpvb21TcGFuKCk7Zm9yKHQgaW4gdGhpcy5fem9vbUJvdW5kTGF5ZXJzKXt2YXIgcz10aGlzLl96b29tQm91bmRMYXllcnNbdF07aXNOYU4ocy5vcHRpb25zLm1pblpvb20pfHwoZT1NYXRoLm1pbihlLHMub3B0aW9ucy5taW5ab29tKSksaXNOYU4ocy5vcHRpb25zLm1heFpvb20pfHwobj1NYXRoLm1heChuLHMub3B0aW9ucy5tYXhab29tKSl9dD09PWk/dGhpcy5fbGF5ZXJzTWF4Wm9vbT10aGlzLl9sYXllcnNNaW5ab29tPWk6KHRoaXMuX2xheWVyc01heFpvb209bix0aGlzLl9sYXllcnNNaW5ab29tPWUpLG8hPT10aGlzLl9nZXRab29tU3BhbigpJiZ0aGlzLmZpcmUoInpvb21sZXZlbHNjaGFuZ2UiKX0sX3Bhbkluc2lkZU1heEJvdW5kczpmdW5jdGlvbigpe3RoaXMucGFuSW5zaWRlQm91bmRzKHRoaXMub3B0aW9ucy5tYXhCb3VuZHMpfSxfY2hlY2tJZkxvYWRlZDpmdW5jdGlvbigpe2lmKCF0aGlzLl9sb2FkZWQpdGhyb3cgbmV3IEVycm9yKCJTZXQgbWFwIGNlbnRlciBhbmQgem9vbSBmaXJzdC4iKX0sX2luaXRFdmVudHM6ZnVuY3Rpb24oZSl7aWYoby5Eb21FdmVudCl7ZT1lfHwib24iLG8uRG9tRXZlbnRbZV0odGhpcy5fY29udGFpbmVyLCJjbGljayIsdGhpcy5fb25Nb3VzZUNsaWNrLHRoaXMpO3ZhciBpLG4scz1bImRibGNsaWNrIiwibW91c2Vkb3duIiwibW91c2V1cCIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiwibW91c2Vtb3ZlIiwiY29udGV4dG1lbnUiXTtmb3IoaT0wLG49cy5sZW5ndGg7bj5pO2krKylvLkRvbUV2ZW50W2VdKHRoaXMuX2NvbnRhaW5lcixzW2ldLHRoaXMuX2ZpcmVNb3VzZUV2ZW50LHRoaXMpO3RoaXMub3B0aW9ucy50cmFja1Jlc2l6ZSYmby5Eb21FdmVudFtlXSh0LCJyZXNpemUiLHRoaXMuX29uUmVzaXplLHRoaXMpfX0sX29uUmVzaXplOmZ1bmN0aW9uKCl7by5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9yZXNpemVSZXF1ZXN0KSx0aGlzLl9yZXNpemVSZXF1ZXN0PW8uVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKCl7dGhpcy5pbnZhbGlkYXRlU2l6ZSh7ZGVib3VuY2VNb3ZlZW5kOiEwfSl9LHRoaXMsITEsdGhpcy5fY29udGFpbmVyKX0sX29uTW91c2VDbGljazpmdW5jdGlvbih0KXshdGhpcy5fbG9hZGVkfHwhdC5fc2ltdWxhdGVkJiYodGhpcy5kcmFnZ2luZyYmdGhpcy5kcmFnZ2luZy5tb3ZlZCgpfHx0aGlzLmJveFpvb20mJnRoaXMuYm94Wm9vbS5tb3ZlZCgpKXx8by5Eb21FdmVudC5fc2tpcHBlZCh0KXx8KHRoaXMuZmlyZSgicHJlY2xpY2siKSx0aGlzLl9maXJlTW91c2VFdmVudCh0KSl9LF9maXJlTW91c2VFdmVudDpmdW5jdGlvbih0KXtpZih0aGlzLl9sb2FkZWQmJiFvLkRvbUV2ZW50Ll9za2lwcGVkKHQpKXt2YXIgZT10LnR5cGU7aWYoZT0ibW91c2VlbnRlciI9PT1lPyJtb3VzZW92ZXIiOiJtb3VzZWxlYXZlIj09PWU/Im1vdXNlb3V0IjplLHRoaXMuaGFzRXZlbnRMaXN0ZW5lcnMoZSkpeyJjb250ZXh0bWVudSI9PT1lJiZvLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpO3ZhciBpPXRoaXMubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQodCksbj10aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KGkpLHM9dGhpcy5sYXllclBvaW50VG9MYXRMbmcobik7dGhpcy5maXJlKGUse2xhdGxuZzpzLGxheWVyUG9pbnQ6bixjb250YWluZXJQb2ludDppLG9yaWdpbmFsRXZlbnQ6dH0pfX19LF9vblRpbGVMYXllckxvYWQ6ZnVuY3Rpb24oKXt0aGlzLl90aWxlTGF5ZXJzVG9Mb2FkLS0sdGhpcy5fdGlsZUxheWVyc051bSYmIXRoaXMuX3RpbGVMYXllcnNUb0xvYWQmJnRoaXMuZmlyZSgidGlsZWxheWVyc2xvYWQiKX0sX2NsZWFySGFuZGxlcnM6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMuX2hhbmRsZXJzLmxlbmd0aDtlPnQ7dCsrKXRoaXMuX2hhbmRsZXJzW3RdLmRpc2FibGUoKX0sd2hlblJlYWR5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2xvYWRlZD90LmNhbGwoZXx8dGhpcyx0aGlzKTp0aGlzLm9uKCJsb2FkIix0LGUpLHRoaXN9LF9sYXllckFkZDpmdW5jdGlvbih0KXt0Lm9uQWRkKHRoaXMpLHRoaXMuZmlyZSgibGF5ZXJhZGQiLHtsYXllcjp0fSl9LF9nZXRNYXBQYW5lUG9zOmZ1bmN0aW9uKCl7cmV0dXJuIG8uRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lKX0sX21vdmVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0TWFwUGFuZVBvcygpO3JldHVybiB0JiYhdC5lcXVhbHMoWzAsMF0pfSxfZ2V0VG9wTGVmdFBvaW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGl4ZWxPcmlnaW4oKS5zdWJ0cmFjdCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpfSxfZ2V0TmV3VG9wTGVmdFBvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRTaXplKCkuX2RpdmlkZUJ5KDIpO3JldHVybiB0aGlzLnByb2plY3QodCxlKS5fc3VidHJhY3QoaSkuX3JvdW5kKCl9LF9sYXRMbmdUb05ld0xheWVyUG9pbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2dldE5ld1RvcExlZnRQb2ludChpLGUpLmFkZCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpO3JldHVybiB0aGlzLnByb2plY3QodCxlKS5fc3VidHJhY3Qobil9LF9nZXRDZW50ZXJMYXllclBvaW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQodGhpcy5nZXRTaXplKCkuX2RpdmlkZUJ5KDIpKX0sX2dldENlbnRlck9mZnNldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sYXRMbmdUb0xheWVyUG9pbnQodCkuc3VidHJhY3QodGhpcy5fZ2V0Q2VudGVyTGF5ZXJQb2ludCgpKX0sX2xpbWl0Q2VudGVyOmZ1bmN0aW9uKHQsZSxpKXtpZighaSlyZXR1cm4gdDt2YXIgbj10aGlzLnByb2plY3QodCxlKSxzPXRoaXMuZ2V0U2l6ZSgpLmRpdmlkZUJ5KDIpLGE9bmV3IG8uQm91bmRzKG4uc3VidHJhY3Qocyksbi5hZGQocykpLHI9dGhpcy5fZ2V0Qm91bmRzT2Zmc2V0KGEsaSxlKTtyZXR1cm4gdGhpcy51bnByb2plY3Qobi5hZGQociksZSl9LF9saW1pdE9mZnNldDpmdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybiB0O3ZhciBpPXRoaXMuZ2V0UGl4ZWxCb3VuZHMoKSxuPW5ldyBvLkJvdW5kcyhpLm1pbi5hZGQodCksaS5tYXguYWRkKHQpKTtyZXR1cm4gdC5hZGQodGhpcy5fZ2V0Qm91bmRzT2Zmc2V0KG4sZSkpfSxfZ2V0Qm91bmRzT2Zmc2V0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLnByb2plY3QoZS5nZXROb3J0aFdlc3QoKSxpKS5zdWJ0cmFjdCh0Lm1pbikscz10aGlzLnByb2plY3QoZS5nZXRTb3V0aEVhc3QoKSxpKS5zdWJ0cmFjdCh0Lm1heCksYT10aGlzLl9yZWJvdW5kKG4ueCwtcy54KSxyPXRoaXMuX3JlYm91bmQobi55LC1zLnkpO3JldHVybiBuZXcgby5Qb2ludChhLHIpfSxfcmVib3VuZDpmdW5jdGlvbih0LGUpe3JldHVybiB0K2U+MD9NYXRoLnJvdW5kKHQtZSkvMjpNYXRoLm1heCgwLE1hdGguY2VpbCh0KSktTWF0aC5tYXgoMCxNYXRoLmZsb29yKGUpKX0sX2xpbWl0Wm9vbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldE1pblpvb20oKSxpPXRoaXMuZ2V0TWF4Wm9vbSgpO3JldHVybiBNYXRoLm1heChlLE1hdGgubWluKGksdCkpfX0pLG8ubWFwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBvLk1hcCh0LGUpfSxvLlByb2plY3Rpb24uTWVyY2F0b3I9e01BWF9MQVRJVFVERTo4NS4wODQwNTkxNTU2LFJfTUlOT1I6NjM1Njc1Mi4zMTQyNDUxNzksUl9NQUpPUjo2Mzc4MTM3LHByb2plY3Q6ZnVuY3Rpb24odCl7dmFyIGU9by5MYXRMbmcuREVHX1RPX1JBRCxpPXRoaXMuTUFYX0xBVElUVURFLG49TWF0aC5tYXgoTWF0aC5taW4oaSx0LmxhdCksLWkpLHM9dGhpcy5SX01BSk9SLGE9dGhpcy5SX01JTk9SLHI9dC5sbmcqZSpzLGg9biplLGw9YS9zLHU9TWF0aC5zcXJ0KDEtbCpsKSxjPXUqTWF0aC5zaW4oaCk7Yz1NYXRoLnBvdygoMS1jKS8oMStjKSwuNSp1KTt2YXIgZD1NYXRoLnRhbiguNSooLjUqTWF0aC5QSS1oKSkvYztyZXR1cm4gaD0tcypNYXRoLmxvZyhkKSxuZXcgby5Qb2ludChyLGgpfSx1bnByb2plY3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9by5MYXRMbmcuUkFEX1RPX0RFRyxuPXRoaXMuUl9NQUpPUixzPXRoaXMuUl9NSU5PUixhPXQueCppL24scj1zL24saD1NYXRoLnNxcnQoMS1yKnIpLGw9TWF0aC5leHAoLXQueS9uKSx1PU1hdGguUEkvMi0yKk1hdGguYXRhbihsKSxjPTE1LGQ9MWUtNyxwPWMsXz0uMTtNYXRoLmFicyhfKT5kJiYtLXA+MDspZT1oKk1hdGguc2luKHUpLF89TWF0aC5QSS8yLTIqTWF0aC5hdGFuKGwqTWF0aC5wb3coKDEtZSkvKDErZSksLjUqaCkpLXUsdSs9XztyZXR1cm4gbmV3IG8uTGF0TG5nKHUqaSxhKX19LG8uQ1JTLkVQU0czMzk1PW8uZXh0ZW5kKHt9LG8uQ1JTLHtjb2RlOiJFUFNHOjMzOTUiLHByb2plY3Rpb246by5Qcm9qZWN0aW9uLk1lcmNhdG9yLAp0cmFuc2Zvcm1hdGlvbjpmdW5jdGlvbigpe3ZhciB0PW8uUHJvamVjdGlvbi5NZXJjYXRvcixlPXQuUl9NQUpPUixpPS41LyhNYXRoLlBJKmUpO3JldHVybiBuZXcgby5UcmFuc2Zvcm1hdGlvbihpLC41LC1pLC41KX0oKX0pLG8uVGlsZUxheWVyPW8uQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpvLk1peGluLkV2ZW50cyxvcHRpb25zOnttaW5ab29tOjAsbWF4Wm9vbToxOCx0aWxlU2l6ZToyNTYsc3ViZG9tYWluczoiYWJjIixlcnJvclRpbGVVcmw6IiIsYXR0cmlidXRpb246IiIsem9vbU9mZnNldDowLG9wYWNpdHk6MSx1bmxvYWRJbnZpc2libGVUaWxlczpvLkJyb3dzZXIubW9iaWxlLHVwZGF0ZVdoZW5JZGxlOm8uQnJvd3Nlci5tb2JpbGV9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtlPW8uc2V0T3B0aW9ucyh0aGlzLGUpLGUuZGV0ZWN0UmV0aW5hJiZvLkJyb3dzZXIucmV0aW5hJiZlLm1heFpvb20+MCYmKGUudGlsZVNpemU9TWF0aC5mbG9vcihlLnRpbGVTaXplLzIpLGUuem9vbU9mZnNldCsrLGUubWluWm9vbT4wJiZlLm1pblpvb20tLSx0aGlzLm9wdGlvbnMubWF4Wm9vbS0tKSxlLmJvdW5kcyYmKGUuYm91bmRzPW8ubGF0TG5nQm91bmRzKGUuYm91bmRzKSksdGhpcy5fdXJsPXQ7dmFyIGk9dGhpcy5vcHRpb25zLnN1YmRvbWFpbnM7InN0cmluZyI9PXR5cGVvZiBpJiYodGhpcy5vcHRpb25zLnN1YmRvbWFpbnM9aS5zcGxpdCgiIikpfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9hbmltYXRlZD10Ll96b29tQW5pbWF0ZWQsdGhpcy5faW5pdENvbnRhaW5lcigpLHQub24oe3ZpZXdyZXNldDp0aGlzLl9yZXNldCxtb3ZlZW5kOnRoaXMuX3VwZGF0ZX0sdGhpcyksdGhpcy5fYW5pbWF0ZWQmJnQub24oe3pvb21hbmltOnRoaXMuX2FuaW1hdGVab29tLHpvb21lbmQ6dGhpcy5fZW5kWm9vbUFuaW19LHRoaXMpLHRoaXMub3B0aW9ucy51cGRhdGVXaGVuSWRsZXx8KHRoaXMuX2xpbWl0ZWRVcGRhdGU9by5VdGlsLmxpbWl0RXhlY0J5SW50ZXJ2YWwodGhpcy5fdXBkYXRlLDE1MCx0aGlzKSx0Lm9uKCJtb3ZlIix0aGlzLl9saW1pdGVkVXBkYXRlLHRoaXMpKSx0aGlzLl9yZXNldCgpLHRoaXMuX3VwZGF0ZSgpfSxhZGRUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRMYXllcih0aGlzKSx0aGlzfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLl9jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpLHQub2ZmKHt2aWV3cmVzZXQ6dGhpcy5fcmVzZXQsbW92ZWVuZDp0aGlzLl91cGRhdGV9LHRoaXMpLHRoaXMuX2FuaW1hdGVkJiZ0Lm9mZih7em9vbWFuaW06dGhpcy5fYW5pbWF0ZVpvb20sem9vbWVuZDp0aGlzLl9lbmRab29tQW5pbX0sdGhpcyksdGhpcy5vcHRpb25zLnVwZGF0ZVdoZW5JZGxlfHx0Lm9mZigibW92ZSIsdGhpcy5fbGltaXRlZFVwZGF0ZSx0aGlzKSx0aGlzLl9jb250YWluZXI9bnVsbCx0aGlzLl9tYXA9bnVsbH0sYnJpbmdUb0Zyb250OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLl9wYW5lcy50aWxlUGFuZTtyZXR1cm4gdGhpcy5fY29udGFpbmVyJiYodC5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpLHRoaXMuX3NldEF1dG9aSW5kZXgodCxNYXRoLm1heCkpLHRoaXN9LGJyaW5nVG9CYWNrOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLl9wYW5lcy50aWxlUGFuZTtyZXR1cm4gdGhpcy5fY29udGFpbmVyJiYodC5pbnNlcnRCZWZvcmUodGhpcy5fY29udGFpbmVyLHQuZmlyc3RDaGlsZCksdGhpcy5fc2V0QXV0b1pJbmRleCh0LE1hdGgubWluKSksdGhpc30sZ2V0QXR0cmlidXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmF0dHJpYnV0aW9ufSxnZXRDb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMub3BhY2l0eT10LHRoaXMuX21hcCYmdGhpcy5fdXBkYXRlT3BhY2l0eSgpLHRoaXN9LHNldFpJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLnpJbmRleD10LHRoaXMuX3VwZGF0ZVpJbmRleCgpLHRoaXN9LHNldFVybDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl91cmw9dCxlfHx0aGlzLnJlZHJhdygpLHRoaXN9LHJlZHJhdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXAmJih0aGlzLl9yZXNldCh7aGFyZDohMH0pLHRoaXMuX3VwZGF0ZSgpKSx0aGlzfSxfdXBkYXRlWkluZGV4OmZ1bmN0aW9uKCl7dGhpcy5fY29udGFpbmVyJiZ0aGlzLm9wdGlvbnMuekluZGV4IT09aSYmKHRoaXMuX2NvbnRhaW5lci5zdHlsZS56SW5kZXg9dGhpcy5vcHRpb25zLnpJbmRleCl9LF9zZXRBdXRvWkluZGV4OmZ1bmN0aW9uKHQsZSl7dmFyIGksbixvLHM9dC5jaGlsZHJlbixhPS1lKDEvMCwtKDEvMCkpO2ZvcihuPTAsbz1zLmxlbmd0aDtvPm47bisrKXNbbl0hPT10aGlzLl9jb250YWluZXImJihpPXBhcnNlSW50KHNbbl0uc3R5bGUuekluZGV4LDEwKSxpc05hTihpKXx8KGE9ZShhLGkpKSk7dGhpcy5vcHRpb25zLnpJbmRleD10aGlzLl9jb250YWluZXIuc3R5bGUuekluZGV4PShpc0Zpbml0ZShhKT9hOjApK2UoMSwtMSl9LF91cGRhdGVPcGFjaXR5OmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl90aWxlcztpZihvLkJyb3dzZXIuaWVsdDkpZm9yKHQgaW4gZSlvLkRvbVV0aWwuc2V0T3BhY2l0eShlW3RdLHRoaXMub3B0aW9ucy5vcGFjaXR5KTtlbHNlIG8uRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lcix0aGlzLm9wdGlvbnMub3BhY2l0eSl9LF9pbml0Q29udGFpbmVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLl9wYW5lcy50aWxlUGFuZTtpZighdGhpcy5fY29udGFpbmVyKXtpZih0aGlzLl9jb250YWluZXI9by5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibGVhZmxldC1sYXllciIpLHRoaXMuX3VwZGF0ZVpJbmRleCgpLHRoaXMuX2FuaW1hdGVkKXt2YXIgZT0ibGVhZmxldC10aWxlLWNvbnRhaW5lciI7dGhpcy5fYmdCdWZmZXI9by5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fdGlsZUNvbnRhaW5lcj1vLkRvbVV0aWwuY3JlYXRlKCJkaXYiLGUsdGhpcy5fY29udGFpbmVyKX1lbHNlIHRoaXMuX3RpbGVDb250YWluZXI9dGhpcy5fY29udGFpbmVyO3QuYXBwZW5kQ2hpbGQodGhpcy5fY29udGFpbmVyKSx0aGlzLm9wdGlvbnMub3BhY2l0eTwxJiZ0aGlzLl91cGRhdGVPcGFjaXR5KCl9fSxfcmVzZXQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuX3RpbGVzKXRoaXMuZmlyZSgidGlsZXVubG9hZCIse3RpbGU6dGhpcy5fdGlsZXNbZV19KTt0aGlzLl90aWxlcz17fSx0aGlzLl90aWxlc1RvTG9hZD0wLHRoaXMub3B0aW9ucy5yZXVzZVRpbGVzJiYodGhpcy5fdW51c2VkVGlsZXM9W10pLHRoaXMuX3RpbGVDb250YWluZXIuaW5uZXJIVE1MPSIiLHRoaXMuX2FuaW1hdGVkJiZ0JiZ0LmhhcmQmJnRoaXMuX2NsZWFyQmdCdWZmZXIoKSx0aGlzLl9pbml0Q29udGFpbmVyKCl9LF9nZXRUaWxlU2l6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcCxlPXQuZ2V0Wm9vbSgpK3RoaXMub3B0aW9ucy56b29tT2Zmc2V0LGk9dGhpcy5vcHRpb25zLm1heE5hdGl2ZVpvb20sbj10aGlzLm9wdGlvbnMudGlsZVNpemU7cmV0dXJuIGkmJmU+aSYmKG49TWF0aC5yb3VuZCh0LmdldFpvb21TY2FsZShlKS90LmdldFpvb21TY2FsZShpKSpuKSksbn0sX3VwZGF0ZTpmdW5jdGlvbigpe2lmKHRoaXMuX21hcCl7dmFyIHQ9dGhpcy5fbWFwLGU9dC5nZXRQaXhlbEJvdW5kcygpLGk9dC5nZXRab29tKCksbj10aGlzLl9nZXRUaWxlU2l6ZSgpO2lmKCEoaT50aGlzLm9wdGlvbnMubWF4Wm9vbXx8aTx0aGlzLm9wdGlvbnMubWluWm9vbSkpe3ZhciBzPW8uYm91bmRzKGUubWluLmRpdmlkZUJ5KG4pLl9mbG9vcigpLGUubWF4LmRpdmlkZUJ5KG4pLl9mbG9vcigpKTt0aGlzLl9hZGRUaWxlc0Zyb21DZW50ZXJPdXQocyksKHRoaXMub3B0aW9ucy51bmxvYWRJbnZpc2libGVUaWxlc3x8dGhpcy5vcHRpb25zLnJldXNlVGlsZXMpJiZ0aGlzLl9yZW1vdmVPdGhlclRpbGVzKHMpfX19LF9hZGRUaWxlc0Zyb21DZW50ZXJPdXQ6ZnVuY3Rpb24odCl7dmFyIGksbixzLGE9W10scj10LmdldENlbnRlcigpO2ZvcihpPXQubWluLnk7aTw9dC5tYXgueTtpKyspZm9yKG49dC5taW4ueDtuPD10Lm1heC54O24rKylzPW5ldyBvLlBvaW50KG4saSksdGhpcy5fdGlsZVNob3VsZEJlTG9hZGVkKHMpJiZhLnB1c2gocyk7dmFyIGg9YS5sZW5ndGg7aWYoMCE9PWgpe2Euc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LmRpc3RhbmNlVG8ociktZS5kaXN0YW5jZVRvKHIpfSk7dmFyIGw9ZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKHRoaXMuX3RpbGVzVG9Mb2FkfHx0aGlzLmZpcmUoImxvYWRpbmciKSx0aGlzLl90aWxlc1RvTG9hZCs9aCxuPTA7aD5uO24rKyl0aGlzLl9hZGRUaWxlKGFbbl0sbCk7dGhpcy5fdGlsZUNvbnRhaW5lci5hcHBlbmRDaGlsZChsKX19LF90aWxlU2hvdWxkQmVMb2FkZWQ6ZnVuY3Rpb24odCl7aWYodC54KyI6Iit0LnkgaW4gdGhpcy5fdGlsZXMpcmV0dXJuITE7dmFyIGU9dGhpcy5vcHRpb25zO2lmKCFlLmNvbnRpbnVvdXNXb3JsZCl7dmFyIGk9dGhpcy5fZ2V0V3JhcFRpbGVOdW0oKTtpZihlLm5vV3JhcCYmKHQueDwwfHx0Lng+PWkueCl8fHQueTwwfHx0Lnk+PWkueSlyZXR1cm4hMX1pZihlLmJvdW5kcyl7dmFyIG49dGhpcy5fZ2V0VGlsZVNpemUoKSxvPXQubXVsdGlwbHlCeShuKSxzPW8uYWRkKFtuLG5dKSxhPXRoaXMuX21hcC51bnByb2plY3Qobykscj10aGlzLl9tYXAudW5wcm9qZWN0KHMpO2lmKGUuY29udGludW91c1dvcmxkfHxlLm5vV3JhcHx8KGE9YS53cmFwKCkscj1yLndyYXAoKSksIWUuYm91bmRzLmludGVyc2VjdHMoW2Escl0pKXJldHVybiExfXJldHVybiEwfSxfcmVtb3ZlT3RoZXJUaWxlczpmdW5jdGlvbih0KXt2YXIgZSxpLG4sbztmb3IobyBpbiB0aGlzLl90aWxlcyllPW8uc3BsaXQoIjoiKSxpPXBhcnNlSW50KGVbMF0sMTApLG49cGFyc2VJbnQoZVsxXSwxMCksKGk8dC5taW4ueHx8aT50Lm1heC54fHxuPHQubWluLnl8fG4+dC5tYXgueSkmJnRoaXMuX3JlbW92ZVRpbGUobyl9LF9yZW1vdmVUaWxlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RpbGVzW3RdO3RoaXMuZmlyZSgidGlsZXVubG9hZCIse3RpbGU6ZSx1cmw6ZS5zcmN9KSx0aGlzLm9wdGlvbnMucmV1c2VUaWxlcz8oby5Eb21VdGlsLnJlbW92ZUNsYXNzKGUsImxlYWZsZXQtdGlsZS1sb2FkZWQiKSx0aGlzLl91bnVzZWRUaWxlcy5wdXNoKGUpKTplLnBhcmVudE5vZGU9PT10aGlzLl90aWxlQ29udGFpbmVyJiZ0aGlzLl90aWxlQ29udGFpbmVyLnJlbW92ZUNoaWxkKGUpLG8uQnJvd3Nlci5hbmRyb2lkfHwoZS5vbmxvYWQ9bnVsbCxlLnNyYz1vLlV0aWwuZW1wdHlJbWFnZVVybCksZGVsZXRlIHRoaXMuX3RpbGVzW3RdfSxfYWRkVGlsZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2dldFRpbGVQb3ModCksbj10aGlzLl9nZXRUaWxlKCk7by5Eb21VdGlsLnNldFBvc2l0aW9uKG4saSxvLkJyb3dzZXIuY2hyb21lKSx0aGlzLl90aWxlc1t0LngrIjoiK3QueV09bix0aGlzLl9sb2FkVGlsZShuLHQpLG4ucGFyZW50Tm9kZSE9PXRoaXMuX3RpbGVDb250YWluZXImJmUuYXBwZW5kQ2hpbGQobil9LF9nZXRab29tRm9yVXJsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLGU9dGhpcy5fbWFwLmdldFpvb20oKTtyZXR1cm4gdC56b29tUmV2ZXJzZSYmKGU9dC5tYXhab29tLWUpLGUrPXQuem9vbU9mZnNldCx0Lm1heE5hdGl2ZVpvb20/TWF0aC5taW4oZSx0Lm1heE5hdGl2ZVpvb20pOmV9LF9nZXRUaWxlUG9zOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcC5nZXRQaXhlbE9yaWdpbigpLGk9dGhpcy5fZ2V0VGlsZVNpemUoKTtyZXR1cm4gdC5tdWx0aXBseUJ5KGkpLnN1YnRyYWN0KGUpfSxnZXRUaWxlVXJsOmZ1bmN0aW9uKHQpe3JldHVybiBvLlV0aWwudGVtcGxhdGUodGhpcy5fdXJsLG8uZXh0ZW5kKHtzOnRoaXMuX2dldFN1YmRvbWFpbih0KSx6OnQueix4OnQueCx5OnQueX0sdGhpcy5vcHRpb25zKSl9LF9nZXRXcmFwVGlsZU51bTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5vcHRpb25zLmNycyxlPXQuZ2V0U2l6ZSh0aGlzLl9tYXAuZ2V0Wm9vbSgpKTtyZXR1cm4gZS5kaXZpZGVCeSh0aGlzLl9nZXRUaWxlU2l6ZSgpKS5fZmxvb3IoKX0sX2FkanVzdFRpbGVQb2ludDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXRXcmFwVGlsZU51bSgpO3RoaXMub3B0aW9ucy5jb250aW51b3VzV29ybGR8fHRoaXMub3B0aW9ucy5ub1dyYXB8fCh0Lng9KHQueCVlLngrZS54KSVlLngpLHRoaXMub3B0aW9ucy50bXMmJih0Lnk9ZS55LXQueS0xKSx0Lno9dGhpcy5fZ2V0Wm9vbUZvclVybCgpfSxfZ2V0U3ViZG9tYWluOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguYWJzKHQueCt0LnkpJXRoaXMub3B0aW9ucy5zdWJkb21haW5zLmxlbmd0aDtyZXR1cm4gdGhpcy5vcHRpb25zLnN1YmRvbWFpbnNbZV19LF9nZXRUaWxlOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLnJldXNlVGlsZXMmJnRoaXMuX3VudXNlZFRpbGVzLmxlbmd0aD4wKXt2YXIgdD10aGlzLl91bnVzZWRUaWxlcy5wb3AoKTtyZXR1cm4gdGhpcy5fcmVzZXRUaWxlKHQpLHR9cmV0dXJuIHRoaXMuX2NyZWF0ZVRpbGUoKX0sX3Jlc2V0VGlsZTpmdW5jdGlvbigpe30sX2NyZWF0ZVRpbGU6ZnVuY3Rpb24oKXt2YXIgdD1vLkRvbVV0aWwuY3JlYXRlKCJpbWciLCJsZWFmbGV0LXRpbGUiKTtyZXR1cm4gdC5zdHlsZS53aWR0aD10LnN0eWxlLmhlaWdodD10aGlzLl9nZXRUaWxlU2l6ZSgpKyJweCIsdC5nYWxsZXJ5aW1nPSJubyIsdC5vbnNlbGVjdHN0YXJ0PXQub25tb3VzZW1vdmU9by5VdGlsLmZhbHNlRm4sby5Ccm93c2VyLmllbHQ5JiZ0aGlzLm9wdGlvbnMub3BhY2l0eSE9PWkmJm8uRG9tVXRpbC5zZXRPcGFjaXR5KHQsdGhpcy5vcHRpb25zLm9wYWNpdHkpLG8uQnJvd3Nlci5tb2JpbGVXZWJraXQzZCYmKHQuc3R5bGUuV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5PSJoaWRkZW4iKSx0fSxfbG9hZFRpbGU6ZnVuY3Rpb24odCxlKXt0Ll9sYXllcj10aGlzLHQub25sb2FkPXRoaXMuX3RpbGVPbkxvYWQsdC5vbmVycm9yPXRoaXMuX3RpbGVPbkVycm9yLHRoaXMuX2FkanVzdFRpbGVQb2ludChlKSx0LnNyYz10aGlzLmdldFRpbGVVcmwoZSksdGhpcy5maXJlKCJ0aWxlbG9hZHN0YXJ0Iix7dGlsZTp0LHVybDp0LnNyY30pfSxfdGlsZUxvYWRlZDpmdW5jdGlvbigpe3RoaXMuX3RpbGVzVG9Mb2FkLS0sdGhpcy5fYW5pbWF0ZWQmJm8uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl90aWxlQ29udGFpbmVyLCJsZWFmbGV0LXpvb20tYW5pbWF0ZWQiKSx0aGlzLl90aWxlc1RvTG9hZHx8KHRoaXMuZmlyZSgibG9hZCIpLHRoaXMuX2FuaW1hdGVkJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2NsZWFyQmdCdWZmZXJUaW1lciksdGhpcy5fY2xlYXJCZ0J1ZmZlclRpbWVyPXNldFRpbWVvdXQoby5iaW5kKHRoaXMuX2NsZWFyQmdCdWZmZXIsdGhpcyksNTAwKSkpfSxfdGlsZU9uTG9hZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2xheWVyO3RoaXMuc3JjIT09by5VdGlsLmVtcHR5SW1hZ2VVcmwmJihvLkRvbVV0aWwuYWRkQ2xhc3ModGhpcywibGVhZmxldC10aWxlLWxvYWRlZCIpLHQuZmlyZSgidGlsZWxvYWQiLHt0aWxlOnRoaXMsdXJsOnRoaXMuc3JjfSkpLHQuX3RpbGVMb2FkZWQoKX0sX3RpbGVPbkVycm9yOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbGF5ZXI7dC5maXJlKCJ0aWxlZXJyb3IiLHt0aWxlOnRoaXMsdXJsOnRoaXMuc3JjfSk7dmFyIGU9dC5vcHRpb25zLmVycm9yVGlsZVVybDtlJiYodGhpcy5zcmM9ZSksdC5fdGlsZUxvYWRlZCgpfX0pLG8udGlsZUxheWVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBvLlRpbGVMYXllcih0LGUpfSxvLlRpbGVMYXllci5XTVM9by5UaWxlTGF5ZXIuZXh0ZW5kKHtkZWZhdWx0V21zUGFyYW1zOntzZXJ2aWNlOiJXTVMiLHJlcXVlc3Q6IkdldE1hcCIsdmVyc2lvbjoiMS4xLjEiLGxheWVyczoiIixzdHlsZXM6IiIsZm9ybWF0OiJpbWFnZS9qcGVnIix0cmFuc3BhcmVudDohMX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX3VybD10O3ZhciBpPW8uZXh0ZW5kKHt9LHRoaXMuZGVmYXVsdFdtc1BhcmFtcyksbj1lLnRpbGVTaXplfHx0aGlzLm9wdGlvbnMudGlsZVNpemU7ZS5kZXRlY3RSZXRpbmEmJm8uQnJvd3Nlci5yZXRpbmE/aS53aWR0aD1pLmhlaWdodD0yKm46aS53aWR0aD1pLmhlaWdodD1uO2Zvcih2YXIgcyBpbiBlKXRoaXMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShzKXx8ImNycyI9PT1zfHwoaVtzXT1lW3NdKTt0aGlzLndtc1BhcmFtcz1pLG8uc2V0T3B0aW9ucyh0aGlzLGUpfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9jcnM9dGhpcy5vcHRpb25zLmNyc3x8dC5vcHRpb25zLmNycyx0aGlzLl93bXNWZXJzaW9uPXBhcnNlRmxvYXQodGhpcy53bXNQYXJhbXMudmVyc2lvbik7dmFyIGU9dGhpcy5fd21zVmVyc2lvbj49MS4zPyJjcnMiOiJzcnMiO3RoaXMud21zUGFyYW1zW2VdPXRoaXMuX2Nycy5jb2RlLG8uVGlsZUxheWVyLnByb3RvdHlwZS5vbkFkZC5jYWxsKHRoaXMsdCl9LGdldFRpbGVVcmw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLGk9dGhpcy5vcHRpb25zLnRpbGVTaXplLG49dC5tdWx0aXBseUJ5KGkpLHM9bi5hZGQoW2ksaV0pLGE9dGhpcy5fY3JzLnByb2plY3QoZS51bnByb2plY3Qobix0LnopKSxyPXRoaXMuX2Nycy5wcm9qZWN0KGUudW5wcm9qZWN0KHMsdC56KSksaD10aGlzLl93bXNWZXJzaW9uPj0xLjMmJnRoaXMuX2Nycz09PW8uQ1JTLkVQU0c0MzI2P1tyLnksYS54LGEueSxyLnhdLmpvaW4oIiwiKTpbYS54LHIueSxyLngsYS55XS5qb2luKCIsIiksbD1vLlV0aWwudGVtcGxhdGUodGhpcy5fdXJsLHtzOnRoaXMuX2dldFN1YmRvbWFpbih0KX0pO3JldHVybiBsK28uVXRpbC5nZXRQYXJhbVN0cmluZyh0aGlzLndtc1BhcmFtcyxsLCEwKSsiJkJCT1g9IitofSxzZXRQYXJhbXM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gby5leHRlbmQodGhpcy53bXNQYXJhbXMsdCksZXx8dGhpcy5yZWRyYXcoKSx0aGlzfX0pLG8udGlsZUxheWVyLndtcz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgby5UaWxlTGF5ZXIuV01TKHQsZSl9LG8uVGlsZUxheWVyLkNhbnZhcz1vLlRpbGVMYXllci5leHRlbmQoe29wdGlvbnM6e2FzeW5jOiExfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQpe28uc2V0T3B0aW9ucyh0aGlzLHQpfSxyZWRyYXc6ZnVuY3Rpb24oKXt0aGlzLl9tYXAmJih0aGlzLl9yZXNldCh7aGFyZDohMH0pLHRoaXMuX3VwZGF0ZSgpKTtmb3IodmFyIHQgaW4gdGhpcy5fdGlsZXMpdGhpcy5fcmVkcmF3VGlsZSh0aGlzLl90aWxlc1t0XSk7cmV0dXJuIHRoaXN9LF9yZWRyYXdUaWxlOmZ1bmN0aW9uKHQpe3RoaXMuZHJhd1RpbGUodCx0Ll90aWxlUG9pbnQsdGhpcy5fbWFwLl96b29tKX0sX2NyZWF0ZVRpbGU6ZnVuY3Rpb24oKXt2YXIgdD1vLkRvbVV0aWwuY3JlYXRlKCJjYW52YXMiLCJsZWFmbGV0LXRpbGUiKTtyZXR1cm4gdC53aWR0aD10LmhlaWdodD10aGlzLm9wdGlvbnMudGlsZVNpemUsdC5vbnNlbGVjdHN0YXJ0PXQub25tb3VzZW1vdmU9by5VdGlsLmZhbHNlRm4sdH0sX2xvYWRUaWxlOmZ1bmN0aW9uKHQsZSl7dC5fbGF5ZXI9dGhpcyx0Ll90aWxlUG9pbnQ9ZSx0aGlzLl9yZWRyYXdUaWxlKHQpLHRoaXMub3B0aW9ucy5hc3luY3x8dGhpcy50aWxlRHJhd24odCl9LGRyYXdUaWxlOmZ1bmN0aW9uKCl7fSx0aWxlRHJhd246ZnVuY3Rpb24odCl7dGhpcy5fdGlsZU9uTG9hZC5jYWxsKHQpfX0pLG8udGlsZUxheWVyLmNhbnZhcz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG8uVGlsZUxheWVyLkNhbnZhcyh0KX0sby5JbWFnZU92ZXJsYXk9by5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOm8uTWl4aW4uRXZlbnRzLG9wdGlvbnM6e29wYWNpdHk6MX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5fdXJsPXQsdGhpcy5fYm91bmRzPW8ubGF0TG5nQm91bmRzKGUpLG8uc2V0T3B0aW9ucyh0aGlzLGkpfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9pbWFnZXx8dGhpcy5faW5pdEltYWdlKCksdC5fcGFuZXMub3ZlcmxheVBhbmUuYXBwZW5kQ2hpbGQodGhpcy5faW1hZ2UpLHQub24oInZpZXdyZXNldCIsdGhpcy5fcmVzZXQsdGhpcyksdC5vcHRpb25zLnpvb21BbmltYXRpb24mJm8uQnJvd3Nlci5hbnkzZCYmdC5vbigiem9vbWFuaW0iLHRoaXMuX2FuaW1hdGVab29tLHRoaXMpLHRoaXMuX3Jlc2V0KCl9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3QuZ2V0UGFuZXMoKS5vdmVybGF5UGFuZS5yZW1vdmVDaGlsZCh0aGlzLl9pbWFnZSksdC5vZmYoInZpZXdyZXNldCIsdGhpcy5fcmVzZXQsdGhpcyksdC5vcHRpb25zLnpvb21BbmltYXRpb24mJnQub2ZmKCJ6b29tYW5pbSIsdGhpcy5fYW5pbWF0ZVpvb20sdGhpcyl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LHNldE9wYWNpdHk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5vcGFjaXR5PXQsdGhpcy5fdXBkYXRlT3BhY2l0eSgpLHRoaXN9LGJyaW5nVG9Gcm9udDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZSYmdGhpcy5fbWFwLl9wYW5lcy5vdmVybGF5UGFuZS5hcHBlbmRDaGlsZCh0aGlzLl9pbWFnZSksdGhpc30sYnJpbmdUb0JhY2s6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhbmVzLm92ZXJsYXlQYW5lO3JldHVybiB0aGlzLl9pbWFnZSYmdC5pbnNlcnRCZWZvcmUodGhpcy5faW1hZ2UsdC5maXJzdENoaWxkKSx0aGlzfSxzZXRVcmw6ZnVuY3Rpb24odCl7dGhpcy5fdXJsPXQsdGhpcy5faW1hZ2Uuc3JjPXRoaXMuX3VybH0sZ2V0QXR0cmlidXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmF0dHJpYnV0aW9ufSxfaW5pdEltYWdlOmZ1bmN0aW9uKCl7dGhpcy5faW1hZ2U9by5Eb21VdGlsLmNyZWF0ZSgiaW1nIiwibGVhZmxldC1pbWFnZS1sYXllciIpLHRoaXMuX21hcC5vcHRpb25zLnpvb21BbmltYXRpb24mJm8uQnJvd3Nlci5hbnkzZD9vLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5faW1hZ2UsImxlYWZsZXQtem9vbS1hbmltYXRlZCIpOm8uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9pbWFnZSwibGVhZmxldC16b29tLWhpZGUiKSx0aGlzLl91cGRhdGVPcGFjaXR5KCksby5leHRlbmQodGhpcy5faW1hZ2Use2dhbGxlcnlpbWc6Im5vIixvbnNlbGVjdHN0YXJ0Om8uVXRpbC5mYWxzZUZuLG9ubW91c2Vtb3ZlOm8uVXRpbC5mYWxzZUZuLG9ubG9hZDpvLmJpbmQodGhpcy5fb25JbWFnZUxvYWQsdGhpcyksc3JjOnRoaXMuX3VybH0pfSxfYW5pbWF0ZVpvb206ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLGk9dGhpcy5faW1hZ2Usbj1lLmdldFpvb21TY2FsZSh0Lnpvb20pLHM9dGhpcy5fYm91bmRzLmdldE5vcnRoV2VzdCgpLGE9dGhpcy5fYm91bmRzLmdldFNvdXRoRWFzdCgpLHI9ZS5fbGF0TG5nVG9OZXdMYXllclBvaW50KHMsdC56b29tLHQuY2VudGVyKSxoPWUuX2xhdExuZ1RvTmV3TGF5ZXJQb2ludChhLHQuem9vbSx0LmNlbnRlcikuX3N1YnRyYWN0KHIpLGw9ci5fYWRkKGguX211bHRpcGx5QnkoLjUqKDEtMS9uKSkpO2kuc3R5bGVbby5Eb21VdGlsLlRSQU5TRk9STV09by5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyhsKSsiIHNjYWxlKCIrbisiKSAifSxfcmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbWFnZSxlPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fYm91bmRzLmdldE5vcnRoV2VzdCgpKSxpPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fYm91bmRzLmdldFNvdXRoRWFzdCgpKS5fc3VidHJhY3QoZSk7by5Eb21VdGlsLnNldFBvc2l0aW9uKHQsZSksdC5zdHlsZS53aWR0aD1pLngrInB4Iix0LnN0eWxlLmhlaWdodD1pLnkrInB4In0sX29uSW1hZ2VMb2FkOmZ1bmN0aW9uKCl7dGhpcy5maXJlKCJsb2FkIil9LF91cGRhdGVPcGFjaXR5OmZ1bmN0aW9uKCl7by5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5faW1hZ2UsdGhpcy5vcHRpb25zLm9wYWNpdHkpfX0pLG8uaW1hZ2VPdmVybGF5PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IG8uSW1hZ2VPdmVybGF5KHQsZSxpKX0sby5JY29uPW8uQ2xhc3MuZXh0ZW5kKHtvcHRpb25zOntjbGFzc05hbWU6IiJ9LGluaXRpYWxpemU6ZnVuY3Rpb24odCl7by5zZXRPcHRpb25zKHRoaXMsdCl9LGNyZWF0ZUljb246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NyZWF0ZUljb24oImljb24iLHQpfSxjcmVhdGVTaGFkb3c6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NyZWF0ZUljb24oInNoYWRvdyIsdCl9LF9jcmVhdGVJY29uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZ2V0SWNvblVybCh0KTtpZighaSl7aWYoImljb24iPT09dCl0aHJvdyBuZXcgRXJyb3IoImljb25Vcmwgbm90IHNldCBpbiBJY29uIG9wdGlvbnMgKHNlZSB0aGUgZG9jcykuIik7cmV0dXJuIG51bGx9dmFyIG47cmV0dXJuIG49ZSYmIklNRyI9PT1lLnRhZ05hbWU/dGhpcy5fY3JlYXRlSW1nKGksZSk6dGhpcy5fY3JlYXRlSW1nKGkpLHRoaXMuX3NldEljb25TdHlsZXMobix0KSxufSxfc2V0SWNvblN0eWxlczpmdW5jdGlvbih0LGUpe3ZhciBpLG49dGhpcy5vcHRpb25zLHM9by5wb2ludChuW2UrIlNpemUiXSk7aT0ic2hhZG93Ij09PWU/by5wb2ludChuLnNoYWRvd0FuY2hvcnx8bi5pY29uQW5jaG9yKTpvLnBvaW50KG4uaWNvbkFuY2hvciksIWkmJnMmJihpPXMuZGl2aWRlQnkoMiwhMCkpLHQuY2xhc3NOYW1lPSJsZWFmbGV0LW1hcmtlci0iK2UrIiAiK24uY2xhc3NOYW1lLGkmJih0LnN0eWxlLm1hcmdpbkxlZnQ9LWkueCsicHgiLHQuc3R5bGUubWFyZ2luVG9wPS1pLnkrInB4IikscyYmKHQuc3R5bGUud2lkdGg9cy54KyJweCIsdC5zdHlsZS5oZWlnaHQ9cy55KyJweCIpfSxfY3JlYXRlSW1nOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIGk9aXx8ZS5jcmVhdGVFbGVtZW50KCJpbWciKSxpLnNyYz10LGl9LF9nZXRJY29uVXJsOmZ1bmN0aW9uKHQpe3JldHVybiBvLkJyb3dzZXIucmV0aW5hJiZ0aGlzLm9wdGlvbnNbdCsiUmV0aW5hVXJsIl0/dGhpcy5vcHRpb25zW3QrIlJldGluYVVybCJdOnRoaXMub3B0aW9uc1t0KyJVcmwiXX19KSxvLmljb249ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLkljb24odCl9LG8uSWNvbi5EZWZhdWx0PW8uSWNvbi5leHRlbmQoe29wdGlvbnM6e2ljb25TaXplOlsyNSw0MV0saWNvbkFuY2hvcjpbMTIsNDFdLHBvcHVwQW5jaG9yOlsxLC0zNF0sc2hhZG93U2l6ZTpbNDEsNDFdfSxfZ2V0SWNvblVybDpmdW5jdGlvbih0KXt2YXIgZT10KyJVcmwiO2lmKHRoaXMub3B0aW9uc1tlXSlyZXR1cm4gdGhpcy5vcHRpb25zW2VdO28uQnJvd3Nlci5yZXRpbmEmJiJpY29uIj09PXQmJih0Kz0iLTJ4Iik7dmFyIGk9by5JY29uLkRlZmF1bHQuaW1hZ2VQYXRoO2lmKCFpKXRocm93IG5ldyBFcnJvcigiQ291bGRuJ3QgYXV0b2RldGVjdCBMLkljb24uRGVmYXVsdC5pbWFnZVBhdGgsIHNldCBpdCBtYW51YWxseS4iKTtyZXR1cm4gaSsiL21hcmtlci0iK3QrIi5wbmcifX0pLG8uSWNvbi5EZWZhdWx0LmltYWdlUGF0aD1mdW5jdGlvbigpe3ZhciB0LGksbixvLHMsYT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxyPS9bXC9eXWxlYWZsZXRbXC1cLl9dPyhbXHdcLVwuX10qKVwuanNcPz8vO2Zvcih0PTAsaT1hLmxlbmd0aDtpPnQ7dCsrKWlmKG49YVt0XS5zcmMsbz1uLm1hdGNoKHIpKXJldHVybiBzPW4uc3BsaXQocilbMF0sKHM/cysiLyI6IiIpKyJpbWFnZXMifSgpLG8uTWFya2VyPW8uQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpvLk1peGluLkV2ZW50cyxvcHRpb25zOntpY29uOm5ldyBvLkljb24uRGVmYXVsdCx0aXRsZToiIixhbHQ6IiIsY2xpY2thYmxlOiEwLGRyYWdnYWJsZTohMSxrZXlib2FyZDohMCx6SW5kZXhPZmZzZXQ6MCxvcGFjaXR5OjEscmlzZU9uSG92ZXI6ITEscmlzZU9mZnNldDoyNTB9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtvLnNldE9wdGlvbnModGhpcyxlKSx0aGlzLl9sYXRsbmc9by5sYXRMbmcodCl9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHQub24oInZpZXdyZXNldCIsdGhpcy51cGRhdGUsdGhpcyksdGhpcy5faW5pdEljb24oKSx0aGlzLnVwZGF0ZSgpLHRoaXMuZmlyZSgiYWRkIiksdC5vcHRpb25zLnpvb21BbmltYXRpb24mJnQub3B0aW9ucy5tYXJrZXJab29tQW5pbWF0aW9uJiZ0Lm9uKCJ6b29tYW5pbSIsdGhpcy5fYW5pbWF0ZVpvb20sdGhpcyl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuZHJhZ2dpbmcmJnRoaXMuZHJhZ2dpbmcuZGlzYWJsZSgpLHRoaXMuX3JlbW92ZUljb24oKSx0aGlzLl9yZW1vdmVTaGFkb3coKSx0aGlzLmZpcmUoInJlbW92ZSIpLHQub2ZmKHt2aWV3cmVzZXQ6dGhpcy51cGRhdGUsem9vbWFuaW06dGhpcy5fYW5pbWF0ZVpvb219LHRoaXMpLHRoaXMuX21hcD1udWxsfSxnZXRMYXRMbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGF0bG5nfSxzZXRMYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xhdGxuZz1vLmxhdExuZyh0KSx0aGlzLnVwZGF0ZSgpLHRoaXMuZmlyZSgibW92ZSIse2xhdGxuZzp0aGlzLl9sYXRsbmd9KX0sc2V0WkluZGV4T2Zmc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuekluZGV4T2Zmc2V0PXQsdGhpcy51cGRhdGUoKSx0aGlzfSxzZXRJY29uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuaWNvbj10LHRoaXMuX21hcCYmKHRoaXMuX2luaXRJY29uKCksdGhpcy51cGRhdGUoKSksdGhpcy5fcG9wdXAmJnRoaXMuYmluZFBvcHVwKHRoaXMuX3BvcHVwKSx0aGlzfSx1cGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWNvbiYmdGhpcy5fc2V0UG9zKHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fbGF0bG5nKS5yb3VuZCgpKSx0aGlzfSxfaW5pdEljb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMsZT10aGlzLl9tYXAsaT1lLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmZS5vcHRpb25zLm1hcmtlclpvb21BbmltYXRpb24sbj1pPyJsZWFmbGV0LXpvb20tYW5pbWF0ZWQiOiJsZWFmbGV0LXpvb20taGlkZSIscz10Lmljb24uY3JlYXRlSWNvbih0aGlzLl9pY29uKSxhPSExO3MhPT10aGlzLl9pY29uJiYodGhpcy5faWNvbiYmdGhpcy5fcmVtb3ZlSWNvbigpLGE9ITAsdC50aXRsZSYmKHMudGl0bGU9dC50aXRsZSksdC5hbHQmJihzLmFsdD10LmFsdCkpLG8uRG9tVXRpbC5hZGRDbGFzcyhzLG4pLHQua2V5Ym9hcmQmJihzLnRhYkluZGV4PSIwIiksdGhpcy5faWNvbj1zLHRoaXMuX2luaXRJbnRlcmFjdGlvbigpLHQucmlzZU9uSG92ZXImJm8uRG9tRXZlbnQub24ocywibW91c2VvdmVyIix0aGlzLl9icmluZ1RvRnJvbnQsdGhpcykub24ocywibW91c2VvdXQiLHRoaXMuX3Jlc2V0WkluZGV4LHRoaXMpO3ZhciByPXQuaWNvbi5jcmVhdGVTaGFkb3codGhpcy5fc2hhZG93KSxoPSExO3IhPT10aGlzLl9zaGFkb3cmJih0aGlzLl9yZW1vdmVTaGFkb3coKSxoPSEwKSxyJiZvLkRvbVV0aWwuYWRkQ2xhc3MocixuKSx0aGlzLl9zaGFkb3c9cix0Lm9wYWNpdHk8MSYmdGhpcy5fdXBkYXRlT3BhY2l0eSgpO3ZhciBsPXRoaXMuX21hcC5fcGFuZXM7YSYmbC5tYXJrZXJQYW5lLmFwcGVuZENoaWxkKHRoaXMuX2ljb24pLHImJmgmJmwuc2hhZG93UGFuZS5hcHBlbmRDaGlsZCh0aGlzLl9zaGFkb3cpfSxfcmVtb3ZlSWNvbjpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5yaXNlT25Ib3ZlciYmby5Eb21FdmVudC5vZmYodGhpcy5faWNvbiwibW91c2VvdmVyIix0aGlzLl9icmluZ1RvRnJvbnQpLm9mZih0aGlzLl9pY29uLCJtb3VzZW91dCIsdGhpcy5fcmVzZXRaSW5kZXgpLHRoaXMuX21hcC5fcGFuZXMubWFya2VyUGFuZS5yZW1vdmVDaGlsZCh0aGlzLl9pY29uKSx0aGlzLl9pY29uPW51bGx9LF9yZW1vdmVTaGFkb3c6ZnVuY3Rpb24oKXt0aGlzLl9zaGFkb3cmJnRoaXMuX21hcC5fcGFuZXMuc2hhZG93UGFuZS5yZW1vdmVDaGlsZCh0aGlzLl9zaGFkb3cpLHRoaXMuX3NoYWRvdz1udWxsfSxfc2V0UG9zOmZ1bmN0aW9uKHQpe28uRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9pY29uLHQpLHRoaXMuX3NoYWRvdyYmby5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX3NoYWRvdyx0KSx0aGlzLl96SW5kZXg9dC55K3RoaXMub3B0aW9ucy56SW5kZXhPZmZzZXQsdGhpcy5fcmVzZXRaSW5kZXgoKX0sX3VwZGF0ZVpJbmRleDpmdW5jdGlvbih0KXt0aGlzLl9pY29uLnN0eWxlLnpJbmRleD10aGlzLl96SW5kZXgrdH0sX2FuaW1hdGVab29tOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcC5fbGF0TG5nVG9OZXdMYXllclBvaW50KHRoaXMuX2xhdGxuZyx0Lnpvb20sdC5jZW50ZXIpLnJvdW5kKCk7dGhpcy5fc2V0UG9zKGUpfSxfaW5pdEludGVyYWN0aW9uOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmNsaWNrYWJsZSl7dmFyIHQ9dGhpcy5faWNvbixlPVsiZGJsY2xpY2siLCJtb3VzZWRvd24iLCJtb3VzZW92ZXIiLCJtb3VzZW91dCIsImNvbnRleHRtZW51Il07by5Eb21VdGlsLmFkZENsYXNzKHQsImxlYWZsZXQtY2xpY2thYmxlIiksby5Eb21FdmVudC5vbih0LCJjbGljayIsdGhpcy5fb25Nb3VzZUNsaWNrLHRoaXMpLG8uRG9tRXZlbnQub24odCwia2V5cHJlc3MiLHRoaXMuX29uS2V5UHJlc3MsdGhpcyk7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspby5Eb21FdmVudC5vbih0LGVbaV0sdGhpcy5fZmlyZU1vdXNlRXZlbnQsdGhpcyk7by5IYW5kbGVyLk1hcmtlckRyYWcmJih0aGlzLmRyYWdnaW5nPW5ldyBvLkhhbmRsZXIuTWFya2VyRHJhZyh0aGlzKSx0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlJiZ0aGlzLmRyYWdnaW5nLmVuYWJsZSgpKX19LF9vbk1vdXNlQ2xpY2s6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kcmFnZ2luZyYmdGhpcy5kcmFnZ2luZy5tb3ZlZCgpOyh0aGlzLmhhc0V2ZW50TGlzdGVuZXJzKHQudHlwZSl8fGUpJiZvLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbih0KSxlfHwodGhpcy5kcmFnZ2luZyYmdGhpcy5kcmFnZ2luZy5fZW5hYmxlZHx8IXRoaXMuX21hcC5kcmFnZ2luZ3x8IXRoaXMuX21hcC5kcmFnZ2luZy5tb3ZlZCgpKSYmdGhpcy5maXJlKHQudHlwZSx7b3JpZ2luYWxFdmVudDp0LGxhdGxuZzp0aGlzLl9sYXRsbmd9KX0sX29uS2V5UHJlc3M6ZnVuY3Rpb24odCl7MTM9PT10LmtleUNvZGUmJnRoaXMuZmlyZSgiY2xpY2siLHtvcmlnaW5hbEV2ZW50OnQsbGF0bG5nOnRoaXMuX2xhdGxuZ30pfSxfZmlyZU1vdXNlRXZlbnQ6ZnVuY3Rpb24odCl7dGhpcy5maXJlKHQudHlwZSx7b3JpZ2luYWxFdmVudDp0LGxhdGxuZzp0aGlzLl9sYXRsbmd9KSwiY29udGV4dG1lbnUiPT09dC50eXBlJiZ0aGlzLmhhc0V2ZW50TGlzdGVuZXJzKHQudHlwZSkmJm8uRG9tRXZlbnQucHJldmVudERlZmF1bHQodCksIm1vdXNlZG93biIhPT10LnR5cGU/by5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24odCk6by5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KX0sc2V0T3BhY2l0eTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLm9wYWNpdHk9dCx0aGlzLl9tYXAmJnRoaXMuX3VwZGF0ZU9wYWNpdHkoKSx0aGlzfSxfdXBkYXRlT3BhY2l0eTpmdW5jdGlvbigpe28uRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2ljb24sdGhpcy5vcHRpb25zLm9wYWNpdHkpLHRoaXMuX3NoYWRvdyYmby5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5fc2hhZG93LHRoaXMub3B0aW9ucy5vcGFjaXR5KX0sX2JyaW5nVG9Gcm9udDpmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZVpJbmRleCh0aGlzLm9wdGlvbnMucmlzZU9mZnNldCl9LF9yZXNldFpJbmRleDpmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZVpJbmRleCgwKX19KSxvLm1hcmtlcj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgby5NYXJrZXIodCxlKX0sby5EaXZJY29uPW8uSWNvbi5leHRlbmQoe29wdGlvbnM6e2ljb25TaXplOlsxMiwxMl0sY2xhc3NOYW1lOiJsZWFmbGV0LWRpdi1pY29uIixodG1sOiExfSxjcmVhdGVJY29uOmZ1bmN0aW9uKHQpe3ZhciBpPXQmJiJESVYiPT09dC50YWdOYW1lP3Q6ZS5jcmVhdGVFbGVtZW50KCJkaXYiKSxuPXRoaXMub3B0aW9ucztyZXR1cm4gbi5odG1sIT09ITE/aS5pbm5lckhUTUw9bi5odG1sOmkuaW5uZXJIVE1MPSIiLG4uYmdQb3MmJihpLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0tbi5iZ1Bvcy54KyJweCAiKy1uLmJnUG9zLnkrInB4IiksdGhpcy5fc2V0SWNvblN0eWxlcyhpLCJpY29uIiksaX0sY3JlYXRlU2hhZG93OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSksby5kaXZJY29uPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgby5EaXZJY29uKHQpfSxvLk1hcC5tZXJnZU9wdGlvbnMoe2Nsb3NlUG9wdXBPbkNsaWNrOiEwfSksby5Qb3B1cD1vLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6by5NaXhpbi5FdmVudHMsb3B0aW9uczp7bWluV2lkdGg6NTAsbWF4V2lkdGg6MzAwLGF1dG9QYW46ITAsY2xvc2VCdXR0b246ITAsb2Zmc2V0OlswLDddLGF1dG9QYW5QYWRkaW5nOls1LDVdLGtlZXBJblZpZXc6ITEsY2xhc3NOYW1lOiIiLHpvb21BbmltYXRpb246ITB9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtvLnNldE9wdGlvbnModGhpcyx0KSx0aGlzLl9zb3VyY2U9ZSx0aGlzLl9hbmltYXRlZD1vLkJyb3dzZXIuYW55M2QmJnRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uLHRoaXMuX2lzT3Blbj0hMX0sb25BZGQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQsdGhpcy5fY29udGFpbmVyfHx0aGlzLl9pbml0TGF5b3V0KCk7dmFyIGU9dC5vcHRpb25zLmZhZGVBbmltYXRpb247ZSYmby5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLDApLHQuX3BhbmVzLnBvcHVwUGFuZS5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpLHQub24odGhpcy5fZ2V0RXZlbnRzKCksdGhpcyksdGhpcy51cGRhdGUoKSxlJiZvLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9jb250YWluZXIsMSksdGhpcy5maXJlKCJvcGVuIiksdC5maXJlKCJwb3B1cG9wZW4iLHtwb3B1cDp0aGlzfSksdGhpcy5fc291cmNlJiZ0aGlzLl9zb3VyY2UuZmlyZSgicG9wdXBvcGVuIix7cG9wdXA6dGhpc30pfSxhZGRUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRMYXllcih0aGlzKSx0aGlzfSxvcGVuT246ZnVuY3Rpb24odCl7cmV0dXJuIHQub3BlblBvcHVwKHRoaXMpLHRoaXN9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3QuX3BhbmVzLnBvcHVwUGFuZS5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpLG8uVXRpbC5mYWxzZUZuKHRoaXMuX2NvbnRhaW5lci5vZmZzZXRXaWR0aCksdC5vZmYodGhpcy5fZ2V0RXZlbnRzKCksdGhpcyksdC5vcHRpb25zLmZhZGVBbmltYXRpb24mJm8uRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lciwwKSx0aGlzLl9tYXA9bnVsbCx0aGlzLmZpcmUoImNsb3NlIiksdC5maXJlKCJwb3B1cGNsb3NlIix7cG9wdXA6dGhpc30pLHRoaXMuX3NvdXJjZSYmdGhpcy5fc291cmNlLmZpcmUoInBvcHVwY2xvc2UiLHtwb3B1cDp0aGlzfSl9LGdldExhdExuZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXRsbmd9LHNldExhdExuZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF0bG5nPW8ubGF0TG5nKHQpLHRoaXMuX21hcCYmKHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCksdGhpcy5fYWRqdXN0UGFuKCkpLHRoaXN9LGdldENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGVudH0sc2V0Q29udGVudDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY29udGVudD10LHRoaXMudXBkYXRlKCksdGhpc30sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiYodGhpcy5fY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdGhpcy5fdXBkYXRlQ29udGVudCgpLHRoaXMuX3VwZGF0ZUxheW91dCgpLHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCksdGhpcy5fY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9IiIsdGhpcy5fYWRqdXN0UGFuKCkpfSxfZ2V0RXZlbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9e3ZpZXdyZXNldDp0aGlzLl91cGRhdGVQb3NpdGlvbn07cmV0dXJuIHRoaXMuX2FuaW1hdGVkJiYodC56b29tYW5pbT10aGlzLl96b29tQW5pbWF0aW9uKSwoImNsb3NlT25DbGljayJpbiB0aGlzLm9wdGlvbnM/dGhpcy5vcHRpb25zLmNsb3NlT25DbGljazp0aGlzLl9tYXAub3B0aW9ucy5jbG9zZVBvcHVwT25DbGljaykmJih0LnByZWNsaWNrPXRoaXMuX2Nsb3NlKSx0aGlzLm9wdGlvbnMua2VlcEluVmlldyYmKHQubW92ZWVuZD10aGlzLl9hZGp1c3RQYW4pLHR9LF9jbG9zZTpmdW5jdGlvbigpe3RoaXMuX21hcCYmdGhpcy5fbWFwLmNsb3NlUG9wdXAodGhpcyl9LF9pbml0TGF5b3V0OmZ1bmN0aW9uKCl7dmFyIHQsZT0ibGVhZmxldC1wb3B1cCIsaT1lKyIgIit0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKyIgbGVhZmxldC16b29tLSIrKHRoaXMuX2FuaW1hdGVkPyJhbmltYXRlZCI6ImhpZGUiKSxuPXRoaXMuX2NvbnRhaW5lcj1vLkRvbVV0aWwuY3JlYXRlKCJkaXYiLGkpO3RoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbiYmKHQ9dGhpcy5fY2xvc2VCdXR0b249by5Eb21VdGlsLmNyZWF0ZSgiYSIsZSsiLWNsb3NlLWJ1dHRvbiIsbiksdC5ocmVmPSIjY2xvc2UiLHQuaW5uZXJIVE1MPSImIzIxNTsiLG8uRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24odCksby5Eb21FdmVudC5vbih0LCJjbGljayIsdGhpcy5fb25DbG9zZUJ1dHRvbkNsaWNrLHRoaXMpKTt2YXIgcz10aGlzLl93cmFwcGVyPW8uRG9tVXRpbC5jcmVhdGUoImRpdiIsZSsiLWNvbnRlbnQtd3JhcHBlciIsbik7by5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihzKSx0aGlzLl9jb250ZW50Tm9kZT1vLkRvbVV0aWwuY3JlYXRlKCJkaXYiLGUrIi1jb250ZW50IixzKSxvLkRvbUV2ZW50LmRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbih0aGlzLl9jb250ZW50Tm9kZSksby5Eb21FdmVudC5vbihzLCJjb250ZXh0bWVudSIsby5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pLHRoaXMuX3RpcENvbnRhaW5lcj1vLkRvbVV0aWwuY3JlYXRlKCJkaXYiLGUrIi10aXAtY29udGFpbmVyIixuKSx0aGlzLl90aXA9by5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKyItdGlwIix0aGlzLl90aXBDb250YWluZXIpfSxfdXBkYXRlQ29udGVudDpmdW5jdGlvbigpe2lmKHRoaXMuX2NvbnRlbnQpe2lmKCJzdHJpbmciPT10eXBlb2YgdGhpcy5fY29udGVudCl0aGlzLl9jb250ZW50Tm9kZS5pbm5lckhUTUw9dGhpcy5fY29udGVudDtlbHNle2Zvcig7dGhpcy5fY29udGVudE5vZGUuaGFzQ2hpbGROb2RlcygpOyl0aGlzLl9jb250ZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9jb250ZW50Tm9kZS5maXJzdENoaWxkKTt0aGlzLl9jb250ZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLl9jb250ZW50KX10aGlzLmZpcmUoImNvbnRlbnR1cGRhdGUiKX19LF91cGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250ZW50Tm9kZSxlPXQuc3R5bGU7ZS53aWR0aD0iIixlLndoaXRlU3BhY2U9Im5vd3JhcCI7dmFyIGk9dC5vZmZzZXRXaWR0aDtpPU1hdGgubWluKGksdGhpcy5vcHRpb25zLm1heFdpZHRoKSxpPU1hdGgubWF4KGksdGhpcy5vcHRpb25zLm1pbldpZHRoKSxlLndpZHRoPWkrMSsicHgiLGUud2hpdGVTcGFjZT0iIixlLmhlaWdodD0iIjt2YXIgbj10Lm9mZnNldEhlaWdodCxzPXRoaXMub3B0aW9ucy5tYXhIZWlnaHQsYT0ibGVhZmxldC1wb3B1cC1zY3JvbGxlZCI7cyYmbj5zPyhlLmhlaWdodD1zKyJweCIsby5Eb21VdGlsLmFkZENsYXNzKHQsYSkpOm8uRG9tVXRpbC5yZW1vdmVDbGFzcyh0LGEpLHRoaXMuX2NvbnRhaW5lcldpZHRoPXRoaXMuX2NvbnRhaW5lci5vZmZzZXRXaWR0aH0sX3VwZGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpcy5fbWFwKXt2YXIgdD10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZyksZT10aGlzLl9hbmltYXRlZCxpPW8ucG9pbnQodGhpcy5vcHRpb25zLm9mZnNldCk7ZSYmby5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lcix0KSx0aGlzLl9jb250YWluZXJCb3R0b209LWkueS0oZT8wOnQueSksdGhpcy5fY29udGFpbmVyTGVmdD0tTWF0aC5yb3VuZCh0aGlzLl9jb250YWluZXJXaWR0aC8yKStpLngrKGU/MDp0LngpLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5ib3R0b209dGhpcy5fY29udGFpbmVyQm90dG9tKyJweCIsdGhpcy5fY29udGFpbmVyLnN0eWxlLmxlZnQ9dGhpcy5fY29udGFpbmVyTGVmdCsicHgifX0sX3pvb21BbmltYXRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLHQuem9vbSx0LmNlbnRlcik7by5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lcixlKX0sX2FkanVzdFBhbjpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5hdXRvUGFuKXt2YXIgdD10aGlzLl9tYXAsZT10aGlzLl9jb250YWluZXIub2Zmc2V0SGVpZ2h0LGk9dGhpcy5fY29udGFpbmVyV2lkdGgsbj1uZXcgby5Qb2ludCh0aGlzLl9jb250YWluZXJMZWZ0LC1lLXRoaXMuX2NvbnRhaW5lckJvdHRvbSk7dGhpcy5fYW5pbWF0ZWQmJm4uX2FkZChvLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyKSk7dmFyIHM9dC5sYXllclBvaW50VG9Db250YWluZXJQb2ludChuKSxhPW8ucG9pbnQodGhpcy5vcHRpb25zLmF1dG9QYW5QYWRkaW5nKSxyPW8ucG9pbnQodGhpcy5vcHRpb25zLmF1dG9QYW5QYWRkaW5nVG9wTGVmdHx8YSksaD1vLnBvaW50KHRoaXMub3B0aW9ucy5hdXRvUGFuUGFkZGluZ0JvdHRvbVJpZ2h0fHxhKSxsPXQuZ2V0U2l6ZSgpLHU9MCxjPTA7cy54K2kraC54PmwueCYmKHU9cy54K2ktbC54K2gueCkscy54LXUtci54PDAmJih1PXMueC1yLngpLHMueStlK2gueT5sLnkmJihjPXMueStlLWwueStoLnkpLHMueS1jLXIueTwwJiYoYz1zLnktci55KSwodXx8YykmJnQuZmlyZSgiYXV0b3BhbnN0YXJ0IikucGFuQnkoW3UsY10pfX0sX29uQ2xvc2VCdXR0b25DbGljazpmdW5jdGlvbih0KXt0aGlzLl9jbG9zZSgpLG8uRG9tRXZlbnQuc3RvcCh0KX19KSxvLnBvcHVwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBvLlBvcHVwKHQsZSl9LG8uTWFwLmluY2x1ZGUoe29wZW5Qb3B1cDpmdW5jdGlvbih0LGUsaSl7aWYodGhpcy5jbG9zZVBvcHVwKCksISh0IGluc3RhbmNlb2Ygby5Qb3B1cCkpe3ZhciBuPXQ7dD1uZXcgby5Qb3B1cChpKS5zZXRMYXRMbmcoZSkuc2V0Q29udGVudChuKX1yZXR1cm4gdC5faXNPcGVuPSEwLHRoaXMuX3BvcHVwPXQsdGhpcy5hZGRMYXllcih0KX0sY2xvc2VQb3B1cDpmdW5jdGlvbih0KXtyZXR1cm4gdCYmdCE9PXRoaXMuX3BvcHVwfHwodD10aGlzLl9wb3B1cCx0aGlzLl9wb3B1cD1udWxsKSx0JiYodGhpcy5yZW1vdmVMYXllcih0KSx0Ll9pc09wZW49ITEpLHRoaXN9fSksby5NYXJrZXIuaW5jbHVkZSh7b3BlblBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwJiZ0aGlzLl9tYXAmJiF0aGlzLl9tYXAuaGFzTGF5ZXIodGhpcy5fcG9wdXApJiYodGhpcy5fcG9wdXAuc2V0TGF0TG5nKHRoaXMuX2xhdGxuZyksdGhpcy5fbWFwLm9wZW5Qb3B1cCh0aGlzLl9wb3B1cCkpLHRoaXN9LGNsb3NlUG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLl9jbG9zZSgpLHRoaXN9LHRvZ2dsZVBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXAuX2lzT3Blbj90aGlzLmNsb3NlUG9wdXAoKTp0aGlzLm9wZW5Qb3B1cCgpKSx0aGlzfSxiaW5kUG9wdXA6ZnVuY3Rpb24odCxlKXt2YXIgaT1vLnBvaW50KHRoaXMub3B0aW9ucy5pY29uLm9wdGlvbnMucG9wdXBBbmNob3J8fFswLDBdKTtyZXR1cm4gaT1pLmFkZChvLlBvcHVwLnByb3RvdHlwZS5vcHRpb25zLm9mZnNldCksZSYmZS5vZmZzZXQmJihpPWkuYWRkKGUub2Zmc2V0KSksZT1vLmV4dGVuZCh7b2Zmc2V0Oml9LGUpLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZHx8KHRoaXMub24oImNsaWNrIix0aGlzLnRvZ2dsZVBvcHVwLHRoaXMpLm9uKCJyZW1vdmUiLHRoaXMuY2xvc2VQb3B1cCx0aGlzKS5vbigibW92ZSIsdGhpcy5fbW92ZVBvcHVwLHRoaXMpLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZD0hMCksdCBpbnN0YW5jZW9mIG8uUG9wdXA/KG8uc2V0T3B0aW9ucyh0LGUpLHRoaXMuX3BvcHVwPXQsdC5fc291cmNlPXRoaXMpOnRoaXMuX3BvcHVwPW5ldyBvLlBvcHVwKGUsdGhpcykuc2V0Q29udGVudCh0KSx0aGlzfSxzZXRQb3B1cENvbnRlbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5zZXRDb250ZW50KHQpLHRoaXN9LHVuYmluZFBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXA9bnVsbCx0aGlzLm9mZigiY2xpY2siLHRoaXMudG9nZ2xlUG9wdXAsdGhpcykub2ZmKCJyZW1vdmUiLHRoaXMuY2xvc2VQb3B1cCx0aGlzKS5vZmYoIm1vdmUiLHRoaXMuX21vdmVQb3B1cCx0aGlzKSx0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQ9ITEpLHRoaXN9LGdldFBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwfSxfbW92ZVBvcHVwOmZ1bmN0aW9uKHQpe3RoaXMuX3BvcHVwLnNldExhdExuZyh0LmxhdGxuZyl9fSksby5MYXllckdyb3VwPW8uQ2xhc3MuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQpe3RoaXMuX2xheWVycz17fTt2YXIgZSxpO2lmKHQpZm9yKGU9MCxpPXQubGVuZ3RoO2k+ZTtlKyspdGhpcy5hZGRMYXllcih0W2VdKX0sYWRkTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRMYXllcklkKHQpO3JldHVybiB0aGlzLl9sYXllcnNbZV09dCx0aGlzLl9tYXAmJnRoaXMuX21hcC5hZGRMYXllcih0KSx0aGlzfSxyZW1vdmVMYXllcjpmdW5jdGlvbih0KXt2YXIgZT10IGluIHRoaXMuX2xheWVycz90OnRoaXMuZ2V0TGF5ZXJJZCh0KTtyZXR1cm4gdGhpcy5fbWFwJiZ0aGlzLl9sYXllcnNbZV0mJnRoaXMuX21hcC5yZW1vdmVMYXllcih0aGlzLl9sYXllcnNbZV0pLGRlbGV0ZSB0aGlzLl9sYXllcnNbZV0sdGhpc30saGFzTGF5ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dCBpbiB0aGlzLl9sYXllcnN8fHRoaXMuZ2V0TGF5ZXJJZCh0KWluIHRoaXMuX2xheWVyczohMX0sY2xlYXJMYXllcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoTGF5ZXIodGhpcy5yZW1vdmVMYXllcix0aGlzKSx0aGlzfSxpbnZva2U6ZnVuY3Rpb24odCl7dmFyIGUsaSxuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtmb3IoZSBpbiB0aGlzLl9sYXllcnMpaT10aGlzLl9sYXllcnNbZV0saVt0XSYmaVt0XS5hcHBseShpLG4pO3JldHVybiB0aGlzfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLmVhY2hMYXllcih0LmFkZExheWVyLHQpfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLmVhY2hMYXllcih0LnJlbW92ZUxheWVyLHQpLHRoaXMuX21hcD1udWxsfSxhZGRUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRMYXllcih0aGlzKSx0aGlzfSxlYWNoTGF5ZXI6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gdGhpcy5fbGF5ZXJzKXQuY2FsbChlLHRoaXMuX2xheWVyc1tpXSk7cmV0dXJuIHRoaXN9LGdldExheWVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sYXllcnNbdF19LGdldExheWVyczpmdW5jdGlvbigpe3ZhciB0PVtdO2Zvcih2YXIgZSBpbiB0aGlzLl9sYXllcnMpdC5wdXNoKHRoaXMuX2xheWVyc1tlXSk7cmV0dXJuIHR9LHNldFpJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnZva2UoInNldFpJbmRleCIsdCl9LGdldExheWVySWQ6ZnVuY3Rpb24odCl7cmV0dXJuIG8uc3RhbXAodCl9fSksby5sYXllckdyb3VwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgby5MYXllckdyb3VwKHQpfSxvLkZlYXR1cmVHcm91cD1vLkxheWVyR3JvdXAuZXh0ZW5kKHtpbmNsdWRlczpvLk1peGluLkV2ZW50cyxzdGF0aWNzOntFVkVOVFM6ImNsaWNrIGRibGNsaWNrIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgY29udGV4dG1lbnUgcG9wdXBvcGVuIHBvcHVwY2xvc2UifSxhZGRMYXllcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXNMYXllcih0KT90aGlzOigib24iaW4gdCYmdC5vbihvLkZlYXR1cmVHcm91cC5FVkVOVFMsdGhpcy5fcHJvcGFnYXRlRXZlbnQsdGhpcyksby5MYXllckdyb3VwLnByb3RvdHlwZS5hZGRMYXllci5jYWxsKHRoaXMsdCksdGhpcy5fcG9wdXBDb250ZW50JiZ0LmJpbmRQb3B1cCYmdC5iaW5kUG9wdXAodGhpcy5fcG9wdXBDb250ZW50LHRoaXMuX3BvcHVwT3B0aW9ucyksdGhpcy5maXJlKCJsYXllcmFkZCIse2xheWVyOnR9KSl9LHJlbW92ZUxheWVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhc0xheWVyKHQpPyh0IGluIHRoaXMuX2xheWVycyYmKHQ9dGhpcy5fbGF5ZXJzW3RdKSwib2ZmImluIHQmJnQub2ZmKG8uRmVhdHVyZUdyb3VwLkVWRU5UUyx0aGlzLl9wcm9wYWdhdGVFdmVudCx0aGlzKSxvLkxheWVyR3JvdXAucHJvdG90eXBlLnJlbW92ZUxheWVyLmNhbGwodGhpcyx0KSx0aGlzLl9wb3B1cENvbnRlbnQmJnRoaXMuaW52b2tlKCJ1bmJpbmRQb3B1cCIpLHRoaXMuZmlyZSgibGF5ZXJyZW1vdmUiLHtsYXllcjp0fSkpOnRoaXN9LGJpbmRQb3B1cDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9wb3B1cENvbnRlbnQ9dCx0aGlzLl9wb3B1cE9wdGlvbnM9ZSx0aGlzLmludm9rZSgiYmluZFBvcHVwIix0LGUpfSxvcGVuUG9wdXA6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuX2xheWVycyl7dGhpcy5fbGF5ZXJzW2VdLm9wZW5Qb3B1cCh0KTticmVha31yZXR1cm4gdGhpc30sc2V0U3R5bGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW52b2tlKCJzZXRTdHlsZSIsdCl9LGJyaW5nVG9Gcm9udDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludm9rZSgiYnJpbmdUb0Zyb250Iil9LGJyaW5nVG9CYWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW52b2tlKCJicmluZ1RvQmFjayIpfSxnZXRCb3VuZHM6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgby5MYXRMbmdCb3VuZHM7cmV0dXJuIHRoaXMuZWFjaExheWVyKGZ1bmN0aW9uKGUpe3QuZXh0ZW5kKGUgaW5zdGFuY2VvZiBvLk1hcmtlcj9lLmdldExhdExuZygpOmUuZ2V0Qm91bmRzKCkpfSksdH0sX3Byb3BhZ2F0ZUV2ZW50OmZ1bmN0aW9uKHQpe3Q9by5leHRlbmQoe2xheWVyOnQudGFyZ2V0LHRhcmdldDp0aGlzfSx0KSx0aGlzLmZpcmUodC50eXBlLHQpfX0pLG8uZmVhdHVyZUdyb3VwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgby5GZWF0dXJlR3JvdXAodCl9LG8uUGF0aD1vLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6W28uTWl4aW4uRXZlbnRzXSxzdGF0aWNzOntDTElQX1BBRERJTkc6ZnVuY3Rpb24oKXt2YXIgZT1vLkJyb3dzZXIubW9iaWxlPzEyODA6MmUzLGk9KGUvTWF0aC5tYXgodC5vdXRlcldpZHRoLHQub3V0ZXJIZWlnaHQpLTEpLzI7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4oLjUsaSkpfSgpfSxvcHRpb25zOntzdHJva2U6ITAsY29sb3I6IiMwMDMzZmYiLGRhc2hBcnJheTpudWxsLGxpbmVDYXA6bnVsbCxsaW5lSm9pbjpudWxsLHdlaWdodDo1LG9wYWNpdHk6LjUsZmlsbDohMSxmaWxsQ29sb3I6bnVsbCxmaWxsT3BhY2l0eTouMixjbGlja2FibGU6ITB9LGluaXRpYWxpemU6ZnVuY3Rpb24odCl7by5zZXRPcHRpb25zKHRoaXMsdCl9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcnx8KHRoaXMuX2luaXRFbGVtZW50cygpLHRoaXMuX2luaXRFdmVudHMoKSksdGhpcy5wcm9qZWN0TGF0bG5ncygpLHRoaXMuX3VwZGF0ZVBhdGgoKSx0aGlzLl9jb250YWluZXImJnRoaXMuX21hcC5fcGF0aFJvb3QuYXBwZW5kQ2hpbGQodGhpcy5fY29udGFpbmVyKSx0aGlzLmZpcmUoImFkZCIpLHQub24oe3ZpZXdyZXNldDp0aGlzLnByb2plY3RMYXRsbmdzLG1vdmVlbmQ6dGhpcy5fdXBkYXRlUGF0aH0sdGhpcyl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3QuX3BhdGhSb290LnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lciksdGhpcy5maXJlKCJyZW1vdmUiKSx0aGlzLl9tYXA9bnVsbCxvLkJyb3dzZXIudm1sJiYodGhpcy5fY29udGFpbmVyPW51bGwsdGhpcy5fc3Ryb2tlPW51bGwsdGhpcy5fZmlsbD1udWxsKSx0Lm9mZih7dmlld3Jlc2V0OnRoaXMucHJvamVjdExhdGxuZ3MsbW92ZWVuZDp0aGlzLl91cGRhdGVQYXRofSx0aGlzKX0scHJvamVjdExhdGxuZ3M6ZnVuY3Rpb24oKXt9LHNldFN0eWxlOmZ1bmN0aW9uKHQpe3JldHVybiBvLnNldE9wdGlvbnModGhpcyx0KSx0aGlzLl9jb250YWluZXImJnRoaXMuX3VwZGF0ZVN0eWxlKCksdGhpc30scmVkcmF3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcCYmKHRoaXMucHJvamVjdExhdGxuZ3MoKSx0aGlzLl91cGRhdGVQYXRoKCkpLHRoaXN9fSksby5NYXAuaW5jbHVkZSh7X3VwZGF0ZVBhdGhWaWV3cG9ydDpmdW5jdGlvbigpe3ZhciB0PW8uUGF0aC5DTElQX1BBRERJTkcsZT10aGlzLmdldFNpemUoKSxpPW8uRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lKSxuPWkubXVsdGlwbHlCeSgtMSkuX3N1YnRyYWN0KGUubXVsdGlwbHlCeSh0KS5fcm91bmQoKSkscz1uLmFkZChlLm11bHRpcGx5QnkoMSsyKnQpLl9yb3VuZCgpKTt0aGlzLl9wYXRoVmlld3BvcnQ9bmV3IG8uQm91bmRzKG4scyl9fSksby5QYXRoLlNWR19OUz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLG8uQnJvd3Nlci5zdmc9ISghZS5jcmVhdGVFbGVtZW50TlN8fCFlLmNyZWF0ZUVsZW1lbnROUyhvLlBhdGguU1ZHX05TLCJzdmciKS5jcmVhdGVTVkdSZWN0KSxvLlBhdGg9by5QYXRoLmV4dGVuZCh7c3RhdGljczp7U1ZHOm8uQnJvd3Nlci5zdmd9LGJyaW5nVG9Gcm9udDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5fcGF0aFJvb3QsZT10aGlzLl9jb250YWluZXI7cmV0dXJuIGUmJnQubGFzdENoaWxkIT09ZSYmdC5hcHBlbmRDaGlsZChlKSx0aGlzfSxicmluZ1RvQmFjazpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5fcGF0aFJvb3QsZT10aGlzLl9jb250YWluZXIsaT10LmZpcnN0Q2hpbGQ7cmV0dXJuIGUmJmkhPT1lJiZ0Lmluc2VydEJlZm9yZShlLGkpLHRoaXN9LGdldFBhdGhTdHJpbmc6ZnVuY3Rpb24oKXt9LF9jcmVhdGVFbGVtZW50OmZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZUVsZW1lbnROUyhvLlBhdGguU1ZHX05TLHQpfSxfaW5pdEVsZW1lbnRzOmZ1bmN0aW9uKCl7dGhpcy5fbWFwLl9pbml0UGF0aFJvb3QoKSx0aGlzLl9pbml0UGF0aCgpLHRoaXMuX2luaXRTdHlsZSgpfSxfaW5pdFBhdGg6ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXI9dGhpcy5fY3JlYXRlRWxlbWVudCgiZyIpLHRoaXMuX3BhdGg9dGhpcy5fY3JlYXRlRWxlbWVudCgicGF0aCIpLHRoaXMub3B0aW9ucy5jbGFzc05hbWUmJm8uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9wYXRoLHRoaXMub3B0aW9ucy5jbGFzc05hbWUpLHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9wYXRoKX0sX2luaXRTdHlsZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5zdHJva2UmJih0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlLWxpbmVqb2luIiwicm91bmQiKSx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlLWxpbmVjYXAiLCJyb3VuZCIpKSx0aGlzLm9wdGlvbnMuZmlsbCYmdGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoImZpbGwtcnVsZSIsImV2ZW5vZGQiKSx0aGlzLm9wdGlvbnMucG9pbnRlckV2ZW50cyYmdGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIix0aGlzLm9wdGlvbnMucG9pbnRlckV2ZW50cyksdGhpcy5vcHRpb25zLmNsaWNrYWJsZXx8dGhpcy5vcHRpb25zLnBvaW50ZXJFdmVudHN8fHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKSx0aGlzLl91cGRhdGVTdHlsZSgpfSxfdXBkYXRlU3R5bGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc3Ryb2tlPyh0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlIix0aGlzLm9wdGlvbnMuY29sb3IpLHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJzdHJva2Utb3BhY2l0eSIsdGhpcy5vcHRpb25zLm9wYWNpdHkpLHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJzdHJva2Utd2lkdGgiLHRoaXMub3B0aW9ucy53ZWlnaHQpLHRoaXMub3B0aW9ucy5kYXNoQXJyYXk/dGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZS1kYXNoYXJyYXkiLHRoaXMub3B0aW9ucy5kYXNoQXJyYXkpOnRoaXMuX3BhdGgucmVtb3ZlQXR0cmlidXRlKCJzdHJva2UtZGFzaGFycmF5IiksdGhpcy5vcHRpb25zLmxpbmVDYXAmJnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJzdHJva2UtbGluZWNhcCIsdGhpcy5vcHRpb25zLmxpbmVDYXApLHRoaXMub3B0aW9ucy5saW5lSm9pbiYmdGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZS1saW5lam9pbiIsdGhpcy5vcHRpb25zLmxpbmVKb2luKSk6dGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsIm5vbmUiKSx0aGlzLm9wdGlvbnMuZmlsbD8odGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoImZpbGwiLHRoaXMub3B0aW9ucy5maWxsQ29sb3J8fHRoaXMub3B0aW9ucy5jb2xvciksdGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoImZpbGwtb3BhY2l0eSIsdGhpcy5vcHRpb25zLmZpbGxPcGFjaXR5KSk6dGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoImZpbGwiLCJub25lIil9LF91cGRhdGVQYXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQYXRoU3RyaW5nKCk7dHx8KHQ9Ik0wIDAiKSx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgiZCIsdCl9LF9pbml0RXZlbnRzOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmNsaWNrYWJsZSl7KG8uQnJvd3Nlci5zdmd8fCFvLkJyb3dzZXIudm1sKSYmby5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3BhdGgsImxlYWZsZXQtY2xpY2thYmxlIiksby5Eb21FdmVudC5vbih0aGlzLl9jb250YWluZXIsImNsaWNrIix0aGlzLl9vbk1vdXNlQ2xpY2ssdGhpcyk7Zm9yKHZhciB0PVsiZGJsY2xpY2siLCJtb3VzZWRvd24iLCJtb3VzZW92ZXIiLCJtb3VzZW91dCIsIm1vdXNlbW92ZSIsImNvbnRleHRtZW51Il0sZT0wO2U8dC5sZW5ndGg7ZSsrKW8uRG9tRXZlbnQub24odGhpcy5fY29udGFpbmVyLHRbZV0sdGhpcy5fZmlyZU1vdXNlRXZlbnQsdGhpcyl9fSxfb25Nb3VzZUNsaWNrOmZ1bmN0aW9uKHQpe3RoaXMuX21hcC5kcmFnZ2luZyYmdGhpcy5fbWFwLmRyYWdnaW5nLm1vdmVkKCl8fHRoaXMuX2ZpcmVNb3VzZUV2ZW50KHQpfSxfZmlyZU1vdXNlRXZlbnQ6ZnVuY3Rpb24odCl7aWYodGhpcy5fbWFwJiZ0aGlzLmhhc0V2ZW50TGlzdGVuZXJzKHQudHlwZSkpe3ZhciBlPXRoaXMuX21hcCxpPWUubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQodCksbj1lLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KGkpLHM9ZS5sYXllclBvaW50VG9MYXRMbmcobik7dGhpcy5maXJlKHQudHlwZSx7bGF0bG5nOnMsbGF5ZXJQb2ludDpuLGNvbnRhaW5lclBvaW50Omksb3JpZ2luYWxFdmVudDp0fSksImNvbnRleHRtZW51Ij09PXQudHlwZSYmby5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KSwibW91c2Vtb3ZlIiE9PXQudHlwZSYmby5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24odCl9fX0pLG8uTWFwLmluY2x1ZGUoe19pbml0UGF0aFJvb3Q6ZnVuY3Rpb24oKXt0aGlzLl9wYXRoUm9vdHx8KHRoaXMuX3BhdGhSb290PW8uUGF0aC5wcm90b3R5cGUuX2NyZWF0ZUVsZW1lbnQoInN2ZyIpLHRoaXMuX3BhbmVzLm92ZXJsYXlQYW5lLmFwcGVuZENoaWxkKHRoaXMuX3BhdGhSb290KSx0aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmby5Ccm93c2VyLmFueTNkPyhvLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fcGF0aFJvb3QsImxlYWZsZXQtem9vbS1hbmltYXRlZCIpLAp0aGlzLm9uKHt6b29tYW5pbTp0aGlzLl9hbmltYXRlUGF0aFpvb20sem9vbWVuZDp0aGlzLl9lbmRQYXRoWm9vbX0pKTpvLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fcGF0aFJvb3QsImxlYWZsZXQtem9vbS1oaWRlIiksdGhpcy5vbigibW92ZWVuZCIsdGhpcy5fdXBkYXRlU3ZnVmlld3BvcnQpLHRoaXMuX3VwZGF0ZVN2Z1ZpZXdwb3J0KCkpfSxfYW5pbWF0ZVBhdGhab29tOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Wm9vbVNjYWxlKHQuem9vbSksaT10aGlzLl9nZXRDZW50ZXJPZmZzZXQodC5jZW50ZXIpLl9tdWx0aXBseUJ5KC1lKS5fYWRkKHRoaXMuX3BhdGhWaWV3cG9ydC5taW4pO3RoaXMuX3BhdGhSb290LnN0eWxlW28uRG9tVXRpbC5UUkFOU0ZPUk1dPW8uRG9tVXRpbC5nZXRUcmFuc2xhdGVTdHJpbmcoaSkrIiBzY2FsZSgiK2UrIikgIix0aGlzLl9wYXRoWm9vbWluZz0hMH0sX2VuZFBhdGhab29tOmZ1bmN0aW9uKCl7dGhpcy5fcGF0aFpvb21pbmc9ITF9LF91cGRhdGVTdmdWaWV3cG9ydDpmdW5jdGlvbigpe2lmKCF0aGlzLl9wYXRoWm9vbWluZyl7dGhpcy5fdXBkYXRlUGF0aFZpZXdwb3J0KCk7dmFyIHQ9dGhpcy5fcGF0aFZpZXdwb3J0LGU9dC5taW4saT10Lm1heCxuPWkueC1lLngscz1pLnktZS55LGE9dGhpcy5fcGF0aFJvb3Qscj10aGlzLl9wYW5lcy5vdmVybGF5UGFuZTtvLkJyb3dzZXIubW9iaWxlV2Via2l0JiZyLnJlbW92ZUNoaWxkKGEpLG8uRG9tVXRpbC5zZXRQb3NpdGlvbihhLGUpLGEuc2V0QXR0cmlidXRlKCJ3aWR0aCIsbiksYS5zZXRBdHRyaWJ1dGUoImhlaWdodCIscyksYS5zZXRBdHRyaWJ1dGUoInZpZXdCb3giLFtlLngsZS55LG4sc10uam9pbigiICIpKSxvLkJyb3dzZXIubW9iaWxlV2Via2l0JiZyLmFwcGVuZENoaWxkKGEpfX19KSxvLlBhdGguaW5jbHVkZSh7YmluZFBvcHVwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBvLlBvcHVwP3RoaXMuX3BvcHVwPXQ6KCghdGhpcy5fcG9wdXB8fGUpJiYodGhpcy5fcG9wdXA9bmV3IG8uUG9wdXAoZSx0aGlzKSksdGhpcy5fcG9wdXAuc2V0Q29udGVudCh0KSksdGhpcy5fcG9wdXBIYW5kbGVyc0FkZGVkfHwodGhpcy5vbigiY2xpY2siLHRoaXMuX29wZW5Qb3B1cCx0aGlzKS5vbigicmVtb3ZlIix0aGlzLmNsb3NlUG9wdXAsdGhpcyksdGhpcy5fcG9wdXBIYW5kbGVyc0FkZGVkPSEwKSx0aGlzfSx1bmJpbmRQb3B1cDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwPW51bGwsdGhpcy5vZmYoImNsaWNrIix0aGlzLl9vcGVuUG9wdXApLm9mZigicmVtb3ZlIix0aGlzLmNsb3NlUG9wdXApLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZD0hMSksdGhpc30sb3BlblBvcHVwOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wb3B1cCYmKHQ9dHx8dGhpcy5fbGF0bG5nfHx0aGlzLl9sYXRsbmdzW01hdGguZmxvb3IodGhpcy5fbGF0bG5ncy5sZW5ndGgvMildLHRoaXMuX29wZW5Qb3B1cCh7bGF0bG5nOnR9KSksdGhpc30sY2xvc2VQb3B1cDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuX2Nsb3NlKCksdGhpc30sX29wZW5Qb3B1cDpmdW5jdGlvbih0KXt0aGlzLl9wb3B1cC5zZXRMYXRMbmcodC5sYXRsbmcpLHRoaXMuX21hcC5vcGVuUG9wdXAodGhpcy5fcG9wdXApfX0pLG8uQnJvd3Nlci52bWw9IW8uQnJvd3Nlci5zdmcmJmZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWUuY3JlYXRlRWxlbWVudCgiZGl2Iik7dC5pbm5lckhUTUw9Jzx2OnNoYXBlIGFkaj0iMSIvPic7dmFyIGk9dC5maXJzdENoaWxkO3JldHVybiBpLnN0eWxlLmJlaGF2aW9yPSJ1cmwoI2RlZmF1bHQjVk1MKSIsaSYmIm9iamVjdCI9PXR5cGVvZiBpLmFkan1jYXRjaChuKXtyZXR1cm4hMX19KCksby5QYXRoPW8uQnJvd3Nlci5zdmd8fCFvLkJyb3dzZXIudm1sP28uUGF0aDpvLlBhdGguZXh0ZW5kKHtzdGF0aWNzOntWTUw6ITAsQ0xJUF9QQURESU5HOi4wMn0sX2NyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGUubmFtZXNwYWNlcy5hZGQoImx2bWwiLCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbCIpLGZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZUVsZW1lbnQoIjxsdm1sOiIrdCsnIGNsYXNzPSJsdm1sIj4nKX19Y2F0Y2godCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZUVsZW1lbnQoIjwiK3QrJyB4bWxucz0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LmNvbTp2bWwiIGNsYXNzPSJsdm1sIj4nKX19fSgpLF9pbml0UGF0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbnRhaW5lcj10aGlzLl9jcmVhdGVFbGVtZW50KCJzaGFwZSIpO28uRG9tVXRpbC5hZGRDbGFzcyh0LCJsZWFmbGV0LXZtbC1zaGFwZSIrKHRoaXMub3B0aW9ucy5jbGFzc05hbWU/IiAiK3RoaXMub3B0aW9ucy5jbGFzc05hbWU6IiIpKSx0aGlzLm9wdGlvbnMuY2xpY2thYmxlJiZvLkRvbVV0aWwuYWRkQ2xhc3ModCwibGVhZmxldC1jbGlja2FibGUiKSx0LmNvb3Jkc2l6ZT0iMSAxIix0aGlzLl9wYXRoPXRoaXMuX2NyZWF0ZUVsZW1lbnQoInBhdGgiKSx0LmFwcGVuZENoaWxkKHRoaXMuX3BhdGgpLHRoaXMuX21hcC5fcGF0aFJvb3QuYXBwZW5kQ2hpbGQodCl9LF9pbml0U3R5bGU6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVTdHlsZSgpfSxfdXBkYXRlU3R5bGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdHJva2UsZT10aGlzLl9maWxsLGk9dGhpcy5vcHRpb25zLG49dGhpcy5fY29udGFpbmVyO24uc3Ryb2tlZD1pLnN0cm9rZSxuLmZpbGxlZD1pLmZpbGwsaS5zdHJva2U/KHR8fCh0PXRoaXMuX3N0cm9rZT10aGlzLl9jcmVhdGVFbGVtZW50KCJzdHJva2UiKSx0LmVuZGNhcD0icm91bmQiLG4uYXBwZW5kQ2hpbGQodCkpLHQud2VpZ2h0PWkud2VpZ2h0KyJweCIsdC5jb2xvcj1pLmNvbG9yLHQub3BhY2l0eT1pLm9wYWNpdHksaS5kYXNoQXJyYXk/dC5kYXNoU3R5bGU9by5VdGlsLmlzQXJyYXkoaS5kYXNoQXJyYXkpP2kuZGFzaEFycmF5LmpvaW4oIiAiKTppLmRhc2hBcnJheS5yZXBsYWNlKC8oICosICopL2csIiAiKTp0LmRhc2hTdHlsZT0iIixpLmxpbmVDYXAmJih0LmVuZGNhcD1pLmxpbmVDYXAucmVwbGFjZSgiYnV0dCIsImZsYXQiKSksaS5saW5lSm9pbiYmKHQuam9pbnN0eWxlPWkubGluZUpvaW4pKTp0JiYobi5yZW1vdmVDaGlsZCh0KSx0aGlzLl9zdHJva2U9bnVsbCksaS5maWxsPyhlfHwoZT10aGlzLl9maWxsPXRoaXMuX2NyZWF0ZUVsZW1lbnQoImZpbGwiKSxuLmFwcGVuZENoaWxkKGUpKSxlLmNvbG9yPWkuZmlsbENvbG9yfHxpLmNvbG9yLGUub3BhY2l0eT1pLmZpbGxPcGFjaXR5KTplJiYobi5yZW1vdmVDaGlsZChlKSx0aGlzLl9maWxsPW51bGwpfSxfdXBkYXRlUGF0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbnRhaW5lci5zdHlsZTt0LmRpc3BsYXk9Im5vbmUiLHRoaXMuX3BhdGgudj10aGlzLmdldFBhdGhTdHJpbmcoKSsiICIsdC5kaXNwbGF5PSIifX0pLG8uTWFwLmluY2x1ZGUoby5Ccm93c2VyLnN2Z3x8IW8uQnJvd3Nlci52bWw/e306e19pbml0UGF0aFJvb3Q6ZnVuY3Rpb24oKXtpZighdGhpcy5fcGF0aFJvb3Qpe3ZhciB0PXRoaXMuX3BhdGhSb290PWUuY3JlYXRlRWxlbWVudCgiZGl2Iik7dC5jbGFzc05hbWU9ImxlYWZsZXQtdm1sLWNvbnRhaW5lciIsdGhpcy5fcGFuZXMub3ZlcmxheVBhbmUuYXBwZW5kQ2hpbGQodCksdGhpcy5vbigibW92ZWVuZCIsdGhpcy5fdXBkYXRlUGF0aFZpZXdwb3J0KSx0aGlzLl91cGRhdGVQYXRoVmlld3BvcnQoKX19fSksby5Ccm93c2VyLmNhbnZhcz1mdW5jdGlvbigpe3JldHVybiEhZS5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0fSgpLG8uUGF0aD1vLlBhdGguU1ZHJiYhdC5MX1BSRUZFUl9DQU5WQVN8fCFvLkJyb3dzZXIuY2FudmFzP28uUGF0aDpvLlBhdGguZXh0ZW5kKHtzdGF0aWNzOntDQU5WQVM6ITAsU1ZHOiExfSxyZWRyYXc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFwJiYodGhpcy5wcm9qZWN0TGF0bG5ncygpLHRoaXMuX3JlcXVlc3RVcGRhdGUoKSksdGhpc30sc2V0U3R5bGU6ZnVuY3Rpb24odCl7cmV0dXJuIG8uc2V0T3B0aW9ucyh0aGlzLHQpLHRoaXMuX21hcCYmKHRoaXMuX3VwZGF0ZVN0eWxlKCksdGhpcy5fcmVxdWVzdFVwZGF0ZSgpKSx0aGlzfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Lm9mZigidmlld3Jlc2V0Iix0aGlzLnByb2plY3RMYXRsbmdzLHRoaXMpLm9mZigibW92ZWVuZCIsdGhpcy5fdXBkYXRlUGF0aCx0aGlzKSx0aGlzLm9wdGlvbnMuY2xpY2thYmxlJiYodGhpcy5fbWFwLm9mZigiY2xpY2siLHRoaXMuX29uQ2xpY2ssdGhpcyksdGhpcy5fbWFwLm9mZigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSx0aGlzKSksdGhpcy5fcmVxdWVzdFVwZGF0ZSgpLHRoaXMuZmlyZSgicmVtb3ZlIiksdGhpcy5fbWFwPW51bGx9LF9yZXF1ZXN0VXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiYhby5QYXRoLl91cGRhdGVSZXF1ZXN0JiYoby5QYXRoLl91cGRhdGVSZXF1ZXN0PW8uVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX2ZpcmVNYXBNb3ZlRW5kLHRoaXMuX21hcCkpfSxfZmlyZU1hcE1vdmVFbmQ6ZnVuY3Rpb24oKXtvLlBhdGguX3VwZGF0ZVJlcXVlc3Q9bnVsbCx0aGlzLmZpcmUoIm1vdmVlbmQiKX0sX2luaXRFbGVtZW50czpmdW5jdGlvbigpe3RoaXMuX21hcC5faW5pdFBhdGhSb290KCksdGhpcy5fY3R4PXRoaXMuX21hcC5fY2FudmFzQ3R4fSxfdXBkYXRlU3R5bGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5zdHJva2UmJih0aGlzLl9jdHgubGluZVdpZHRoPXQud2VpZ2h0LHRoaXMuX2N0eC5zdHJva2VTdHlsZT10LmNvbG9yKSx0LmZpbGwmJih0aGlzLl9jdHguZmlsbFN0eWxlPXQuZmlsbENvbG9yfHx0LmNvbG9yKSx0LmxpbmVDYXAmJih0aGlzLl9jdHgubGluZUNhcD10LmxpbmVDYXApLHQubGluZUpvaW4mJih0aGlzLl9jdHgubGluZUpvaW49dC5saW5lSm9pbil9LF9kcmF3UGF0aDpmdW5jdGlvbigpe3ZhciB0LGUsaSxuLHMsYTtmb3IodGhpcy5fY3R4LmJlZ2luUGF0aCgpLHQ9MCxpPXRoaXMuX3BhcnRzLmxlbmd0aDtpPnQ7dCsrKXtmb3IoZT0wLG49dGhpcy5fcGFydHNbdF0ubGVuZ3RoO24+ZTtlKyspcz10aGlzLl9wYXJ0c1t0XVtlXSxhPSgwPT09ZT8ibW92ZSI6ImxpbmUiKSsiVG8iLHRoaXMuX2N0eFthXShzLngscy55KTt0aGlzIGluc3RhbmNlb2Ygby5Qb2x5Z29uJiZ0aGlzLl9jdHguY2xvc2VQYXRoKCl9fSxfY2hlY2tJZkVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX3BhcnRzLmxlbmd0aH0sX3VwZGF0ZVBhdGg6ZnVuY3Rpb24oKXtpZighdGhpcy5fY2hlY2tJZkVtcHR5KCkpe3ZhciB0PXRoaXMuX2N0eCxlPXRoaXMub3B0aW9uczt0aGlzLl9kcmF3UGF0aCgpLHQuc2F2ZSgpLHRoaXMuX3VwZGF0ZVN0eWxlKCksZS5maWxsJiYodC5nbG9iYWxBbHBoYT1lLmZpbGxPcGFjaXR5LHQuZmlsbChlLmZpbGxSdWxlfHwiZXZlbm9kZCIpKSxlLnN0cm9rZSYmKHQuZ2xvYmFsQWxwaGE9ZS5vcGFjaXR5LHQuc3Ryb2tlKCkpLHQucmVzdG9yZSgpfX0sX2luaXRFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuY2xpY2thYmxlJiYodGhpcy5fbWFwLm9uKCJtb3VzZW1vdmUiLHRoaXMuX29uTW91c2VNb3ZlLHRoaXMpLHRoaXMuX21hcC5vbigiY2xpY2sgZGJsY2xpY2sgY29udGV4dG1lbnUiLHRoaXMuX2ZpcmVNb3VzZUV2ZW50LHRoaXMpKX0sX2ZpcmVNb3VzZUV2ZW50OmZ1bmN0aW9uKHQpe3RoaXMuX2NvbnRhaW5zUG9pbnQodC5sYXllclBvaW50KSYmdGhpcy5maXJlKHQudHlwZSx0KX0sX29uTW91c2VNb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuX21hcCYmIXRoaXMuX21hcC5fYW5pbWF0aW5nWm9vbSYmKHRoaXMuX2NvbnRhaW5zUG9pbnQodC5sYXllclBvaW50KT8odGhpcy5fY3R4LmNhbnZhcy5zdHlsZS5jdXJzb3I9InBvaW50ZXIiLHRoaXMuX21vdXNlSW5zaWRlPSEwLHRoaXMuZmlyZSgibW91c2VvdmVyIix0KSk6dGhpcy5fbW91c2VJbnNpZGUmJih0aGlzLl9jdHguY2FudmFzLnN0eWxlLmN1cnNvcj0iIix0aGlzLl9tb3VzZUluc2lkZT0hMSx0aGlzLmZpcmUoIm1vdXNlb3V0Iix0KSkpfX0pLG8uTWFwLmluY2x1ZGUoby5QYXRoLlNWRyYmIXQuTF9QUkVGRVJfQ0FOVkFTfHwhby5Ccm93c2VyLmNhbnZhcz97fTp7X2luaXRQYXRoUm9vdDpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcy5fcGF0aFJvb3Q7aXx8KGk9dGhpcy5fcGF0aFJvb3Q9ZS5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxpLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdD10aGlzLl9jYW52YXNDdHg9aS5nZXRDb250ZXh0KCIyZCIpLHQubGluZUNhcD0icm91bmQiLHQubGluZUpvaW49InJvdW5kIix0aGlzLl9wYW5lcy5vdmVybGF5UGFuZS5hcHBlbmRDaGlsZChpKSx0aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmKHRoaXMuX3BhdGhSb290LmNsYXNzTmFtZT0ibGVhZmxldC16b29tLWFuaW1hdGVkIix0aGlzLm9uKCJ6b29tYW5pbSIsdGhpcy5fYW5pbWF0ZVBhdGhab29tKSx0aGlzLm9uKCJ6b29tZW5kIix0aGlzLl9lbmRQYXRoWm9vbSkpLHRoaXMub24oIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZUNhbnZhc1ZpZXdwb3J0KSx0aGlzLl91cGRhdGVDYW52YXNWaWV3cG9ydCgpKX0sX3VwZGF0ZUNhbnZhc1ZpZXdwb3J0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BhdGhab29taW5nKXt0aGlzLl91cGRhdGVQYXRoVmlld3BvcnQoKTt2YXIgdD10aGlzLl9wYXRoVmlld3BvcnQsZT10Lm1pbixpPXQubWF4LnN1YnRyYWN0KGUpLG49dGhpcy5fcGF0aFJvb3Q7by5Eb21VdGlsLnNldFBvc2l0aW9uKG4sZSksbi53aWR0aD1pLngsbi5oZWlnaHQ9aS55LG4uZ2V0Q29udGV4dCgiMmQiKS50cmFuc2xhdGUoLWUueCwtZS55KX19fSksby5MaW5lVXRpbD17c2ltcGxpZnk6ZnVuY3Rpb24odCxlKXtpZighZXx8IXQubGVuZ3RoKXJldHVybiB0LnNsaWNlKCk7dmFyIGk9ZSplO3JldHVybiB0PXRoaXMuX3JlZHVjZVBvaW50cyh0LGkpLHQ9dGhpcy5fc2ltcGxpZnlEUCh0LGkpfSxwb2ludFRvU2VnbWVudERpc3RhbmNlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHQsZSxpLCEwKSl9LGNsb3Nlc3RQb2ludE9uU2VnbWVudDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHQsZSxpKX0sX3NpbXBsaWZ5RFA6ZnVuY3Rpb24odCxlKXt2YXIgbj10Lmxlbmd0aCxvPXR5cGVvZiBVaW50OEFycmF5IT1pKyIiP1VpbnQ4QXJyYXk6QXJyYXkscz1uZXcgbyhuKTtzWzBdPXNbbi0xXT0xLHRoaXMuX3NpbXBsaWZ5RFBTdGVwKHQscyxlLDAsbi0xKTt2YXIgYSxyPVtdO2ZvcihhPTA7bj5hO2ErKylzW2FdJiZyLnB1c2godFthXSk7cmV0dXJuIHJ9LF9zaW1wbGlmeURQU3RlcDpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBzLGEscixoPTA7Zm9yKGE9bisxO28tMT49YTthKyspcj10aGlzLl9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudCh0W2FdLHRbbl0sdFtvXSwhMCkscj5oJiYocz1hLGg9cik7aD5pJiYoZVtzXT0xLHRoaXMuX3NpbXBsaWZ5RFBTdGVwKHQsZSxpLG4scyksdGhpcy5fc2ltcGxpZnlEUFN0ZXAodCxlLGkscyxvKSl9LF9yZWR1Y2VQb2ludHM6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9W3RbMF1dLG49MSxvPTAscz10Lmxlbmd0aDtzPm47bisrKXRoaXMuX3NxRGlzdCh0W25dLHRbb10pPmUmJihpLnB1c2godFtuXSksbz1uKTtyZXR1cm4gcy0xPm8mJmkucHVzaCh0W3MtMV0pLGl9LGNsaXBTZWdtZW50OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvLHMsYSxyPW4/dGhpcy5fbGFzdENvZGU6dGhpcy5fZ2V0Qml0Q29kZSh0LGkpLGg9dGhpcy5fZ2V0Qml0Q29kZShlLGkpO2Zvcih0aGlzLl9sYXN0Q29kZT1oOzspe2lmKCEocnxoKSlyZXR1cm5bdCxlXTtpZihyJmgpcmV0dXJuITE7bz1yfHxoLHM9dGhpcy5fZ2V0RWRnZUludGVyc2VjdGlvbih0LGUsbyxpKSxhPXRoaXMuX2dldEJpdENvZGUocyxpKSxvPT09cj8odD1zLHI9YSk6KGU9cyxoPWEpfX0sX2dldEVkZ2VJbnRlcnNlY3Rpb246ZnVuY3Rpb24odCxlLGksbil7dmFyIHM9ZS54LXQueCxhPWUueS10Lnkscj1uLm1pbixoPW4ubWF4O3JldHVybiA4Jmk/bmV3IG8uUG9pbnQodC54K3MqKGgueS10LnkpL2EsaC55KTo0Jmk/bmV3IG8uUG9pbnQodC54K3MqKHIueS10LnkpL2Esci55KToyJmk/bmV3IG8uUG9pbnQoaC54LHQueSthKihoLngtdC54KS9zKToxJmk/bmV3IG8uUG9pbnQoci54LHQueSthKihyLngtdC54KS9zKTp2b2lkIDB9LF9nZXRCaXRDb2RlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9MDtyZXR1cm4gdC54PGUubWluLng/aXw9MTp0Lng+ZS5tYXgueCYmKGl8PTIpLHQueTxlLm1pbi55P2l8PTQ6dC55PmUubWF4LnkmJihpfD04KSxpfSxfc3FEaXN0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS54LXQueCxuPWUueS10Lnk7cmV0dXJuIGkqaStuKm59LF9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgcyxhPWUueCxyPWUueSxoPWkueC1hLGw9aS55LXIsdT1oKmgrbCpsO3JldHVybiB1PjAmJihzPSgodC54LWEpKmgrKHQueS1yKSpsKS91LHM+MT8oYT1pLngscj1pLnkpOnM+MCYmKGErPWgqcyxyKz1sKnMpKSxoPXQueC1hLGw9dC55LXIsbj9oKmgrbCpsOm5ldyBvLlBvaW50KGEscil9fSxvLlBvbHlsaW5lPW8uUGF0aC5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtvLlBhdGgucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLGUpLHRoaXMuX2xhdGxuZ3M9dGhpcy5fY29udmVydExhdExuZ3ModCl9LG9wdGlvbnM6e3Ntb290aEZhY3RvcjoxLG5vQ2xpcDohMX0scHJvamVjdExhdGxuZ3M6ZnVuY3Rpb24oKXt0aGlzLl9vcmlnaW5hbFBvaW50cz1bXTtmb3IodmFyIHQ9MCxlPXRoaXMuX2xhdGxuZ3MubGVuZ3RoO2U+dDt0KyspdGhpcy5fb3JpZ2luYWxQb2ludHNbdF09dGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmdzW3RdKX0sZ2V0UGF0aFN0cmluZzpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5fcGFydHMubGVuZ3RoLGk9IiI7ZT50O3QrKylpKz10aGlzLl9nZXRQYXRoUGFydFN0cih0aGlzLl9wYXJ0c1t0XSk7cmV0dXJuIGl9LGdldExhdExuZ3M6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGF0bG5nc30sc2V0TGF0TG5nczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF0bG5ncz10aGlzLl9jb252ZXJ0TGF0TG5ncyh0KSx0aGlzLnJlZHJhdygpfSxhZGRMYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xhdGxuZ3MucHVzaChvLmxhdExuZyh0KSksdGhpcy5yZWRyYXcoKX0sc3BsaWNlTGF0TG5nczpmdW5jdGlvbigpe3ZhciB0PVtdLnNwbGljZS5hcHBseSh0aGlzLl9sYXRsbmdzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuX2NvbnZlcnRMYXRMbmdzKHRoaXMuX2xhdGxuZ3MsITApLHRoaXMucmVkcmF3KCksdH0sY2xvc2VzdExheWVyUG9pbnQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGksbj0xLzAscz10aGlzLl9wYXJ0cyxhPW51bGwscj0wLGg9cy5sZW5ndGg7aD5yO3IrKylmb3IodmFyIGw9c1tyXSx1PTEsYz1sLmxlbmd0aDtjPnU7dSsrKXtlPWxbdS0xXSxpPWxbdV07dmFyIGQ9by5MaW5lVXRpbC5fc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQodCxlLGksITApO24+ZCYmKG49ZCxhPW8uTGluZVV0aWwuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHQsZSxpKSl9cmV0dXJuIGEmJihhLmRpc3RhbmNlPU1hdGguc3FydChuKSksYX0sZ2V0Qm91bmRzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLkxhdExuZ0JvdW5kcyh0aGlzLmdldExhdExuZ3MoKSl9LF9jb252ZXJ0TGF0TG5nczpmdW5jdGlvbih0LGUpe3ZhciBpLG4scz1lP3Q6W107Zm9yKGk9MCxuPXQubGVuZ3RoO24+aTtpKyspe2lmKG8uVXRpbC5pc0FycmF5KHRbaV0pJiYibnVtYmVyIiE9dHlwZW9mIHRbaV1bMF0pcmV0dXJuO3NbaV09by5sYXRMbmcodFtpXSl9cmV0dXJuIHN9LF9pbml0RXZlbnRzOmZ1bmN0aW9uKCl7by5QYXRoLnByb3RvdHlwZS5faW5pdEV2ZW50cy5jYWxsKHRoaXMpfSxfZ2V0UGF0aFBhcnRTdHI6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9by5QYXRoLlZNTCxuPTAscz10Lmxlbmd0aCxhPSIiO3M+bjtuKyspZT10W25dLGkmJmUuX3JvdW5kKCksYSs9KG4/IkwiOiJNIikrZS54KyIgIitlLnk7cmV0dXJuIGF9LF9jbGlwUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG49dGhpcy5fb3JpZ2luYWxQb2ludHMscz1uLmxlbmd0aDtpZih0aGlzLm9wdGlvbnMubm9DbGlwKXJldHVybiB2b2lkKHRoaXMuX3BhcnRzPVtuXSk7dGhpcy5fcGFydHM9W107dmFyIGE9dGhpcy5fcGFydHMscj10aGlzLl9tYXAuX3BhdGhWaWV3cG9ydCxoPW8uTGluZVV0aWw7Zm9yKHQ9MCxlPTA7cy0xPnQ7dCsrKWk9aC5jbGlwU2VnbWVudChuW3RdLG5bdCsxXSxyLHQpLGkmJihhW2VdPWFbZV18fFtdLGFbZV0ucHVzaChpWzBdKSwoaVsxXSE9PW5bdCsxXXx8dD09PXMtMikmJihhW2VdLnB1c2goaVsxXSksZSsrKSl9LF9zaW1wbGlmeVBvaW50czpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9wYXJ0cyxlPW8uTGluZVV0aWwsaT0wLG49dC5sZW5ndGg7bj5pO2krKyl0W2ldPWUuc2ltcGxpZnkodFtpXSx0aGlzLm9wdGlvbnMuc21vb3RoRmFjdG9yKX0sX3VwZGF0ZVBhdGg6ZnVuY3Rpb24oKXt0aGlzLl9tYXAmJih0aGlzLl9jbGlwUG9pbnRzKCksdGhpcy5fc2ltcGxpZnlQb2ludHMoKSxvLlBhdGgucHJvdG90eXBlLl91cGRhdGVQYXRoLmNhbGwodGhpcykpfX0pLG8ucG9seWxpbmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG8uUG9seWxpbmUodCxlKX0sby5Qb2x5VXRpbD17fSxvLlBvbHlVdGlsLmNsaXBQb2x5Z29uPWZ1bmN0aW9uKHQsZSl7dmFyIGksbixzLGEscixoLGwsdSxjLGQ9WzEsNCwyLDhdLHA9by5MaW5lVXRpbDtmb3Iobj0wLGw9dC5sZW5ndGg7bD5uO24rKyl0W25dLl9jb2RlPXAuX2dldEJpdENvZGUodFtuXSxlKTtmb3IoYT0wOzQ+YTthKyspe2Zvcih1PWRbYV0saT1bXSxuPTAsbD10Lmxlbmd0aCxzPWwtMTtsPm47cz1uKyspcj10W25dLGg9dFtzXSxyLl9jb2RlJnU/aC5fY29kZSZ1fHwoYz1wLl9nZXRFZGdlSW50ZXJzZWN0aW9uKGgscix1LGUpLGMuX2NvZGU9cC5fZ2V0Qml0Q29kZShjLGUpLGkucHVzaChjKSk6KGguX2NvZGUmdSYmKGM9cC5fZ2V0RWRnZUludGVyc2VjdGlvbihoLHIsdSxlKSxjLl9jb2RlPXAuX2dldEJpdENvZGUoYyxlKSxpLnB1c2goYykpLGkucHVzaChyKSk7dD1pfXJldHVybiB0fSxvLlBvbHlnb249by5Qb2x5bGluZS5leHRlbmQoe29wdGlvbnM6e2ZpbGw6ITB9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtvLlBvbHlsaW5lLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyx0LGUpLHRoaXMuX2luaXRXaXRoSG9sZXModCl9LF9pbml0V2l0aEhvbGVzOmZ1bmN0aW9uKHQpe3ZhciBlLGksbjtpZih0JiZvLlV0aWwuaXNBcnJheSh0WzBdKSYmIm51bWJlciIhPXR5cGVvZiB0WzBdWzBdKWZvcih0aGlzLl9sYXRsbmdzPXRoaXMuX2NvbnZlcnRMYXRMbmdzKHRbMF0pLHRoaXMuX2hvbGVzPXQuc2xpY2UoMSksZT0wLGk9dGhpcy5faG9sZXMubGVuZ3RoO2k+ZTtlKyspbj10aGlzLl9ob2xlc1tlXT10aGlzLl9jb252ZXJ0TGF0TG5ncyh0aGlzLl9ob2xlc1tlXSksblswXS5lcXVhbHMobltuLmxlbmd0aC0xXSkmJm4ucG9wKCk7dD10aGlzLl9sYXRsbmdzLHQubGVuZ3RoPj0yJiZ0WzBdLmVxdWFscyh0W3QubGVuZ3RoLTFdKSYmdC5wb3AoKX0scHJvamVjdExhdGxuZ3M6ZnVuY3Rpb24oKXtpZihvLlBvbHlsaW5lLnByb3RvdHlwZS5wcm9qZWN0TGF0bG5ncy5jYWxsKHRoaXMpLHRoaXMuX2hvbGVQb2ludHM9W10sdGhpcy5faG9sZXMpe3ZhciB0LGUsaSxuO2Zvcih0PTAsaT10aGlzLl9ob2xlcy5sZW5ndGg7aT50O3QrKylmb3IodGhpcy5faG9sZVBvaW50c1t0XT1bXSxlPTAsbj10aGlzLl9ob2xlc1t0XS5sZW5ndGg7bj5lO2UrKyl0aGlzLl9ob2xlUG9pbnRzW3RdW2VdPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5faG9sZXNbdF1bZV0pfX0sc2V0TGF0TG5nczpmdW5jdGlvbih0KXtyZXR1cm4gdCYmby5VdGlsLmlzQXJyYXkodFswXSkmJiJudW1iZXIiIT10eXBlb2YgdFswXVswXT8odGhpcy5faW5pdFdpdGhIb2xlcyh0KSx0aGlzLnJlZHJhdygpKTpvLlBvbHlsaW5lLnByb3RvdHlwZS5zZXRMYXRMbmdzLmNhbGwodGhpcyx0KX0sX2NsaXBQb2ludHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9vcmlnaW5hbFBvaW50cyxlPVtdO2lmKHRoaXMuX3BhcnRzPVt0XS5jb25jYXQodGhpcy5faG9sZVBvaW50cyksIXRoaXMub3B0aW9ucy5ub0NsaXApe2Zvcih2YXIgaT0wLG49dGhpcy5fcGFydHMubGVuZ3RoO24+aTtpKyspe3ZhciBzPW8uUG9seVV0aWwuY2xpcFBvbHlnb24odGhpcy5fcGFydHNbaV0sdGhpcy5fbWFwLl9wYXRoVmlld3BvcnQpO3MubGVuZ3RoJiZlLnB1c2gocyl9dGhpcy5fcGFydHM9ZX19LF9nZXRQYXRoUGFydFN0cjpmdW5jdGlvbih0KXt2YXIgZT1vLlBvbHlsaW5lLnByb3RvdHlwZS5fZ2V0UGF0aFBhcnRTdHIuY2FsbCh0aGlzLHQpO3JldHVybiBlKyhvLkJyb3dzZXIuc3ZnPyJ6IjoieCIpfX0pLG8ucG9seWdvbj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgby5Qb2x5Z29uKHQsZSl9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gby5GZWF0dXJlR3JvdXAuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7dGhpcy5fbGF5ZXJzPXt9LHRoaXMuX29wdGlvbnM9ZSx0aGlzLnNldExhdExuZ3ModCl9LHNldExhdExuZ3M6ZnVuY3Rpb24oZSl7dmFyIGk9MCxuPWUubGVuZ3RoO2Zvcih0aGlzLmVhY2hMYXllcihmdW5jdGlvbih0KXtuPmk/dC5zZXRMYXRMbmdzKGVbaSsrXSk6dGhpcy5yZW1vdmVMYXllcih0KX0sdGhpcyk7bj5pOyl0aGlzLmFkZExheWVyKG5ldyB0KGVbaSsrXSx0aGlzLl9vcHRpb25zKSk7cmV0dXJuIHRoaXN9LGdldExhdExuZ3M6ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24oZSl7dC5wdXNoKGUuZ2V0TGF0TG5ncygpKX0pLHR9fSl9by5NdWx0aVBvbHlsaW5lPXQoby5Qb2x5bGluZSksby5NdWx0aVBvbHlnb249dChvLlBvbHlnb24pLG8ubXVsdGlQb2x5bGluZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgby5NdWx0aVBvbHlsaW5lKHQsZSl9LG8ubXVsdGlQb2x5Z29uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBvLk11bHRpUG9seWdvbih0LGUpfX0oKSxvLlJlY3RhbmdsZT1vLlBvbHlnb24uZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7by5Qb2x5Z29uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyx0aGlzLl9ib3VuZHNUb0xhdExuZ3ModCksZSl9LHNldEJvdW5kczpmdW5jdGlvbih0KXt0aGlzLnNldExhdExuZ3ModGhpcy5fYm91bmRzVG9MYXRMbmdzKHQpKX0sX2JvdW5kc1RvTGF0TG5nczpmdW5jdGlvbih0KXtyZXR1cm4gdD1vLmxhdExuZ0JvdW5kcyh0KSxbdC5nZXRTb3V0aFdlc3QoKSx0LmdldE5vcnRoV2VzdCgpLHQuZ2V0Tm9ydGhFYXN0KCksdC5nZXRTb3V0aEVhc3QoKV19fSksby5yZWN0YW5nbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG8uUmVjdGFuZ2xlKHQsZSl9LG8uQ2lyY2xlPW8uUGF0aC5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCxlLGkpe28uUGF0aC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsaSksdGhpcy5fbGF0bG5nPW8ubGF0TG5nKHQpLHRoaXMuX21SYWRpdXM9ZX0sb3B0aW9uczp7ZmlsbDohMH0sc2V0TGF0TG5nOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sYXRsbmc9by5sYXRMbmcodCksdGhpcy5yZWRyYXcoKX0sc2V0UmFkaXVzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9tUmFkaXVzPXQsdGhpcy5yZWRyYXcoKX0scHJvamVjdExhdGxuZ3M6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRMbmdSYWRpdXMoKSxlPXRoaXMuX2xhdGxuZyxpPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQoW2UubGF0LGUubG5nLXRdKTt0aGlzLl9wb2ludD10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KGUpLHRoaXMuX3JhZGl1cz1NYXRoLm1heCh0aGlzLl9wb2ludC54LWkueCwxKX0sZ2V0Qm91bmRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0TG5nUmFkaXVzKCksZT10aGlzLl9tUmFkaXVzLzQwMDc1MDE3KjM2MCxpPXRoaXMuX2xhdGxuZztyZXR1cm4gbmV3IG8uTGF0TG5nQm91bmRzKFtpLmxhdC1lLGkubG5nLXRdLFtpLmxhdCtlLGkubG5nK3RdKX0sZ2V0TGF0TG5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhdGxuZ30sZ2V0UGF0aFN0cmluZzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BvaW50LGU9dGhpcy5fcmFkaXVzO3JldHVybiB0aGlzLl9jaGVja0lmRW1wdHkoKT8iIjpvLkJyb3dzZXIuc3ZnPyJNIit0LngrIiwiKyh0LnktZSkrIkEiK2UrIiwiK2UrIiwwLDEsMSwiKyh0LngtLjEpKyIsIisodC55LWUpKyIgeiI6KHQuX3JvdW5kKCksZT1NYXRoLnJvdW5kKGUpLCJBTCAiK3QueCsiLCIrdC55KyIgIitlKyIsIitlKyIgMCwyMzU5MjYwMCIpfSxnZXRSYWRpdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbVJhZGl1c30sX2dldExhdFJhZGl1czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tUmFkaXVzLzQwMDc1MDE3KjM2MH0sX2dldExuZ1JhZGl1czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRMYXRSYWRpdXMoKS9NYXRoLmNvcyhvLkxhdExuZy5ERUdfVE9fUkFEKnRoaXMuX2xhdGxuZy5sYXQpfSxfY2hlY2tJZkVtcHR5OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX21hcClyZXR1cm4hMTt2YXIgdD10aGlzLl9tYXAuX3BhdGhWaWV3cG9ydCxlPXRoaXMuX3JhZGl1cyxpPXRoaXMuX3BvaW50O3JldHVybiBpLngtZT50Lm1heC54fHxpLnktZT50Lm1heC55fHxpLngrZTx0Lm1pbi54fHxpLnkrZTx0Lm1pbi55fX0pLG8uY2lyY2xlPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IG8uQ2lyY2xlKHQsZSxpKX0sby5DaXJjbGVNYXJrZXI9by5DaXJjbGUuZXh0ZW5kKHtvcHRpb25zOntyYWRpdXM6MTAsd2VpZ2h0OjJ9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtvLkNpcmNsZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdCxudWxsLGUpLHRoaXMuX3JhZGl1cz10aGlzLm9wdGlvbnMucmFkaXVzfSxwcm9qZWN0TGF0bG5nczpmdW5jdGlvbigpe3RoaXMuX3BvaW50PXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fbGF0bG5nKX0sX3VwZGF0ZVN0eWxlOmZ1bmN0aW9uKCl7by5DaXJjbGUucHJvdG90eXBlLl91cGRhdGVTdHlsZS5jYWxsKHRoaXMpLHRoaXMuc2V0UmFkaXVzKHRoaXMub3B0aW9ucy5yYWRpdXMpfSxzZXRMYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIG8uQ2lyY2xlLnByb3RvdHlwZS5zZXRMYXRMbmcuY2FsbCh0aGlzLHQpLHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5faXNPcGVuJiZ0aGlzLl9wb3B1cC5zZXRMYXRMbmcodCksdGhpc30sc2V0UmFkaXVzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMucmFkaXVzPXRoaXMuX3JhZGl1cz10LHRoaXMucmVkcmF3KCl9LGdldFJhZGl1czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYWRpdXN9fSksby5jaXJjbGVNYXJrZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG8uQ2lyY2xlTWFya2VyKHQsZSl9LG8uUG9seWxpbmUuaW5jbHVkZShvLlBhdGguQ0FOVkFTP3tfY29udGFpbnNQb2ludDpmdW5jdGlvbih0LGUpe3ZhciBpLG4scyxhLHIsaCxsLHU9dGhpcy5vcHRpb25zLndlaWdodC8yO2ZvcihvLkJyb3dzZXIudG91Y2gmJih1Kz0xMCksaT0wLGE9dGhpcy5fcGFydHMubGVuZ3RoO2E+aTtpKyspZm9yKGw9dGhpcy5fcGFydHNbaV0sbj0wLHI9bC5sZW5ndGgscz1yLTE7cj5uO3M9bisrKWlmKChlfHwwIT09bikmJihoPW8uTGluZVV0aWwucG9pbnRUb1NlZ21lbnREaXN0YW5jZSh0LGxbc10sbFtuXSksdT49aCkpcmV0dXJuITA7cmV0dXJuITF9fTp7fSksby5Qb2x5Z29uLmluY2x1ZGUoby5QYXRoLkNBTlZBUz97X2NvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxuLHMsYSxyLGgsbCx1PSExO2lmKG8uUG9seWxpbmUucHJvdG90eXBlLl9jb250YWluc1BvaW50LmNhbGwodGhpcyx0LCEwKSlyZXR1cm4hMDtmb3Iocz0wLGg9dGhpcy5fcGFydHMubGVuZ3RoO2g+cztzKyspZm9yKGU9dGhpcy5fcGFydHNbc10sYT0wLGw9ZS5sZW5ndGgscj1sLTE7bD5hO3I9YSsrKWk9ZVthXSxuPWVbcl0saS55PnQueSE9bi55PnQueSYmdC54PChuLngtaS54KSoodC55LWkueSkvKG4ueS1pLnkpK2kueCYmKHU9IXUpO3JldHVybiB1fX06e30pLG8uQ2lyY2xlLmluY2x1ZGUoby5QYXRoLkNBTlZBUz97X2RyYXdQYXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcG9pbnQ7dGhpcy5fY3R4LmJlZ2luUGF0aCgpLHRoaXMuX2N0eC5hcmModC54LHQueSx0aGlzLl9yYWRpdXMsMCwyKk1hdGguUEksITEpfSxfY29udGFpbnNQb2ludDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wb2ludCxpPXRoaXMub3B0aW9ucy5zdHJva2U/dGhpcy5vcHRpb25zLndlaWdodC8yOjA7cmV0dXJuIHQuZGlzdGFuY2VUbyhlKTw9dGhpcy5fcmFkaXVzK2l9fTp7fSksby5DaXJjbGVNYXJrZXIuaW5jbHVkZShvLlBhdGguQ0FOVkFTP3tfdXBkYXRlU3R5bGU6ZnVuY3Rpb24oKXtvLlBhdGgucHJvdG90eXBlLl91cGRhdGVTdHlsZS5jYWxsKHRoaXMpfX06e30pLG8uR2VvSlNPTj1vLkZlYXR1cmVHcm91cC5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtvLnNldE9wdGlvbnModGhpcyxlKSx0aGlzLl9sYXllcnM9e30sdCYmdGhpcy5hZGREYXRhKHQpfSxhZGREYXRhOmZ1bmN0aW9uKHQpe3ZhciBlLGksbixzPW8uVXRpbC5pc0FycmF5KHQpP3Q6dC5mZWF0dXJlcztpZihzKXtmb3IoZT0wLGk9cy5sZW5ndGg7aT5lO2UrKyluPXNbZV0sKG4uZ2VvbWV0cmllc3x8bi5nZW9tZXRyeXx8bi5mZWF0dXJlc3x8bi5jb29yZGluYXRlcykmJnRoaXMuYWRkRGF0YShzW2VdKTtyZXR1cm4gdGhpc312YXIgYT10aGlzLm9wdGlvbnM7aWYoIWEuZmlsdGVyfHxhLmZpbHRlcih0KSl7dmFyIHI9by5HZW9KU09OLmdlb21ldHJ5VG9MYXllcih0LGEucG9pbnRUb0xheWVyLGEuY29vcmRzVG9MYXRMbmcsYSk7cmV0dXJuIHIuZmVhdHVyZT1vLkdlb0pTT04uYXNGZWF0dXJlKHQpLHIuZGVmYXVsdE9wdGlvbnM9ci5vcHRpb25zLHRoaXMucmVzZXRTdHlsZShyKSxhLm9uRWFjaEZlYXR1cmUmJmEub25FYWNoRmVhdHVyZSh0LHIpLHRoaXMuYWRkTGF5ZXIocil9fSxyZXNldFN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5zdHlsZTtlJiYoby5VdGlsLmV4dGVuZCh0Lm9wdGlvbnMsdC5kZWZhdWx0T3B0aW9ucyksdGhpcy5fc2V0TGF5ZXJTdHlsZSh0LGUpKX0sc2V0U3R5bGU6ZnVuY3Rpb24odCl7dGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24oZSl7dGhpcy5fc2V0TGF5ZXJTdHlsZShlLHQpfSx0aGlzKX0sX3NldExheWVyU3R5bGU6ZnVuY3Rpb24odCxlKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKGU9ZSh0LmZlYXR1cmUpKSx0LnNldFN0eWxlJiZ0LnNldFN0eWxlKGUpfX0pLG8uZXh0ZW5kKG8uR2VvSlNPTix7Z2VvbWV0cnlUb0xheWVyOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBzLGEscixoLGw9IkZlYXR1cmUiPT09dC50eXBlP3QuZ2VvbWV0cnk6dCx1PWwuY29vcmRpbmF0ZXMsYz1bXTtzd2l0Y2goaT1pfHx0aGlzLmNvb3Jkc1RvTGF0TG5nLGwudHlwZSl7Y2FzZSJQb2ludCI6cmV0dXJuIHM9aSh1KSxlP2UodCxzKTpuZXcgby5NYXJrZXIocyk7Y2FzZSJNdWx0aVBvaW50Ijpmb3Iocj0wLGg9dS5sZW5ndGg7aD5yO3IrKylzPWkodVtyXSksYy5wdXNoKGU/ZSh0LHMpOm5ldyBvLk1hcmtlcihzKSk7cmV0dXJuIG5ldyBvLkZlYXR1cmVHcm91cChjKTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBhPXRoaXMuY29vcmRzVG9MYXRMbmdzKHUsMCxpKSxuZXcgby5Qb2x5bGluZShhLG4pO2Nhc2UiUG9seWdvbiI6aWYoMj09PXUubGVuZ3RoJiYhdVsxXS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIEdlb0pTT04gb2JqZWN0LiIpO3JldHVybiBhPXRoaXMuY29vcmRzVG9MYXRMbmdzKHUsMSxpKSxuZXcgby5Qb2x5Z29uKGEsbik7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnJldHVybiBhPXRoaXMuY29vcmRzVG9MYXRMbmdzKHUsMSxpKSxuZXcgby5NdWx0aVBvbHlsaW5lKGEsbik7Y2FzZSJNdWx0aVBvbHlnb24iOnJldHVybiBhPXRoaXMuY29vcmRzVG9MYXRMbmdzKHUsMixpKSxuZXcgby5NdWx0aVBvbHlnb24oYSxuKTtjYXNlIkdlb21ldHJ5Q29sbGVjdGlvbiI6Zm9yKHI9MCxoPWwuZ2VvbWV0cmllcy5sZW5ndGg7aD5yO3IrKyljLnB1c2godGhpcy5nZW9tZXRyeVRvTGF5ZXIoe2dlb21ldHJ5OmwuZ2VvbWV0cmllc1tyXSx0eXBlOiJGZWF0dXJlIixwcm9wZXJ0aWVzOnQucHJvcGVydGllc30sZSxpLG4pKTtyZXR1cm4gbmV3IG8uRmVhdHVyZUdyb3VwKGMpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIEdlb0pTT04gb2JqZWN0LiIpfX0sY29vcmRzVG9MYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLkxhdExuZyh0WzFdLHRbMF0sdFsyXSl9LGNvb3Jkc1RvTGF0TG5nczpmdW5jdGlvbih0LGUsaSl7dmFyIG4sbyxzLGE9W107Zm9yKG89MCxzPXQubGVuZ3RoO3M+bztvKyspbj1lP3RoaXMuY29vcmRzVG9MYXRMbmdzKHRbb10sZS0xLGkpOihpfHx0aGlzLmNvb3Jkc1RvTGF0TG5nKSh0W29dKSxhLnB1c2gobik7cmV0dXJuIGF9LGxhdExuZ1RvQ29vcmRzOmZ1bmN0aW9uKHQpe3ZhciBlPVt0LmxuZyx0LmxhdF07cmV0dXJuIHQuYWx0IT09aSYmZS5wdXNoKHQuYWx0KSxlfSxsYXRMbmdzVG9Db29yZHM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9MCxuPXQubGVuZ3RoO24+aTtpKyspZS5wdXNoKG8uR2VvSlNPTi5sYXRMbmdUb0Nvb3Jkcyh0W2ldKSk7cmV0dXJuIGV9LGdldEZlYXR1cmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5mZWF0dXJlP28uZXh0ZW5kKHt9LHQuZmVhdHVyZSx7Z2VvbWV0cnk6ZX0pOm8uR2VvSlNPTi5hc0ZlYXR1cmUoZSl9LGFzRmVhdHVyZTpmdW5jdGlvbih0KXtyZXR1cm4iRmVhdHVyZSI9PT10LnR5cGU/dDp7dHlwZToiRmVhdHVyZSIscHJvcGVydGllczp7fSxnZW9tZXRyeTp0fX19KTt2YXIgYT17dG9HZW9KU09OOmZ1bmN0aW9uKCl7cmV0dXJuIG8uR2VvSlNPTi5nZXRGZWF0dXJlKHRoaXMse3R5cGU6IlBvaW50Iixjb29yZGluYXRlczpvLkdlb0pTT04ubGF0TG5nVG9Db29yZHModGhpcy5nZXRMYXRMbmcoKSl9KX19O28uTWFya2VyLmluY2x1ZGUoYSksby5DaXJjbGUuaW5jbHVkZShhKSxvLkNpcmNsZU1hcmtlci5pbmNsdWRlKGEpLG8uUG9seWxpbmUuaW5jbHVkZSh7dG9HZW9KU09OOmZ1bmN0aW9uKCl7cmV0dXJuIG8uR2VvSlNPTi5nZXRGZWF0dXJlKHRoaXMse3R5cGU6IkxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOm8uR2VvSlNPTi5sYXRMbmdzVG9Db29yZHModGhpcy5nZXRMYXRMbmdzKCkpfSl9fSksby5Qb2x5Z29uLmluY2x1ZGUoe3RvR2VvSlNPTjpmdW5jdGlvbigpe3ZhciB0LGUsaSxuPVtvLkdlb0pTT04ubGF0TG5nc1RvQ29vcmRzKHRoaXMuZ2V0TGF0TG5ncygpKV07aWYoblswXS5wdXNoKG5bMF1bMF0pLHRoaXMuX2hvbGVzKWZvcih0PTAsZT10aGlzLl9ob2xlcy5sZW5ndGg7ZT50O3QrKylpPW8uR2VvSlNPTi5sYXRMbmdzVG9Db29yZHModGhpcy5faG9sZXNbdF0pLGkucHVzaChpWzBdKSxuLnB1c2goaSk7cmV0dXJuIG8uR2VvSlNPTi5nZXRGZWF0dXJlKHRoaXMse3R5cGU6IlBvbHlnb24iLGNvb3JkaW5hdGVzOm59KX19KSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZWFjaExheWVyKGZ1bmN0aW9uKHQpe2UucHVzaCh0LnRvR2VvSlNPTigpLmdlb21ldHJ5LmNvb3JkaW5hdGVzKX0pLG8uR2VvSlNPTi5nZXRGZWF0dXJlKHRoaXMse3R5cGU6dCxjb29yZGluYXRlczplfSl9fW8uTXVsdGlQb2x5bGluZS5pbmNsdWRlKHt0b0dlb0pTT046dCgiTXVsdGlMaW5lU3RyaW5nIil9KSxvLk11bHRpUG9seWdvbi5pbmNsdWRlKHt0b0dlb0pTT046dCgiTXVsdGlQb2x5Z29uIil9KSxvLkxheWVyR3JvdXAuaW5jbHVkZSh7dG9HZW9KU09OOmZ1bmN0aW9uKCl7dmFyIGUsaT10aGlzLmZlYXR1cmUmJnRoaXMuZmVhdHVyZS5nZW9tZXRyeSxuPVtdO2lmKGkmJiJNdWx0aVBvaW50Ij09PWkudHlwZSlyZXR1cm4gdCgiTXVsdGlQb2ludCIpLmNhbGwodGhpcyk7dmFyIHM9aSYmIkdlb21ldHJ5Q29sbGVjdGlvbiI9PT1pLnR5cGU7cmV0dXJuIHRoaXMuZWFjaExheWVyKGZ1bmN0aW9uKHQpe3QudG9HZW9KU09OJiYoZT10LnRvR2VvSlNPTigpLG4ucHVzaChzP2UuZ2VvbWV0cnk6by5HZW9KU09OLmFzRmVhdHVyZShlKSkpfSkscz9vLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLHtnZW9tZXRyaWVzOm4sdHlwZToiR2VvbWV0cnlDb2xsZWN0aW9uIn0pOnt0eXBlOiJGZWF0dXJlQ29sbGVjdGlvbiIsZmVhdHVyZXM6bn19fSl9KCksby5nZW9Kc29uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBvLkdlb0pTT04odCxlKX0sby5Eb21FdmVudD17YWRkTGlzdGVuZXI6ZnVuY3Rpb24odCxlLGksbil7dmFyIHMsYSxyLGg9by5zdGFtcChpKSxsPSJfbGVhZmxldF8iK2UraDtyZXR1cm4gdFtsXT90aGlzOihzPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNhbGwobnx8dCxlfHxvLkRvbUV2ZW50Ll9nZXRFdmVudCgpKX0sby5Ccm93c2VyLnBvaW50ZXImJjA9PT1lLmluZGV4T2YoInRvdWNoIik/dGhpcy5hZGRQb2ludGVyTGlzdGVuZXIodCxlLHMsaCk6KG8uQnJvd3Nlci50b3VjaCYmImRibGNsaWNrIj09PWUmJnRoaXMuYWRkRG91YmxlVGFwTGlzdGVuZXImJnRoaXMuYWRkRG91YmxlVGFwTGlzdGVuZXIodCxzLGgpLCJhZGRFdmVudExpc3RlbmVyImluIHQ/Im1vdXNld2hlZWwiPT09ZT8odC5hZGRFdmVudExpc3RlbmVyKCJET01Nb3VzZVNjcm9sbCIscywhMSksdC5hZGRFdmVudExpc3RlbmVyKGUscywhMSkpOiJtb3VzZWVudGVyIj09PWV8fCJtb3VzZWxlYXZlIj09PWU/KGE9cyxyPSJtb3VzZWVudGVyIj09PWU/Im1vdXNlb3ZlciI6Im1vdXNlb3V0IixzPWZ1bmN0aW9uKGUpe3JldHVybiBvLkRvbUV2ZW50Ll9jaGVja01vdXNlKHQsZSk/YShlKTp2b2lkIDB9LHQuYWRkRXZlbnRMaXN0ZW5lcihyLHMsITEpKToiY2xpY2siPT09ZSYmby5Ccm93c2VyLmFuZHJvaWQ/KGE9cyxzPWZ1bmN0aW9uKHQpe3JldHVybiBvLkRvbUV2ZW50Ll9maWx0ZXJDbGljayh0LGEpfSx0LmFkZEV2ZW50TGlzdGVuZXIoZSxzLCExKSk6dC5hZGRFdmVudExpc3RlbmVyKGUscywhMSk6ImF0dGFjaEV2ZW50ImluIHQmJnQuYXR0YWNoRXZlbnQoIm9uIitlLHMpLHRbbF09cyx0aGlzKSl9LHJlbW92ZUxpc3RlbmVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1vLnN0YW1wKGkpLHM9Il9sZWFmbGV0XyIrZStuLGE9dFtzXTtyZXR1cm4gYT8oby5Ccm93c2VyLnBvaW50ZXImJjA9PT1lLmluZGV4T2YoInRvdWNoIik/dGhpcy5yZW1vdmVQb2ludGVyTGlzdGVuZXIodCxlLG4pOm8uQnJvd3Nlci50b3VjaCYmImRibGNsaWNrIj09PWUmJnRoaXMucmVtb3ZlRG91YmxlVGFwTGlzdGVuZXI/dGhpcy5yZW1vdmVEb3VibGVUYXBMaXN0ZW5lcih0LG4pOiJyZW1vdmVFdmVudExpc3RlbmVyImluIHQ/Im1vdXNld2hlZWwiPT09ZT8odC5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Nb3VzZVNjcm9sbCIsYSwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKGUsYSwhMSkpOiJtb3VzZWVudGVyIj09PWV8fCJtb3VzZWxlYXZlIj09PWU/dC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIj09PWU/Im1vdXNlb3ZlciI6Im1vdXNlb3V0IixhLCExKTp0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxhLCExKToiZGV0YWNoRXZlbnQiaW4gdCYmdC5kZXRhY2hFdmVudCgib24iK2UsYSksdFtzXT1udWxsLHRoaXMpOnRoaXN9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5zdG9wUHJvcGFnYXRpb24/dC5zdG9wUHJvcGFnYXRpb24oKTp0LmNhbmNlbEJ1YmJsZT0hMCxvLkRvbUV2ZW50Ll9za2lwcGVkKHQpLHRoaXN9LGRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbjpmdW5jdGlvbih0KXt2YXIgZT1vLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbjtyZXR1cm4gby5Eb21FdmVudC5vbih0LCJtb3VzZXdoZWVsIixlKS5vbih0LCJNb3pNb3VzZVBpeGVsU2Nyb2xsIixlKX0sZGlzYWJsZUNsaWNrUHJvcGFnYXRpb246ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW8uRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uLGk9by5EcmFnZ2FibGUuU1RBUlQubGVuZ3RoLTE7aT49MDtpLS0pby5Eb21FdmVudC5vbih0LG8uRHJhZ2dhYmxlLlNUQVJUW2ldLGUpO3JldHVybiBvLkRvbUV2ZW50Lm9uKHQsImNsaWNrIixvLkRvbUV2ZW50Ll9mYWtlU3RvcCkub24odCwiZGJsY2xpY2siLGUpfSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdD90LnByZXZlbnREZWZhdWx0KCk6dC5yZXR1cm5WYWx1ZT0hMSx0aGlzfSxzdG9wOmZ1bmN0aW9uKHQpe3JldHVybiBvLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLnN0b3BQcm9wYWdhdGlvbih0KX0sZ2V0TW91c2VQb3NpdGlvbjpmdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybiBuZXcgby5Qb2ludCh0LmNsaWVudFgsdC5jbGllbnRZKTt2YXIgaT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBuZXcgby5Qb2ludCh0LmNsaWVudFgtaS5sZWZ0LWUuY2xpZW50TGVmdCx0LmNsaWVudFktaS50b3AtZS5jbGllbnRUb3ApfSxnZXRXaGVlbERlbHRhOmZ1bmN0aW9uKHQpe3ZhciBlPTA7cmV0dXJuIHQud2hlZWxEZWx0YSYmKGU9dC53aGVlbERlbHRhLzEyMCksdC5kZXRhaWwmJihlPS10LmRldGFpbC8zKSxlfSxfc2tpcEV2ZW50czp7fSxfZmFrZVN0b3A6ZnVuY3Rpb24odCl7by5Eb21FdmVudC5fc2tpcEV2ZW50c1t0LnR5cGVdPSEwfSxfc2tpcHBlZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9za2lwRXZlbnRzW3QudHlwZV07cmV0dXJuIHRoaXMuX3NraXBFdmVudHNbdC50eXBlXT0hMSxlfSxfY2hlY2tNb3VzZTpmdW5jdGlvbih0LGUpe3ZhciBpPWUucmVsYXRlZFRhcmdldDtpZighaSlyZXR1cm4hMDt0cnl7Zm9yKDtpJiZpIT09dDspaT1pLnBhcmVudE5vZGV9Y2F0Y2gobil7cmV0dXJuITF9cmV0dXJuIGkhPT10fSxfZ2V0RXZlbnQ6ZnVuY3Rpb24oKXt2YXIgZT10LmV2ZW50O2lmKCFlKWZvcih2YXIgaT1hcmd1bWVudHMuY2FsbGVlLmNhbGxlcjtpJiYoZT1pLmFyZ3VtZW50c1swXSwhZXx8dC5FdmVudCE9PWUuY29uc3RydWN0b3IpOylpPWkuY2FsbGVyO3JldHVybiBlfSxfZmlsdGVyQ2xpY2s6ZnVuY3Rpb24odCxlKXt2YXIgaT10LnRpbWVTdGFtcHx8dC5vcmlnaW5hbEV2ZW50LnRpbWVTdGFtcCxuPW8uRG9tRXZlbnQuX2xhc3RDbGljayYmaS1vLkRvbUV2ZW50Ll9sYXN0Q2xpY2s7cmV0dXJuIG4mJm4+MTAwJiY1MDA+bnx8dC50YXJnZXQuX3NpbXVsYXRlZENsaWNrJiYhdC5fc2ltdWxhdGVkP3ZvaWQgby5Eb21FdmVudC5zdG9wKHQpOihvLkRvbUV2ZW50Ll9sYXN0Q2xpY2s9aSxlKHQpKX19LG8uRG9tRXZlbnQub249by5Eb21FdmVudC5hZGRMaXN0ZW5lcixvLkRvbUV2ZW50Lm9mZj1vLkRvbUV2ZW50LnJlbW92ZUxpc3RlbmVyLG8uRHJhZ2dhYmxlPW8uQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpvLk1peGluLkV2ZW50cyxzdGF0aWNzOntTVEFSVDpvLkJyb3dzZXIudG91Y2g/WyJ0b3VjaHN0YXJ0IiwibW91c2Vkb3duIl06WyJtb3VzZWRvd24iXSxFTkQ6e21vdXNlZG93bjoibW91c2V1cCIsdG91Y2hzdGFydDoidG91Y2hlbmQiLHBvaW50ZXJkb3duOiJ0b3VjaGVuZCIsTVNQb2ludGVyRG93bjoidG91Y2hlbmQifSxNT1ZFOnttb3VzZWRvd246Im1vdXNlbW92ZSIsdG91Y2hzdGFydDoidG91Y2htb3ZlIixwb2ludGVyZG93bjoidG91Y2htb3ZlIixNU1BvaW50ZXJEb3duOiJ0b3VjaG1vdmUifX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX2VsZW1lbnQ9dCx0aGlzLl9kcmFnU3RhcnRUYXJnZXQ9ZXx8dH0sZW5hYmxlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2VuYWJsZWQpe2Zvcih2YXIgdD1vLkRyYWdnYWJsZS5TVEFSVC5sZW5ndGgtMTt0Pj0wO3QtLSlvLkRvbUV2ZW50Lm9uKHRoaXMuX2RyYWdTdGFydFRhcmdldCxvLkRyYWdnYWJsZS5TVEFSVFt0XSx0aGlzLl9vbkRvd24sdGhpcyk7dGhpcy5fZW5hYmxlZD0hMH19LGRpc2FibGU6ZnVuY3Rpb24oKXtpZih0aGlzLl9lbmFibGVkKXtmb3IodmFyIHQ9by5EcmFnZ2FibGUuU1RBUlQubGVuZ3RoLTE7dD49MDt0LS0pby5Eb21FdmVudC5vZmYodGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0LG8uRHJhZ2dhYmxlLlNUQVJUW3RdLHRoaXMuX29uRG93bix0aGlzKTt0aGlzLl9lbmFibGVkPSExLHRoaXMuX21vdmVkPSExfX0sX29uRG93bjpmdW5jdGlvbih0KXtpZih0aGlzLl9tb3ZlZD0hMSwhdC5zaGlmdEtleSYmKDE9PT10LndoaWNofHwxPT09dC5idXR0b258fHQudG91Y2hlcykmJihvLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbih0KSwhby5EcmFnZ2FibGUuX2Rpc2FibGVkJiYoby5Eb21VdGlsLmRpc2FibGVJbWFnZURyYWcoKSxvLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24oKSwhdGhpcy5fbW92aW5nKSkpe3ZhciBpPXQudG91Y2hlcz90LnRvdWNoZXNbMF06dDt0aGlzLl9zdGFydFBvaW50PW5ldyBvLlBvaW50KGkuY2xpZW50WCxpLmNsaWVudFkpLHRoaXMuX3N0YXJ0UG9zPXRoaXMuX25ld1Bvcz1vLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fZWxlbWVudCksby5Eb21FdmVudC5vbihlLG8uRHJhZ2dhYmxlLk1PVkVbdC50eXBlXSx0aGlzLl9vbk1vdmUsdGhpcykub24oZSxvLkRyYWdnYWJsZS5FTkRbdC50eXBlXSx0aGlzLl9vblVwLHRoaXMpfX0sX29uTW92ZTpmdW5jdGlvbih0KXtpZih0LnRvdWNoZXMmJnQudG91Y2hlcy5sZW5ndGg+MSlyZXR1cm4gdm9pZCh0aGlzLl9tb3ZlZD0hMCk7dmFyIGk9dC50b3VjaGVzJiYxPT09dC50b3VjaGVzLmxlbmd0aD90LnRvdWNoZXNbMF06dCxuPW5ldyBvLlBvaW50KGkuY2xpZW50WCxpLmNsaWVudFkpLHM9bi5zdWJ0cmFjdCh0aGlzLl9zdGFydFBvaW50KTsocy54fHxzLnkpJiYoby5Ccm93c2VyLnRvdWNoJiZNYXRoLmFicyhzLngpK01hdGguYWJzKHMueSk8M3x8KG8uRG9tRXZlbnQucHJldmVudERlZmF1bHQodCksdGhpcy5fbW92ZWR8fCh0aGlzLmZpcmUoImRyYWdzdGFydCIpLHRoaXMuX21vdmVkPSEwLHRoaXMuX3N0YXJ0UG9zPW8uRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9lbGVtZW50KS5zdWJ0cmFjdChzKSxvLkRvbVV0aWwuYWRkQ2xhc3MoZS5ib2R5LCJsZWFmbGV0LWRyYWdnaW5nIiksdGhpcy5fbGFzdFRhcmdldD10LnRhcmdldHx8dC5zcmNFbGVtZW50LG8uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9sYXN0VGFyZ2V0LCJsZWFmbGV0LWRyYWctdGFyZ2V0IikpLHRoaXMuX25ld1Bvcz10aGlzLl9zdGFydFBvcy5hZGQocyksdGhpcy5fbW92aW5nPSEwLG8uVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbVJlcXVlc3QpLHRoaXMuX2FuaW1SZXF1ZXN0PW8uVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX3VwZGF0ZVBvc2l0aW9uLHRoaXMsITAsdGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0KSkpfSxfdXBkYXRlUG9zaXRpb246ZnVuY3Rpb24oKXt0aGlzLmZpcmUoInByZWRyYWciKSxvLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fZWxlbWVudCx0aGlzLl9uZXdQb3MpLHRoaXMuZmlyZSgiZHJhZyIpfSxfb25VcDpmdW5jdGlvbigpe28uRG9tVXRpbC5yZW1vdmVDbGFzcyhlLmJvZHksImxlYWZsZXQtZHJhZ2dpbmciKSx0aGlzLl9sYXN0VGFyZ2V0JiYoby5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2xhc3RUYXJnZXQsImxlYWZsZXQtZHJhZy10YXJnZXQiKSx0aGlzLl9sYXN0VGFyZ2V0PW51bGwpO2Zvcih2YXIgdCBpbiBvLkRyYWdnYWJsZS5NT1ZFKW8uRG9tRXZlbnQub2ZmKGUsby5EcmFnZ2FibGUuTU9WRVt0XSx0aGlzLl9vbk1vdmUpLm9mZihlLG8uRHJhZ2dhYmxlLkVORFt0XSx0aGlzLl9vblVwKTtvLkRvbVV0aWwuZW5hYmxlSW1hZ2VEcmFnKCksby5Eb21VdGlsLmVuYWJsZVRleHRTZWxlY3Rpb24oKSx0aGlzLl9tb3ZlZCYmdGhpcy5fbW92aW5nJiYoby5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltUmVxdWVzdCksdGhpcy5maXJlKCJkcmFnZW5kIix7ZGlzdGFuY2U6dGhpcy5fbmV3UG9zLmRpc3RhbmNlVG8odGhpcy5fc3RhcnRQb3MpfSkpLHRoaXMuX21vdmluZz0hMX19KSxvLkhhbmRsZXI9by5DbGFzcy5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXR9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuX2VuYWJsZWR8fCh0aGlzLl9lbmFibGVkPSEwLHRoaXMuYWRkSG9va3MoKSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkJiYodGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlbW92ZUhvb2tzKCkpfSxlbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9lbmFibGVkfX0pLG8uTWFwLm1lcmdlT3B0aW9ucyh7ZHJhZ2dpbmc6ITAsaW5lcnRpYTohby5Ccm93c2VyLmFuZHJvaWQyMyxpbmVydGlhRGVjZWxlcmF0aW9uOjM0MDAsaW5lcnRpYU1heFNwZWVkOjEvMCxpbmVydGlhVGhyZXNob2xkOm8uQnJvd3Nlci50b3VjaD8zMjoxOCxlYXNlTGluZWFyaXR5Oi4yNSx3b3JsZENvcHlKdW1wOiExfSksby5NYXAuRHJhZz1vLkhhbmRsZXIuZXh0ZW5kKHthZGRIb29rczpmdW5jdGlvbigpe2lmKCF0aGlzLl9kcmFnZ2FibGUpe3ZhciB0PXRoaXMuX21hcDt0aGlzLl9kcmFnZ2FibGU9bmV3IG8uRHJhZ2dhYmxlKHQuX21hcFBhbmUsdC5fY29udGFpbmVyKSx0aGlzLl9kcmFnZ2FibGUub24oe2RyYWdzdGFydDp0aGlzLl9vbkRyYWdTdGFydCxkcmFnOnRoaXMuX29uRHJhZyxkcmFnZW5kOnRoaXMuX29uRHJhZ0VuZH0sdGhpcyksdC5vcHRpb25zLndvcmxkQ29weUp1bXAmJih0aGlzLl9kcmFnZ2FibGUub24oInByZWRyYWciLHRoaXMuX29uUHJlRHJhZyx0aGlzKSx0Lm9uKCJ2aWV3cmVzZXQiLHRoaXMuX29uVmlld1Jlc2V0LHRoaXMpLHQud2hlblJlYWR5KHRoaXMuX29uVmlld1Jlc2V0LHRoaXMpKX10aGlzLl9kcmFnZ2FibGUuZW5hYmxlKCl9LHJlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7dGhpcy5fZHJhZ2dhYmxlLmRpc2FibGUoKX0sbW92ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlJiZ0aGlzLl9kcmFnZ2FibGUuX21vdmVkfSxfb25EcmFnU3RhcnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXA7dC5fcGFuQW5pbSYmdC5fcGFuQW5pbS5zdG9wKCksdC5maXJlKCJtb3Zlc3RhcnQiKS5maXJlKCJkcmFnc3RhcnQiKSx0Lm9wdGlvbnMuaW5lcnRpYSYmKHRoaXMuX3Bvc2l0aW9ucz1bXSx0aGlzLl90aW1lcz1bXSl9LF9vbkRyYWc6ZnVuY3Rpb24oKXtpZih0aGlzLl9tYXAub3B0aW9ucy5pbmVydGlhKXt2YXIgdD10aGlzLl9sYXN0VGltZT0rbmV3IERhdGUsZT10aGlzLl9sYXN0UG9zPXRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zO3RoaXMuX3Bvc2l0aW9ucy5wdXNoKGUpLHRoaXMuX3RpbWVzLnB1c2godCksdC10aGlzLl90aW1lc1swXT4yMDAmJih0aGlzLl9wb3NpdGlvbnMuc2hpZnQoKSx0aGlzLl90aW1lcy5zaGlmdCgpKX10aGlzLl9tYXAuZmlyZSgibW92ZSIpLmZpcmUoImRyYWciKX0sX29uVmlld1Jlc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLmdldFNpemUoKS5fZGl2aWRlQnkoMiksZT10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KFswLDBdKTt0aGlzLl9pbml0aWFsV29ybGRPZmZzZXQ9ZS5zdWJ0cmFjdCh0KS54LHRoaXMuX3dvcmxkV2lkdGg9dGhpcy5fbWFwLnByb2plY3QoWzAsMTgwXSkueH0sX29uUHJlRHJhZzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3dvcmxkV2lkdGgsZT1NYXRoLnJvdW5kKHQvMiksaT10aGlzLl9pbml0aWFsV29ybGRPZmZzZXQsbj10aGlzLl9kcmFnZ2FibGUuX25ld1Bvcy54LG89KG4tZStpKSV0K2UtaSxzPShuK2UraSkldC1lLWksYT1NYXRoLmFicyhvK2kpPE1hdGguYWJzKHMraSk/bzpzO3RoaXMuX2RyYWdnYWJsZS5fbmV3UG9zLng9YX0sX29uRHJhZ0VuZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXAsaT1lLm9wdGlvbnMsbj0rbmV3IERhdGUtdGhpcy5fbGFzdFRpbWUscz0haS5pbmVydGlhfHxuPmkuaW5lcnRpYVRocmVzaG9sZHx8IXRoaXMuX3Bvc2l0aW9uc1swXTtpZihlLmZpcmUoImRyYWdlbmQiLHQpLHMpZS5maXJlKCJtb3ZlZW5kIik7ZWxzZXt2YXIgYT10aGlzLl9sYXN0UG9zLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uc1swXSkscj0odGhpcy5fbGFzdFRpbWUrbi10aGlzLl90aW1lc1swXSkvMWUzLGg9aS5lYXNlTGluZWFyaXR5LGw9YS5tdWx0aXBseUJ5KGgvciksdT1sLmRpc3RhbmNlVG8oWzAsMF0pLGM9TWF0aC5taW4oaS5pbmVydGlhTWF4U3BlZWQsdSksZD1sLm11bHRpcGx5QnkoYy91KSxwPWMvKGkuaW5lcnRpYURlY2VsZXJhdGlvbipoKSxfPWQubXVsdGlwbHlCeSgtcC8yKS5yb3VuZCgpO18ueCYmXy55PyhfPWUuX2xpbWl0T2Zmc2V0KF8sZS5vcHRpb25zLm1heEJvdW5kcyksby5VdGlsLnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24oKXtlLnBhbkJ5KF8se2R1cmF0aW9uOnAsZWFzZUxpbmVhcml0eTpoLG5vTW92ZVN0YXJ0OiEwfSl9KSk6ZS5maXJlKCJtb3ZlZW5kIil9fX0pLG8uTWFwLmFkZEluaXRIb29rKCJhZGRIYW5kbGVyIiwiZHJhZ2dpbmciLG8uTWFwLkRyYWcpLG8uTWFwLm1lcmdlT3B0aW9ucyh7ZG91YmxlQ2xpY2tab29tOiEwfSksby5NYXAuRG91YmxlQ2xpY2tab29tPW8uSGFuZGxlci5leHRlbmQoe2FkZEhvb2tzOmZ1bmN0aW9uKCl7dGhpcy5fbWFwLm9uKCJkYmxjbGljayIsdGhpcy5fb25Eb3VibGVDbGljayx0aGlzKX0scmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9tYXAub2ZmKCJkYmxjbGljayIsdGhpcy5fb25Eb3VibGVDbGljayx0aGlzKX0sX29uRG91YmxlQ2xpY2s6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLGk9ZS5nZXRab29tKCkrKHQub3JpZ2luYWxFdmVudC5zaGlmdEtleT8tMToxKTsiY2VudGVyIj09PWUub3B0aW9ucy5kb3VibGVDbGlja1pvb20/ZS5zZXRab29tKGkpOmUuc2V0Wm9vbUFyb3VuZCh0LmNvbnRhaW5lclBvaW50LGkpfX0pLG8uTWFwLmFkZEluaXRIb29rKCJhZGRIYW5kbGVyIiwiZG91YmxlQ2xpY2tab29tIixvLk1hcC5Eb3VibGVDbGlja1pvb20pLG8uTWFwLm1lcmdlT3B0aW9ucyh7c2Nyb2xsV2hlZWxab29tOiEwfSksby5NYXAuU2Nyb2xsV2hlZWxab29tPW8uSGFuZGxlci5leHRlbmQoe2FkZEhvb2tzOmZ1bmN0aW9uKCl7by5Eb21FdmVudC5vbih0aGlzLl9tYXAuX2NvbnRhaW5lciwibW91c2V3aGVlbCIsdGhpcy5fb25XaGVlbFNjcm9sbCx0aGlzKSxvLkRvbUV2ZW50Lm9uKHRoaXMuX21hcC5fY29udGFpbmVyLCJNb3pNb3VzZVBpeGVsU2Nyb2xsIixvLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KSx0aGlzLl9kZWx0YT0wfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe28uRG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLCJtb3VzZXdoZWVsIix0aGlzLl9vbldoZWVsU2Nyb2xsKSxvLkRvbUV2ZW50Lm9mZih0aGlzLl9tYXAuX2NvbnRhaW5lciwiTW96TW91c2VQaXhlbFNjcm9sbCIsby5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCl9LF9vbldoZWVsU2Nyb2xsOmZ1bmN0aW9uKHQpe3ZhciBlPW8uRG9tRXZlbnQuZ2V0V2hlZWxEZWx0YSh0KTt0aGlzLl9kZWx0YSs9ZSx0aGlzLl9sYXN0TW91c2VQb3M9dGhpcy5fbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KHQpLHRoaXMuX3N0YXJ0VGltZXx8KHRoaXMuX3N0YXJ0VGltZT0rbmV3IERhdGUpO3ZhciBpPU1hdGgubWF4KDQwLSgrbmV3IERhdGUtdGhpcy5fc3RhcnRUaW1lKSwwKTtjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPXNldFRpbWVvdXQoby5iaW5kKHRoaXMuX3BlcmZvcm1ab29tLHRoaXMpLGkpLG8uRG9tRXZlbnQucHJldmVudERlZmF1bHQodCksby5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24odCl9LF9wZXJmb3JtWm9vbTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcCxlPXRoaXMuX2RlbHRhLGk9dC5nZXRab29tKCk7ZT1lPjA/TWF0aC5jZWlsKGUpOk1hdGguZmxvb3IoZSksZT1NYXRoLm1heChNYXRoLm1pbihlLDQpLC00KSxlPXQuX2xpbWl0Wm9vbShpK2UpLWksdGhpcy5fZGVsdGE9MCx0aGlzLl9zdGFydFRpbWU9bnVsbCxlJiYoImNlbnRlciI9PT10Lm9wdGlvbnMuc2Nyb2xsV2hlZWxab29tP3Quc2V0Wm9vbShpK2UpOnQuc2V0Wm9vbUFyb3VuZCh0aGlzLl9sYXN0TW91c2VQb3MsaStlKSl9fSksby5NYXAuYWRkSW5pdEhvb2soImFkZEhhbmRsZXIiLCJzY3JvbGxXaGVlbFpvb20iLG8uTWFwLlNjcm9sbFdoZWVsWm9vbSksby5leHRlbmQoby5Eb21FdmVudCx7X3RvdWNoc3RhcnQ6by5Ccm93c2VyLm1zUG9pbnRlcj8iTVNQb2ludGVyRG93biI6by5Ccm93c2VyLnBvaW50ZXI/InBvaW50ZXJkb3duIjoidG91Y2hzdGFydCIsX3RvdWNoZW5kOm8uQnJvd3Nlci5tc1BvaW50ZXI/Ik1TUG9pbnRlclVwIjpvLkJyb3dzZXIucG9pbnRlcj8icG9pbnRlcnVwIjoidG91Y2hlbmQiLGFkZERvdWJsZVRhcExpc3RlbmVyOmZ1bmN0aW9uKHQsaSxuKXtmdW5jdGlvbiBzKHQpe3ZhciBlO2lmKG8uQnJvd3Nlci5wb2ludGVyPyhfLnB1c2godC5wb2ludGVySWQpLGU9Xy5sZW5ndGgpOmU9dC50b3VjaGVzLmxlbmd0aCwhKGU+MSkpe3ZhciBpPURhdGUubm93KCksbj1pLShyfHxpKTtoPXQudG91Y2hlcz90LnRvdWNoZXNbMF06dCxsPW4+MCYmdT49bixyPWl9fWZ1bmN0aW9uIGEodCl7aWYoby5Ccm93c2VyLnBvaW50ZXIpe3ZhciBlPV8uaW5kZXhPZih0LnBvaW50ZXJJZCk7aWYoLTE9PT1lKXJldHVybjtfLnNwbGljZShlLDEpfWlmKGwpe2lmKG8uQnJvd3Nlci5wb2ludGVyKXt2YXIgbixzPXt9O2Zvcih2YXIgYSBpbiBoKW49aFthXSwiZnVuY3Rpb24iPT10eXBlb2Ygbj9zW2FdPW4uYmluZChoKTpzW2FdPW47aD1zfWgudHlwZT0iZGJsY2xpY2siLGkoaCkscj1udWxsfX12YXIgcixoLGw9ITEsdT0yNTAsYz0iX2xlYWZsZXRfIixkPXRoaXMuX3RvdWNoc3RhcnQscD10aGlzLl90b3VjaGVuZCxfPVtdO3RbYytkK25dPXMsdFtjK3Arbl09YTt2YXIgbT1vLkJyb3dzZXIucG9pbnRlcj9lLmRvY3VtZW50RWxlbWVudDp0O3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoZCxzLCExKSxtLmFkZEV2ZW50TGlzdGVuZXIocCxhLCExKSxvLkJyb3dzZXIucG9pbnRlciYmbS5hZGRFdmVudExpc3RlbmVyKG8uRG9tRXZlbnQuUE9JTlRFUl9DQU5DRUwsYSwhMSksdGhpc30scmVtb3ZlRG91YmxlVGFwTGlzdGVuZXI6ZnVuY3Rpb24odCxpKXt2YXIgbj0iX2xlYWZsZXRfIjtyZXR1cm4gdC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3RvdWNoc3RhcnQsdFtuK3RoaXMuX3RvdWNoc3RhcnQraV0sITEpLChvLkJyb3dzZXIucG9pbnRlcj9lLmRvY3VtZW50RWxlbWVudDp0KS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3RvdWNoZW5kLHRbbit0aGlzLl90b3VjaGVuZCtpXSwhMSksby5Ccm93c2VyLnBvaW50ZXImJmUuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoby5Eb21FdmVudC5QT0lOVEVSX0NBTkNFTCx0W24rdGhpcy5fdG91Y2hlbmQraV0sITEpLHRoaXN9fSksby5leHRlbmQoby5Eb21FdmVudCx7UE9JTlRFUl9ET1dOOm8uQnJvd3Nlci5tc1BvaW50ZXI/Ik1TUG9pbnRlckRvd24iOiJwb2ludGVyZG93biIsUE9JTlRFUl9NT1ZFOm8uQnJvd3Nlci5tc1BvaW50ZXI/Ik1TUG9pbnRlck1vdmUiOiJwb2ludGVybW92ZSIsUE9JTlRFUl9VUDpvLkJyb3dzZXIubXNQb2ludGVyPyJNU1BvaW50ZXJVcCI6InBvaW50ZXJ1cCIsUE9JTlRFUl9DQU5DRUw6by5Ccm93c2VyLm1zUG9pbnRlcj8iTVNQb2ludGVyQ2FuY2VsIjoicG9pbnRlcmNhbmNlbCIsX3BvaW50ZXJzOltdLF9wb2ludGVyRG9jdW1lbnRMaXN0ZW5lcjohMSxhZGRQb2ludGVyTGlzdGVuZXI6ZnVuY3Rpb24odCxlLGksbil7c3dpdGNoKGUpe2Nhc2UidG91Y2hzdGFydCI6cmV0dXJuIHRoaXMuYWRkUG9pbnRlckxpc3RlbmVyU3RhcnQodCxlLGksbik7CmNhc2UidG91Y2hlbmQiOnJldHVybiB0aGlzLmFkZFBvaW50ZXJMaXN0ZW5lckVuZCh0LGUsaSxuKTtjYXNlInRvdWNobW92ZSI6cmV0dXJuIHRoaXMuYWRkUG9pbnRlckxpc3RlbmVyTW92ZSh0LGUsaSxuKTtkZWZhdWx0OnRocm93IlVua25vd24gdG91Y2ggZXZlbnQgdHlwZSJ9fSxhZGRQb2ludGVyTGlzdGVuZXJTdGFydDpmdW5jdGlvbih0LGksbixzKXt2YXIgYT0iX2xlYWZsZXRfIixyPXRoaXMuX3BvaW50ZXJzLGg9ZnVuY3Rpb24odCl7Im1vdXNlIiE9PXQucG9pbnRlclR5cGUmJnQucG9pbnRlclR5cGUhPT10Lk1TUE9JTlRFUl9UWVBFX01PVVNFJiZvLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpO2Zvcih2YXIgZT0hMSxpPTA7aTxyLmxlbmd0aDtpKyspaWYocltpXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7ZT0hMDticmVha31lfHxyLnB1c2godCksdC50b3VjaGVzPXIuc2xpY2UoKSx0LmNoYW5nZWRUb3VjaGVzPVt0XSxuKHQpfTtpZih0W2ErInRvdWNoc3RhcnQiK3NdPWgsdC5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9ET1dOLGgsITEpLCF0aGlzLl9wb2ludGVyRG9jdW1lbnRMaXN0ZW5lcil7dmFyIGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxyLmxlbmd0aDtlKyspaWYocltlXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7ci5zcGxpY2UoZSwxKTticmVha319O2UuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX1VQLGwsITEpLGUuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX0NBTkNFTCxsLCExKSx0aGlzLl9wb2ludGVyRG9jdW1lbnRMaXN0ZW5lcj0hMH1yZXR1cm4gdGhpc30sYWRkUG9pbnRlckxpc3RlbmVyTW92ZTpmdW5jdGlvbih0LGUsaSxuKXtmdW5jdGlvbiBvKHQpe2lmKHQucG9pbnRlclR5cGUhPT10Lk1TUE9JTlRFUl9UWVBFX01PVVNFJiYibW91c2UiIT09dC5wb2ludGVyVHlwZXx8MCE9PXQuYnV0dG9ucyl7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspaWYoYVtlXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7YVtlXT10O2JyZWFrfXQudG91Y2hlcz1hLnNsaWNlKCksdC5jaGFuZ2VkVG91Y2hlcz1bdF0saSh0KX19dmFyIHM9Il9sZWFmbGV0XyIsYT10aGlzLl9wb2ludGVycztyZXR1cm4gdFtzKyJ0b3VjaG1vdmUiK25dPW8sdC5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9NT1ZFLG8sITEpLHRoaXN9LGFkZFBvaW50ZXJMaXN0ZW5lckVuZDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz0iX2xlYWZsZXRfIixzPXRoaXMuX3BvaW50ZXJzLGE9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxzLmxlbmd0aDtlKyspaWYoc1tlXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7cy5zcGxpY2UoZSwxKTticmVha310LnRvdWNoZXM9cy5zbGljZSgpLHQuY2hhbmdlZFRvdWNoZXM9W3RdLGkodCl9O3JldHVybiB0W28rInRvdWNoZW5kIituXT1hLHQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfVVAsYSwhMSksdC5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9DQU5DRUwsYSwhMSksdGhpc30scmVtb3ZlUG9pbnRlckxpc3RlbmVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj0iX2xlYWZsZXRfIixvPXRbbitlK2ldO3N3aXRjaChlKXtjYXNlInRvdWNoc3RhcnQiOnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfRE9XTixvLCExKTticmVhaztjYXNlInRvdWNobW92ZSI6dC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9NT1ZFLG8sITEpO2JyZWFrO2Nhc2UidG91Y2hlbmQiOnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfVVAsbywhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9DQU5DRUwsbywhMSl9cmV0dXJuIHRoaXN9fSksby5NYXAubWVyZ2VPcHRpb25zKHt0b3VjaFpvb206by5Ccm93c2VyLnRvdWNoJiYhby5Ccm93c2VyLmFuZHJvaWQyMyxib3VuY2VBdFpvb21MaW1pdHM6ITB9KSxvLk1hcC5Ub3VjaFpvb209by5IYW5kbGVyLmV4dGVuZCh7YWRkSG9va3M6ZnVuY3Rpb24oKXtvLkRvbUV2ZW50Lm9uKHRoaXMuX21hcC5fY29udGFpbmVyLCJ0b3VjaHN0YXJ0Iix0aGlzLl9vblRvdWNoU3RhcnQsdGhpcyl9LHJlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7by5Eb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsInRvdWNoc3RhcnQiLHRoaXMuX29uVG91Y2hTdGFydCx0aGlzKX0sX29uVG91Y2hTdGFydDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLl9tYXA7aWYodC50b3VjaGVzJiYyPT09dC50b3VjaGVzLmxlbmd0aCYmIWkuX2FuaW1hdGluZ1pvb20mJiF0aGlzLl96b29taW5nKXt2YXIgbj1pLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodC50b3VjaGVzWzBdKSxzPWkubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0LnRvdWNoZXNbMV0pLGE9aS5fZ2V0Q2VudGVyTGF5ZXJQb2ludCgpO3RoaXMuX3N0YXJ0Q2VudGVyPW4uYWRkKHMpLl9kaXZpZGVCeSgyKSx0aGlzLl9zdGFydERpc3Q9bi5kaXN0YW5jZVRvKHMpLHRoaXMuX21vdmVkPSExLHRoaXMuX3pvb21pbmc9ITAsdGhpcy5fY2VudGVyT2Zmc2V0PWEuc3VidHJhY3QodGhpcy5fc3RhcnRDZW50ZXIpLGkuX3BhbkFuaW0mJmkuX3BhbkFuaW0uc3RvcCgpLG8uRG9tRXZlbnQub24oZSwidG91Y2htb3ZlIix0aGlzLl9vblRvdWNoTW92ZSx0aGlzKS5vbihlLCJ0b3VjaGVuZCIsdGhpcy5fb25Ub3VjaEVuZCx0aGlzKSxvLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpfX0sX29uVG91Y2hNb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcDtpZih0LnRvdWNoZXMmJjI9PT10LnRvdWNoZXMubGVuZ3RoJiZ0aGlzLl96b29taW5nKXt2YXIgaT1lLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodC50b3VjaGVzWzBdKSxuPWUubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0LnRvdWNoZXNbMV0pO3RoaXMuX3NjYWxlPWkuZGlzdGFuY2VUbyhuKS90aGlzLl9zdGFydERpc3QsdGhpcy5fZGVsdGE9aS5fYWRkKG4pLl9kaXZpZGVCeSgyKS5fc3VidHJhY3QodGhpcy5fc3RhcnRDZW50ZXIpLDEhPT10aGlzLl9zY2FsZSYmKGUub3B0aW9ucy5ib3VuY2VBdFpvb21MaW1pdHN8fCEoZS5nZXRab29tKCk9PT1lLmdldE1pblpvb20oKSYmdGhpcy5fc2NhbGU8MXx8ZS5nZXRab29tKCk9PT1lLmdldE1heFpvb20oKSYmdGhpcy5fc2NhbGU+MSkpJiYodGhpcy5fbW92ZWR8fChvLkRvbVV0aWwuYWRkQ2xhc3MoZS5fbWFwUGFuZSwibGVhZmxldC10b3VjaGluZyIpLGUuZmlyZSgibW92ZXN0YXJ0IikuZmlyZSgiem9vbXN0YXJ0IiksdGhpcy5fbW92ZWQ9ITApLG8uVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbVJlcXVlc3QpLHRoaXMuX2FuaW1SZXF1ZXN0PW8uVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX3VwZGF0ZU9uTW92ZSx0aGlzLCEwLHRoaXMuX21hcC5fY29udGFpbmVyKSxvLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpKX19LF91cGRhdGVPbk1vdmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAsZT10aGlzLl9nZXRTY2FsZU9yaWdpbigpLGk9dC5sYXllclBvaW50VG9MYXRMbmcoZSksbj10LmdldFNjYWxlWm9vbSh0aGlzLl9zY2FsZSk7dC5fYW5pbWF0ZVpvb20oaSxuLHRoaXMuX3N0YXJ0Q2VudGVyLHRoaXMuX3NjYWxlLHRoaXMuX2RlbHRhLCExLCEwKX0sX29uVG91Y2hFbmQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fbW92ZWR8fCF0aGlzLl96b29taW5nKXJldHVybiB2b2lkKHRoaXMuX3pvb21pbmc9ITEpO3ZhciB0PXRoaXMuX21hcDt0aGlzLl96b29taW5nPSExLG8uRG9tVXRpbC5yZW1vdmVDbGFzcyh0Ll9tYXBQYW5lLCJsZWFmbGV0LXRvdWNoaW5nIiksby5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltUmVxdWVzdCksby5Eb21FdmVudC5vZmYoZSwidG91Y2htb3ZlIix0aGlzLl9vblRvdWNoTW92ZSkub2ZmKGUsInRvdWNoZW5kIix0aGlzLl9vblRvdWNoRW5kKTt2YXIgaT10aGlzLl9nZXRTY2FsZU9yaWdpbigpLG49dC5sYXllclBvaW50VG9MYXRMbmcoaSkscz10LmdldFpvb20oKSxhPXQuZ2V0U2NhbGVab29tKHRoaXMuX3NjYWxlKS1zLHI9YT4wP01hdGguY2VpbChhKTpNYXRoLmZsb29yKGEpLGg9dC5fbGltaXRab29tKHMrciksbD10LmdldFpvb21TY2FsZShoKS90aGlzLl9zY2FsZTt0Ll9hbmltYXRlWm9vbShuLGgsaSxsKX0sX2dldFNjYWxlT3JpZ2luOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2VudGVyT2Zmc2V0LnN1YnRyYWN0KHRoaXMuX2RlbHRhKS5kaXZpZGVCeSh0aGlzLl9zY2FsZSk7cmV0dXJuIHRoaXMuX3N0YXJ0Q2VudGVyLmFkZCh0KX19KSxvLk1hcC5hZGRJbml0SG9vaygiYWRkSGFuZGxlciIsInRvdWNoWm9vbSIsby5NYXAuVG91Y2hab29tKSxvLk1hcC5tZXJnZU9wdGlvbnMoe3RhcDohMCx0YXBUb2xlcmFuY2U6MTV9KSxvLk1hcC5UYXA9by5IYW5kbGVyLmV4dGVuZCh7YWRkSG9va3M6ZnVuY3Rpb24oKXtvLkRvbUV2ZW50Lm9uKHRoaXMuX21hcC5fY29udGFpbmVyLCJ0b3VjaHN0YXJ0Iix0aGlzLl9vbkRvd24sdGhpcyl9LHJlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7by5Eb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsInRvdWNoc3RhcnQiLHRoaXMuX29uRG93bix0aGlzKX0sX29uRG93bjpmdW5jdGlvbih0KXtpZih0LnRvdWNoZXMpe2lmKG8uRG9tRXZlbnQucHJldmVudERlZmF1bHQodCksdGhpcy5fZmlyZUNsaWNrPSEwLHQudG91Y2hlcy5sZW5ndGg+MSlyZXR1cm4gdGhpcy5fZmlyZUNsaWNrPSExLHZvaWQgY2xlYXJUaW1lb3V0KHRoaXMuX2hvbGRUaW1lb3V0KTt2YXIgaT10LnRvdWNoZXNbMF0sbj1pLnRhcmdldDt0aGlzLl9zdGFydFBvcz10aGlzLl9uZXdQb3M9bmV3IG8uUG9pbnQoaS5jbGllbnRYLGkuY2xpZW50WSksbi50YWdOYW1lJiYiYSI9PT1uLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmby5Eb21VdGlsLmFkZENsYXNzKG4sImxlYWZsZXQtYWN0aXZlIiksdGhpcy5faG9sZFRpbWVvdXQ9c2V0VGltZW91dChvLmJpbmQoZnVuY3Rpb24oKXt0aGlzLl9pc1RhcFZhbGlkKCkmJih0aGlzLl9maXJlQ2xpY2s9ITEsdGhpcy5fb25VcCgpLHRoaXMuX3NpbXVsYXRlRXZlbnQoImNvbnRleHRtZW51IixpKSl9LHRoaXMpLDFlMyksby5Eb21FdmVudC5vbihlLCJ0b3VjaG1vdmUiLHRoaXMuX29uTW92ZSx0aGlzKS5vbihlLCJ0b3VjaGVuZCIsdGhpcy5fb25VcCx0aGlzKX19LF9vblVwOmZ1bmN0aW9uKHQpe2lmKGNsZWFyVGltZW91dCh0aGlzLl9ob2xkVGltZW91dCksby5Eb21FdmVudC5vZmYoZSwidG91Y2htb3ZlIix0aGlzLl9vbk1vdmUsdGhpcykub2ZmKGUsInRvdWNoZW5kIix0aGlzLl9vblVwLHRoaXMpLHRoaXMuX2ZpcmVDbGljayYmdCYmdC5jaGFuZ2VkVG91Y2hlcyl7dmFyIGk9dC5jaGFuZ2VkVG91Y2hlc1swXSxuPWkudGFyZ2V0O24mJm4udGFnTmFtZSYmImEiPT09bi50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJm8uRG9tVXRpbC5yZW1vdmVDbGFzcyhuLCJsZWFmbGV0LWFjdGl2ZSIpLHRoaXMuX2lzVGFwVmFsaWQoKSYmdGhpcy5fc2ltdWxhdGVFdmVudCgiY2xpY2siLGkpfX0sX2lzVGFwVmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmV3UG9zLmRpc3RhbmNlVG8odGhpcy5fc3RhcnRQb3MpPD10aGlzLl9tYXAub3B0aW9ucy50YXBUb2xlcmFuY2V9LF9vbk1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dC50b3VjaGVzWzBdO3RoaXMuX25ld1Bvcz1uZXcgby5Qb2ludChlLmNsaWVudFgsZS5jbGllbnRZKX0sX3NpbXVsYXRlRXZlbnQ6ZnVuY3Rpb24oaSxuKXt2YXIgbz1lLmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50cyIpO28uX3NpbXVsYXRlZD0hMCxuLnRhcmdldC5fc2ltdWxhdGVkQ2xpY2s9ITAsby5pbml0TW91c2VFdmVudChpLCEwLCEwLHQsMSxuLnNjcmVlblgsbi5zY3JlZW5ZLG4uY2xpZW50WCxuLmNsaWVudFksITEsITEsITEsITEsMCxudWxsKSxuLnRhcmdldC5kaXNwYXRjaEV2ZW50KG8pfX0pLG8uQnJvd3Nlci50b3VjaCYmIW8uQnJvd3Nlci5wb2ludGVyJiZvLk1hcC5hZGRJbml0SG9vaygiYWRkSGFuZGxlciIsInRhcCIsby5NYXAuVGFwKSxvLk1hcC5tZXJnZU9wdGlvbnMoe2JveFpvb206ITB9KSxvLk1hcC5Cb3hab29tPW8uSGFuZGxlci5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQsdGhpcy5fY29udGFpbmVyPXQuX2NvbnRhaW5lcix0aGlzLl9wYW5lPXQuX3BhbmVzLm92ZXJsYXlQYW5lLHRoaXMuX21vdmVkPSExfSxhZGRIb29rczpmdW5jdGlvbigpe28uRG9tRXZlbnQub24odGhpcy5fY29udGFpbmVyLCJtb3VzZWRvd24iLHRoaXMuX29uTW91c2VEb3duLHRoaXMpfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe28uRG9tRXZlbnQub2ZmKHRoaXMuX2NvbnRhaW5lciwibW91c2Vkb3duIix0aGlzLl9vbk1vdXNlRG93biksdGhpcy5fbW92ZWQ9ITF9LG1vdmVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vdmVkfSxfb25Nb3VzZURvd246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX21vdmVkPSExLCF0LnNoaWZ0S2V5fHwxIT09dC53aGljaCYmMSE9PXQuYnV0dG9uPyExOihvLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24oKSxvLkRvbVV0aWwuZGlzYWJsZUltYWdlRHJhZygpLHRoaXMuX3N0YXJ0TGF5ZXJQb2ludD10aGlzLl9tYXAubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0KSx2b2lkIG8uRG9tRXZlbnQub24oZSwibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSx0aGlzKS5vbihlLCJtb3VzZXVwIix0aGlzLl9vbk1vdXNlVXAsdGhpcykub24oZSwia2V5ZG93biIsdGhpcy5fb25LZXlEb3duLHRoaXMpKX0sX29uTW91c2VNb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuX21vdmVkfHwodGhpcy5fYm94PW8uRG9tVXRpbC5jcmVhdGUoImRpdiIsImxlYWZsZXQtem9vbS1ib3giLHRoaXMuX3BhbmUpLG8uRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9ib3gsdGhpcy5fc3RhcnRMYXllclBvaW50KSx0aGlzLl9jb250YWluZXIuc3R5bGUuY3Vyc29yPSJjcm9zc2hhaXIiLHRoaXMuX21hcC5maXJlKCJib3h6b29tc3RhcnQiKSk7dmFyIGU9dGhpcy5fc3RhcnRMYXllclBvaW50LGk9dGhpcy5fYm94LG49dGhpcy5fbWFwLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodCkscz1uLnN1YnRyYWN0KGUpLGE9bmV3IG8uUG9pbnQoTWF0aC5taW4obi54LGUueCksTWF0aC5taW4obi55LGUueSkpO28uRG9tVXRpbC5zZXRQb3NpdGlvbihpLGEpLHRoaXMuX21vdmVkPSEwLGkuc3R5bGUud2lkdGg9TWF0aC5tYXgoMCxNYXRoLmFicyhzLngpLTQpKyJweCIsaS5zdHlsZS5oZWlnaHQ9TWF0aC5tYXgoMCxNYXRoLmFicyhzLnkpLTQpKyJweCJ9LF9maW5pc2g6ZnVuY3Rpb24oKXt0aGlzLl9tb3ZlZCYmKHRoaXMuX3BhbmUucmVtb3ZlQ2hpbGQodGhpcy5fYm94KSx0aGlzLl9jb250YWluZXIuc3R5bGUuY3Vyc29yPSIiKSxvLkRvbVV0aWwuZW5hYmxlVGV4dFNlbGVjdGlvbigpLG8uRG9tVXRpbC5lbmFibGVJbWFnZURyYWcoKSxvLkRvbUV2ZW50Lm9mZihlLCJtb3VzZW1vdmUiLHRoaXMuX29uTW91c2VNb3ZlKS5vZmYoZSwibW91c2V1cCIsdGhpcy5fb25Nb3VzZVVwKS5vZmYoZSwia2V5ZG93biIsdGhpcy5fb25LZXlEb3duKX0sX29uTW91c2VVcDpmdW5jdGlvbih0KXt0aGlzLl9maW5pc2goKTt2YXIgZT10aGlzLl9tYXAsaT1lLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodCk7aWYoIXRoaXMuX3N0YXJ0TGF5ZXJQb2ludC5lcXVhbHMoaSkpe3ZhciBuPW5ldyBvLkxhdExuZ0JvdW5kcyhlLmxheWVyUG9pbnRUb0xhdExuZyh0aGlzLl9zdGFydExheWVyUG9pbnQpLGUubGF5ZXJQb2ludFRvTGF0TG5nKGkpKTtlLmZpdEJvdW5kcyhuKSxlLmZpcmUoImJveHpvb21lbmQiLHtib3hab29tQm91bmRzOm59KX19LF9vbktleURvd246ZnVuY3Rpb24odCl7Mjc9PT10LmtleUNvZGUmJnRoaXMuX2ZpbmlzaCgpfX0pLG8uTWFwLmFkZEluaXRIb29rKCJhZGRIYW5kbGVyIiwiYm94Wm9vbSIsby5NYXAuQm94Wm9vbSksby5NYXAubWVyZ2VPcHRpb25zKHtrZXlib2FyZDohMCxrZXlib2FyZFBhbk9mZnNldDo4MCxrZXlib2FyZFpvb21PZmZzZXQ6MX0pLG8uTWFwLktleWJvYXJkPW8uSGFuZGxlci5leHRlbmQoe2tleUNvZGVzOntsZWZ0OlszN10scmlnaHQ6WzM5XSxkb3duOls0MF0sdXA6WzM4XSx6b29tSW46WzE4NywxMDcsNjEsMTcxXSx6b29tT3V0OlsxODksMTA5LDE3M119LGluaXRpYWxpemU6ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQsdGhpcy5fc2V0UGFuT2Zmc2V0KHQub3B0aW9ucy5rZXlib2FyZFBhbk9mZnNldCksdGhpcy5fc2V0Wm9vbU9mZnNldCh0Lm9wdGlvbnMua2V5Ym9hcmRab29tT2Zmc2V0KX0sYWRkSG9va3M6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX2NvbnRhaW5lcjstMT09PXQudGFiSW5kZXgmJih0LnRhYkluZGV4PSIwIiksby5Eb21FdmVudC5vbih0LCJmb2N1cyIsdGhpcy5fb25Gb2N1cyx0aGlzKS5vbih0LCJibHVyIix0aGlzLl9vbkJsdXIsdGhpcykub24odCwibW91c2Vkb3duIix0aGlzLl9vbk1vdXNlRG93bix0aGlzKSx0aGlzLl9tYXAub24oImZvY3VzIix0aGlzLl9hZGRIb29rcyx0aGlzKS5vbigiYmx1ciIsdGhpcy5fcmVtb3ZlSG9va3MsdGhpcyl9LHJlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlSG9va3MoKTt2YXIgdD10aGlzLl9tYXAuX2NvbnRhaW5lcjtvLkRvbUV2ZW50Lm9mZih0LCJmb2N1cyIsdGhpcy5fb25Gb2N1cyx0aGlzKS5vZmYodCwiYmx1ciIsdGhpcy5fb25CbHVyLHRoaXMpLm9mZih0LCJtb3VzZWRvd24iLHRoaXMuX29uTW91c2VEb3duLHRoaXMpLHRoaXMuX21hcC5vZmYoImZvY3VzIix0aGlzLl9hZGRIb29rcyx0aGlzKS5vZmYoImJsdXIiLHRoaXMuX3JlbW92ZUhvb2tzLHRoaXMpfSxfb25Nb3VzZURvd246ZnVuY3Rpb24oKXtpZighdGhpcy5fZm9jdXNlZCl7dmFyIGk9ZS5ib2R5LG49ZS5kb2N1bWVudEVsZW1lbnQsbz1pLnNjcm9sbFRvcHx8bi5zY3JvbGxUb3Ascz1pLnNjcm9sbExlZnR8fG4uc2Nyb2xsTGVmdDt0aGlzLl9tYXAuX2NvbnRhaW5lci5mb2N1cygpLHQuc2Nyb2xsVG8ocyxvKX19LF9vbkZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5fZm9jdXNlZD0hMCx0aGlzLl9tYXAuZmlyZSgiZm9jdXMiKX0sX29uQmx1cjpmdW5jdGlvbigpe3RoaXMuX2ZvY3VzZWQ9ITEsdGhpcy5fbWFwLmZpcmUoImJsdXIiKX0sX3NldFBhbk9mZnNldDpmdW5jdGlvbih0KXt2YXIgZSxpLG49dGhpcy5fcGFuS2V5cz17fSxvPXRoaXMua2V5Q29kZXM7Zm9yKGU9MCxpPW8ubGVmdC5sZW5ndGg7aT5lO2UrKyluW28ubGVmdFtlXV09Wy0xKnQsMF07Zm9yKGU9MCxpPW8ucmlnaHQubGVuZ3RoO2k+ZTtlKyspbltvLnJpZ2h0W2VdXT1bdCwwXTtmb3IoZT0wLGk9by5kb3duLmxlbmd0aDtpPmU7ZSsrKW5bby5kb3duW2VdXT1bMCx0XTtmb3IoZT0wLGk9by51cC5sZW5ndGg7aT5lO2UrKyluW28udXBbZV1dPVswLC0xKnRdfSxfc2V0Wm9vbU9mZnNldDpmdW5jdGlvbih0KXt2YXIgZSxpLG49dGhpcy5fem9vbUtleXM9e30sbz10aGlzLmtleUNvZGVzO2ZvcihlPTAsaT1vLnpvb21Jbi5sZW5ndGg7aT5lO2UrKyluW28uem9vbUluW2VdXT10O2ZvcihlPTAsaT1vLnpvb21PdXQubGVuZ3RoO2k+ZTtlKyspbltvLnpvb21PdXRbZV1dPS10fSxfYWRkSG9va3M6ZnVuY3Rpb24oKXtvLkRvbUV2ZW50Lm9uKGUsImtleWRvd24iLHRoaXMuX29uS2V5RG93bix0aGlzKX0sX3JlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7by5Eb21FdmVudC5vZmYoZSwia2V5ZG93biIsdGhpcy5fb25LZXlEb3duLHRoaXMpfSxfb25LZXlEb3duOmZ1bmN0aW9uKHQpe3ZhciBlPXQua2V5Q29kZSxpPXRoaXMuX21hcDtpZihlIGluIHRoaXMuX3BhbktleXMpe2lmKGkuX3BhbkFuaW0mJmkuX3BhbkFuaW0uX2luUHJvZ3Jlc3MpcmV0dXJuO2kucGFuQnkodGhpcy5fcGFuS2V5c1tlXSksaS5vcHRpb25zLm1heEJvdW5kcyYmaS5wYW5JbnNpZGVCb3VuZHMoaS5vcHRpb25zLm1heEJvdW5kcyl9ZWxzZXtpZighKGUgaW4gdGhpcy5fem9vbUtleXMpKXJldHVybjtpLnNldFpvb20oaS5nZXRab29tKCkrdGhpcy5fem9vbUtleXNbZV0pfW8uRG9tRXZlbnQuc3RvcCh0KX19KSxvLk1hcC5hZGRJbml0SG9vaygiYWRkSGFuZGxlciIsImtleWJvYXJkIixvLk1hcC5LZXlib2FyZCksby5IYW5kbGVyLk1hcmtlckRyYWc9by5IYW5kbGVyLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt0aGlzLl9tYXJrZXI9dH0sYWRkSG9va3M6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXJrZXIuX2ljb247dGhpcy5fZHJhZ2dhYmxlfHwodGhpcy5fZHJhZ2dhYmxlPW5ldyBvLkRyYWdnYWJsZSh0LHQpKSx0aGlzLl9kcmFnZ2FibGUub24oImRyYWdzdGFydCIsdGhpcy5fb25EcmFnU3RhcnQsdGhpcykub24oImRyYWciLHRoaXMuX29uRHJhZyx0aGlzKS5vbigiZHJhZ2VuZCIsdGhpcy5fb25EcmFnRW5kLHRoaXMpLHRoaXMuX2RyYWdnYWJsZS5lbmFibGUoKSxvLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbWFya2VyLl9pY29uLCJsZWFmbGV0LW1hcmtlci1kcmFnZ2FibGUiKX0scmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9kcmFnZ2FibGUub2ZmKCJkcmFnc3RhcnQiLHRoaXMuX29uRHJhZ1N0YXJ0LHRoaXMpLm9mZigiZHJhZyIsdGhpcy5fb25EcmFnLHRoaXMpLm9mZigiZHJhZ2VuZCIsdGhpcy5fb25EcmFnRW5kLHRoaXMpLHRoaXMuX2RyYWdnYWJsZS5kaXNhYmxlKCksby5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX21hcmtlci5faWNvbiwibGVhZmxldC1tYXJrZXItZHJhZ2dhYmxlIil9LG1vdmVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RyYWdnYWJsZSYmdGhpcy5fZHJhZ2dhYmxlLl9tb3ZlZH0sX29uRHJhZ1N0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5fbWFya2VyLmNsb3NlUG9wdXAoKS5maXJlKCJtb3Zlc3RhcnQiKS5maXJlKCJkcmFnc3RhcnQiKX0sX29uRHJhZzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcmtlcixlPXQuX3NoYWRvdyxpPW8uRG9tVXRpbC5nZXRQb3NpdGlvbih0Ll9pY29uKSxuPXQuX21hcC5sYXllclBvaW50VG9MYXRMbmcoaSk7ZSYmby5Eb21VdGlsLnNldFBvc2l0aW9uKGUsaSksdC5fbGF0bG5nPW4sdC5maXJlKCJtb3ZlIix7bGF0bG5nOm59KS5maXJlKCJkcmFnIil9LF9vbkRyYWdFbmQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFya2VyLmZpcmUoIm1vdmVlbmQiKS5maXJlKCJkcmFnZW5kIix0KX19KSxvLkNvbnRyb2w9by5DbGFzcy5leHRlbmQoe29wdGlvbnM6e3Bvc2l0aW9uOiJ0b3ByaWdodCJ9LGluaXRpYWxpemU6ZnVuY3Rpb24odCl7by5zZXRPcHRpb25zKHRoaXMsdCl9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5wb3NpdGlvbn0sc2V0UG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwO3JldHVybiBlJiZlLnJlbW92ZUNvbnRyb2wodGhpcyksdGhpcy5vcHRpb25zLnBvc2l0aW9uPXQsZSYmZS5hZGRDb250cm9sKHRoaXMpLHRoaXN9LGdldENvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250YWluZXJ9LGFkZFRvOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10O3ZhciBlPXRoaXMuX2NvbnRhaW5lcj10aGlzLm9uQWRkKHQpLGk9dGhpcy5nZXRQb3NpdGlvbigpLG49dC5fY29udHJvbENvcm5lcnNbaV07cmV0dXJuIG8uRG9tVXRpbC5hZGRDbGFzcyhlLCJsZWFmbGV0LWNvbnRyb2wiKSwtMSE9PWkuaW5kZXhPZigiYm90dG9tIik/bi5pbnNlcnRCZWZvcmUoZSxuLmZpcnN0Q2hpbGQpOm4uYXBwZW5kQ2hpbGQoZSksdGhpc30scmVtb3ZlRnJvbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFBvc2l0aW9uKCksaT10Ll9jb250cm9sQ29ybmVyc1tlXTtyZXR1cm4gaS5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpLHRoaXMuX21hcD1udWxsLHRoaXMub25SZW1vdmUmJnRoaXMub25SZW1vdmUodCksdGhpc30sX3JlZm9jdXNPbk1hcDpmdW5jdGlvbigpe3RoaXMuX21hcCYmdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmZvY3VzKCl9fSksby5jb250cm9sPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgby5Db250cm9sKHQpfSxvLk1hcC5pbmNsdWRlKHthZGRDb250cm9sOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZFRvKHRoaXMpLHRoaXN9LHJlbW92ZUNvbnRyb2w6ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVtb3ZlRnJvbSh0aGlzKSx0aGlzfSxfaW5pdENvbnRyb2xQb3M6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQscyl7dmFyIGE9aSt0KyIgIitpK3M7ZVt0K3NdPW8uRG9tVXRpbC5jcmVhdGUoImRpdiIsYSxuKX12YXIgZT10aGlzLl9jb250cm9sQ29ybmVycz17fSxpPSJsZWFmbGV0LSIsbj10aGlzLl9jb250cm9sQ29udGFpbmVyPW8uRG9tVXRpbC5jcmVhdGUoImRpdiIsaSsiY29udHJvbC1jb250YWluZXIiLHRoaXMuX2NvbnRhaW5lcik7dCgidG9wIiwibGVmdCIpLHQoInRvcCIsInJpZ2h0IiksdCgiYm90dG9tIiwibGVmdCIpLHQoImJvdHRvbSIsInJpZ2h0Iil9LF9jbGVhckNvbnRyb2xQb3M6ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fY29udHJvbENvbnRhaW5lcil9fSksby5Db250cm9sLlpvb209by5Db250cm9sLmV4dGVuZCh7b3B0aW9uczp7cG9zaXRpb246InRvcGxlZnQiLHpvb21JblRleHQ6IisiLHpvb21JblRpdGxlOiJab29tIGluIix6b29tT3V0VGV4dDoiLSIsem9vbU91dFRpdGxlOiJab29tIG91dCJ9LG9uQWRkOmZ1bmN0aW9uKHQpe3ZhciBlPSJsZWFmbGV0LWNvbnRyb2wtem9vbSIsaT1vLkRvbVV0aWwuY3JlYXRlKCJkaXYiLGUrIiBsZWFmbGV0LWJhciIpO3JldHVybiB0aGlzLl9tYXA9dCx0aGlzLl96b29tSW5CdXR0b249dGhpcy5fY3JlYXRlQnV0dG9uKHRoaXMub3B0aW9ucy56b29tSW5UZXh0LHRoaXMub3B0aW9ucy56b29tSW5UaXRsZSxlKyItaW4iLGksdGhpcy5fem9vbUluLHRoaXMpLHRoaXMuX3pvb21PdXRCdXR0b249dGhpcy5fY3JlYXRlQnV0dG9uKHRoaXMub3B0aW9ucy56b29tT3V0VGV4dCx0aGlzLm9wdGlvbnMuem9vbU91dFRpdGxlLGUrIi1vdXQiLGksdGhpcy5fem9vbU91dCx0aGlzKSx0aGlzLl91cGRhdGVEaXNhYmxlZCgpLHQub24oInpvb21lbmQgem9vbWxldmVsc2NoYW5nZSIsdGhpcy5fdXBkYXRlRGlzYWJsZWQsdGhpcyksaX0sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5vZmYoInpvb21lbmQgem9vbWxldmVsc2NoYW5nZSIsdGhpcy5fdXBkYXRlRGlzYWJsZWQsdGhpcyl9LF96b29tSW46ZnVuY3Rpb24odCl7dGhpcy5fbWFwLnpvb21Jbih0LnNoaWZ0S2V5PzM6MSl9LF96b29tT3V0OmZ1bmN0aW9uKHQpe3RoaXMuX21hcC56b29tT3V0KHQuc2hpZnRLZXk/MzoxKX0sX2NyZWF0ZUJ1dHRvbjpmdW5jdGlvbih0LGUsaSxuLHMsYSl7dmFyIHI9by5Eb21VdGlsLmNyZWF0ZSgiYSIsaSxuKTtyLmlubmVySFRNTD10LHIuaHJlZj0iIyIsci50aXRsZT1lO3ZhciBoPW8uRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uO3JldHVybiBvLkRvbUV2ZW50Lm9uKHIsImNsaWNrIixoKS5vbihyLCJtb3VzZWRvd24iLGgpLm9uKHIsImRibGNsaWNrIixoKS5vbihyLCJjbGljayIsby5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCkub24ociwiY2xpY2siLHMsYSkub24ociwiY2xpY2siLHRoaXMuX3JlZm9jdXNPbk1hcCxhKSxyfSxfdXBkYXRlRGlzYWJsZWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAsZT0ibGVhZmxldC1kaXNhYmxlZCI7by5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX3pvb21JbkJ1dHRvbixlKSxvLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fem9vbU91dEJ1dHRvbixlKSx0Ll96b29tPT09dC5nZXRNaW5ab29tKCkmJm8uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl96b29tT3V0QnV0dG9uLGUpLHQuX3pvb209PT10LmdldE1heFpvb20oKSYmby5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3pvb21JbkJ1dHRvbixlKX19KSxvLk1hcC5tZXJnZU9wdGlvbnMoe3pvb21Db250cm9sOiEwfSksby5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuem9vbUNvbnRyb2wmJih0aGlzLnpvb21Db250cm9sPW5ldyBvLkNvbnRyb2wuWm9vbSx0aGlzLmFkZENvbnRyb2wodGhpcy56b29tQ29udHJvbCkpfSksby5jb250cm9sLnpvb209ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLkNvbnRyb2wuWm9vbSh0KX0sby5Db250cm9sLkF0dHJpYnV0aW9uPW8uQ29udHJvbC5leHRlbmQoe29wdGlvbnM6e3Bvc2l0aW9uOiJib3R0b21yaWdodCIscHJlZml4Oic8YSBocmVmPSJodHRwOi8vbGVhZmxldGpzLmNvbSIgdGl0bGU9IkEgSlMgbGlicmFyeSBmb3IgaW50ZXJhY3RpdmUgbWFwcyI+TGVhZmxldDwvYT4nfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQpe28uc2V0T3B0aW9ucyh0aGlzLHQpLHRoaXMuX2F0dHJpYnV0aW9ucz17fX0sb25BZGQ6ZnVuY3Rpb24odCl7dGhpcy5fY29udGFpbmVyPW8uRG9tVXRpbC5jcmVhdGUoImRpdiIsImxlYWZsZXQtY29udHJvbC1hdHRyaWJ1dGlvbiIpLG8uRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24odGhpcy5fY29udGFpbmVyKTtmb3IodmFyIGUgaW4gdC5fbGF5ZXJzKXQuX2xheWVyc1tlXS5nZXRBdHRyaWJ1dGlvbiYmdGhpcy5hZGRBdHRyaWJ1dGlvbih0Ll9sYXllcnNbZV0uZ2V0QXR0cmlidXRpb24oKSk7cmV0dXJuIHQub24oImxheWVyYWRkIix0aGlzLl9vbkxheWVyQWRkLHRoaXMpLm9uKCJsYXllcnJlbW92ZSIsdGhpcy5fb25MYXllclJlbW92ZSx0aGlzKSx0aGlzLl91cGRhdGUoKSx0aGlzLl9jb250YWluZXJ9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3Qub2ZmKCJsYXllcmFkZCIsdGhpcy5fb25MYXllckFkZCkub2ZmKCJsYXllcnJlbW92ZSIsdGhpcy5fb25MYXllclJlbW92ZSl9LHNldFByZWZpeDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLnByZWZpeD10LHRoaXMuX3VwZGF0ZSgpLHRoaXN9LGFkZEF0dHJpYnV0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0aGlzLl9hdHRyaWJ1dGlvbnNbdF18fCh0aGlzLl9hdHRyaWJ1dGlvbnNbdF09MCksdGhpcy5fYXR0cmlidXRpb25zW3RdKyssdGhpcy5fdXBkYXRlKCksdGhpcyk6dm9pZCAwfSxyZW1vdmVBdHRyaWJ1dGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdD8odGhpcy5fYXR0cmlidXRpb25zW3RdJiYodGhpcy5fYXR0cmlidXRpb25zW3RdLS0sdGhpcy5fdXBkYXRlKCkpLHRoaXMpOnZvaWQgMH0sX3VwZGF0ZTpmdW5jdGlvbigpe2lmKHRoaXMuX21hcCl7dmFyIHQ9W107Zm9yKHZhciBlIGluIHRoaXMuX2F0dHJpYnV0aW9ucyl0aGlzLl9hdHRyaWJ1dGlvbnNbZV0mJnQucHVzaChlKTt2YXIgaT1bXTt0aGlzLm9wdGlvbnMucHJlZml4JiZpLnB1c2godGhpcy5vcHRpb25zLnByZWZpeCksdC5sZW5ndGgmJmkucHVzaCh0LmpvaW4oIiwgIikpLHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUw9aS5qb2luKCIgfCAiKX19LF9vbkxheWVyQWRkOmZ1bmN0aW9uKHQpe3QubGF5ZXIuZ2V0QXR0cmlidXRpb24mJnRoaXMuYWRkQXR0cmlidXRpb24odC5sYXllci5nZXRBdHRyaWJ1dGlvbigpKX0sX29uTGF5ZXJSZW1vdmU6ZnVuY3Rpb24odCl7dC5sYXllci5nZXRBdHRyaWJ1dGlvbiYmdGhpcy5yZW1vdmVBdHRyaWJ1dGlvbih0LmxheWVyLmdldEF0dHJpYnV0aW9uKCkpfX0pLG8uTWFwLm1lcmdlT3B0aW9ucyh7YXR0cmlidXRpb25Db250cm9sOiEwfSksby5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYXR0cmlidXRpb25Db250cm9sJiYodGhpcy5hdHRyaWJ1dGlvbkNvbnRyb2w9KG5ldyBvLkNvbnRyb2wuQXR0cmlidXRpb24pLmFkZFRvKHRoaXMpKX0pLG8uY29udHJvbC5hdHRyaWJ1dGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG8uQ29udHJvbC5BdHRyaWJ1dGlvbih0KX0sby5Db250cm9sLlNjYWxlPW8uQ29udHJvbC5leHRlbmQoe29wdGlvbnM6e3Bvc2l0aW9uOiJib3R0b21sZWZ0IixtYXhXaWR0aDoxMDAsbWV0cmljOiEwLGltcGVyaWFsOiEwLHVwZGF0ZVdoZW5JZGxlOiExfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dDt2YXIgZT0ibGVhZmxldC1jb250cm9sLXNjYWxlIixpPW8uRG9tVXRpbC5jcmVhdGUoImRpdiIsZSksbj10aGlzLm9wdGlvbnM7cmV0dXJuIHRoaXMuX2FkZFNjYWxlcyhuLGUsaSksdC5vbihuLnVwZGF0ZVdoZW5JZGxlPyJtb3ZlZW5kIjoibW92ZSIsdGhpcy5fdXBkYXRlLHRoaXMpLHQud2hlblJlYWR5KHRoaXMuX3VwZGF0ZSx0aGlzKSxpfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Lm9mZih0aGlzLm9wdGlvbnMudXBkYXRlV2hlbklkbGU/Im1vdmVlbmQiOiJtb3ZlIix0aGlzLl91cGRhdGUsdGhpcyl9LF9hZGRTY2FsZXM6ZnVuY3Rpb24odCxlLGkpe3QubWV0cmljJiYodGhpcy5fbVNjYWxlPW8uRG9tVXRpbC5jcmVhdGUoImRpdiIsZSsiLWxpbmUiLGkpKSx0LmltcGVyaWFsJiYodGhpcy5faVNjYWxlPW8uRG9tVXRpbC5jcmVhdGUoImRpdiIsZSsiLWxpbmUiLGkpKX0sX3VwZGF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5nZXRCb3VuZHMoKSxlPXQuZ2V0Q2VudGVyKCkubGF0LGk9NjM3ODEzNypNYXRoLlBJKk1hdGguY29zKGUqTWF0aC5QSS8xODApLG49aSoodC5nZXROb3J0aEVhc3QoKS5sbmctdC5nZXRTb3V0aFdlc3QoKS5sbmcpLzE4MCxvPXRoaXMuX21hcC5nZXRTaXplKCkscz10aGlzLm9wdGlvbnMsYT0wO28ueD4wJiYoYT1uKihzLm1heFdpZHRoL28ueCkpLHRoaXMuX3VwZGF0ZVNjYWxlcyhzLGEpfSxfdXBkYXRlU2NhbGVzOmZ1bmN0aW9uKHQsZSl7dC5tZXRyaWMmJmUmJnRoaXMuX3VwZGF0ZU1ldHJpYyhlKSx0LmltcGVyaWFsJiZlJiZ0aGlzLl91cGRhdGVJbXBlcmlhbChlKX0sX3VwZGF0ZU1ldHJpYzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXRSb3VuZE51bSh0KTt0aGlzLl9tU2NhbGUuc3R5bGUud2lkdGg9dGhpcy5fZ2V0U2NhbGVXaWR0aChlL3QpKyJweCIsdGhpcy5fbVNjYWxlLmlubmVySFRNTD0xZTM+ZT9lKyIgbSI6ZS8xZTMrIiBrbSJ9LF91cGRhdGVJbXBlcmlhbDpmdW5jdGlvbih0KXt2YXIgZSxpLG4sbz0zLjI4MDgzOTkqdCxzPXRoaXMuX2lTY2FsZTtvPjUyODA/KGU9by81MjgwLGk9dGhpcy5fZ2V0Um91bmROdW0oZSkscy5zdHlsZS53aWR0aD10aGlzLl9nZXRTY2FsZVdpZHRoKGkvZSkrInB4IixzLmlubmVySFRNTD1pKyIgbWkiKToobj10aGlzLl9nZXRSb3VuZE51bShvKSxzLnN0eWxlLndpZHRoPXRoaXMuX2dldFNjYWxlV2lkdGgobi9vKSsicHgiLHMuaW5uZXJIVE1MPW4rIiBmdCIpfSxfZ2V0U2NhbGVXaWR0aDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMubWF4V2lkdGgqdCktMTB9LF9nZXRSb3VuZE51bTpmdW5jdGlvbih0KXt2YXIgZT1NYXRoLnBvdygxMCwoTWF0aC5mbG9vcih0KSsiIikubGVuZ3RoLTEpLGk9dC9lO3JldHVybiBpPWk+PTEwPzEwOmk+PTU/NTppPj0zPzM6aT49Mj8yOjEsZSppfX0pLG8uY29udHJvbC5zY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG8uQ29udHJvbC5TY2FsZSh0KX0sby5Db250cm9sLkxheWVycz1vLkNvbnRyb2wuZXh0ZW5kKHtvcHRpb25zOntjb2xsYXBzZWQ6ITAscG9zaXRpb246InRvcHJpZ2h0IixhdXRvWkluZGV4OiEwfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSxpKXtvLnNldE9wdGlvbnModGhpcyxpKSx0aGlzLl9sYXllcnM9e30sdGhpcy5fbGFzdFpJbmRleD0wLHRoaXMuX2hhbmRsaW5nQ2xpY2s9ITE7Zm9yKHZhciBuIGluIHQpdGhpcy5fYWRkTGF5ZXIodFtuXSxuKTtmb3IobiBpbiBlKXRoaXMuX2FkZExheWVyKGVbbl0sbiwhMCl9LG9uQWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbml0TGF5b3V0KCksdGhpcy5fdXBkYXRlKCksdC5vbigibGF5ZXJhZGQiLHRoaXMuX29uTGF5ZXJDaGFuZ2UsdGhpcykub24oImxheWVycmVtb3ZlIix0aGlzLl9vbkxheWVyQ2hhbmdlLHRoaXMpLHRoaXMuX2NvbnRhaW5lcn0sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5vZmYoImxheWVyYWRkIix0aGlzLl9vbkxheWVyQ2hhbmdlLHRoaXMpLm9mZigibGF5ZXJyZW1vdmUiLHRoaXMuX29uTGF5ZXJDaGFuZ2UsdGhpcyl9LGFkZEJhc2VMYXllcjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9hZGRMYXllcih0LGUpLHRoaXMuX3VwZGF0ZSgpLHRoaXN9LGFkZE92ZXJsYXk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fYWRkTGF5ZXIodCxlLCEwKSx0aGlzLl91cGRhdGUoKSx0aGlzfSxyZW1vdmVMYXllcjpmdW5jdGlvbih0KXt2YXIgZT1vLnN0YW1wKHQpO3JldHVybiBkZWxldGUgdGhpcy5fbGF5ZXJzW2VdLHRoaXMuX3VwZGF0ZSgpLHRoaXN9LF9pbml0TGF5b3V0OmZ1bmN0aW9uKCl7dmFyIHQ9ImxlYWZsZXQtY29udHJvbC1sYXllcnMiLGU9dGhpcy5fY29udGFpbmVyPW8uRG9tVXRpbC5jcmVhdGUoImRpdiIsdCk7ZS5zZXRBdHRyaWJ1dGUoImFyaWEtaGFzcG9wdXAiLCEwKSxvLkJyb3dzZXIudG91Y2g/by5Eb21FdmVudC5vbihlLCJjbGljayIsby5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pOm8uRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24oZSkuZGlzYWJsZVNjcm9sbFByb3BhZ2F0aW9uKGUpO3ZhciBpPXRoaXMuX2Zvcm09by5Eb21VdGlsLmNyZWF0ZSgiZm9ybSIsdCsiLWxpc3QiKTtpZih0aGlzLm9wdGlvbnMuY29sbGFwc2VkKXtvLkJyb3dzZXIuYW5kcm9pZHx8by5Eb21FdmVudC5vbihlLCJtb3VzZW92ZXIiLHRoaXMuX2V4cGFuZCx0aGlzKS5vbihlLCJtb3VzZW91dCIsdGhpcy5fY29sbGFwc2UsdGhpcyk7dmFyIG49dGhpcy5fbGF5ZXJzTGluaz1vLkRvbVV0aWwuY3JlYXRlKCJhIix0KyItdG9nZ2xlIixlKTtuLmhyZWY9IiMiLG4udGl0bGU9IkxheWVycyIsby5Ccm93c2VyLnRvdWNoP28uRG9tRXZlbnQub24obiwiY2xpY2siLG8uRG9tRXZlbnQuc3RvcCkub24obiwiY2xpY2siLHRoaXMuX2V4cGFuZCx0aGlzKTpvLkRvbUV2ZW50Lm9uKG4sImZvY3VzIix0aGlzLl9leHBhbmQsdGhpcyksby5Eb21FdmVudC5vbihpLCJjbGljayIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KG8uYmluZCh0aGlzLl9vbklucHV0Q2xpY2ssdGhpcyksMCl9LHRoaXMpLHRoaXMuX21hcC5vbigiY2xpY2siLHRoaXMuX2NvbGxhcHNlLHRoaXMpfWVsc2UgdGhpcy5fZXhwYW5kKCk7dGhpcy5fYmFzZUxheWVyc0xpc3Q9by5Eb21VdGlsLmNyZWF0ZSgiZGl2Iix0KyItYmFzZSIsaSksdGhpcy5fc2VwYXJhdG9yPW8uRG9tVXRpbC5jcmVhdGUoImRpdiIsdCsiLXNlcGFyYXRvciIsaSksdGhpcy5fb3ZlcmxheXNMaXN0PW8uRG9tVXRpbC5jcmVhdGUoImRpdiIsdCsiLW92ZXJsYXlzIixpKSxlLmFwcGVuZENoaWxkKGkpfSxfYWRkTGF5ZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPW8uc3RhbXAodCk7dGhpcy5fbGF5ZXJzW25dPXtsYXllcjp0LG5hbWU6ZSxvdmVybGF5Oml9LHRoaXMub3B0aW9ucy5hdXRvWkluZGV4JiZ0LnNldFpJbmRleCYmKHRoaXMuX2xhc3RaSW5kZXgrKyx0LnNldFpJbmRleCh0aGlzLl9sYXN0WkluZGV4KSl9LF91cGRhdGU6ZnVuY3Rpb24oKXtpZih0aGlzLl9jb250YWluZXIpe3RoaXMuX2Jhc2VMYXllcnNMaXN0LmlubmVySFRNTD0iIix0aGlzLl9vdmVybGF5c0xpc3QuaW5uZXJIVE1MPSIiO3ZhciB0LGUsaT0hMSxuPSExO2Zvcih0IGluIHRoaXMuX2xheWVycyllPXRoaXMuX2xheWVyc1t0XSx0aGlzLl9hZGRJdGVtKGUpLG49bnx8ZS5vdmVybGF5LGk9aXx8IWUub3ZlcmxheTt0aGlzLl9zZXBhcmF0b3Iuc3R5bGUuZGlzcGxheT1uJiZpPyIiOiJub25lIn19LF9vbkxheWVyQ2hhbmdlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2xheWVyc1tvLnN0YW1wKHQubGF5ZXIpXTtpZihlKXt0aGlzLl9oYW5kbGluZ0NsaWNrfHx0aGlzLl91cGRhdGUoKTt2YXIgaT1lLm92ZXJsYXk/ImxheWVyYWRkIj09PXQudHlwZT8ib3ZlcmxheWFkZCI6Im92ZXJsYXlyZW1vdmUiOiJsYXllcmFkZCI9PT10LnR5cGU/ImJhc2VsYXllcmNoYW5nZSI6bnVsbDtpJiZ0aGlzLl9tYXAuZmlyZShpLGUpfX0sX2NyZWF0ZVJhZGlvRWxlbWVudDpmdW5jdGlvbih0LGkpe3ZhciBuPSc8aW5wdXQgdHlwZT0icmFkaW8iIGNsYXNzPSJsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLXNlbGVjdG9yIiBuYW1lPSInK3QrJyInO2kmJihuKz0nIGNoZWNrZWQ9ImNoZWNrZWQiJyksbis9Ii8+Ijt2YXIgbz1lLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBvLmlubmVySFRNTD1uLG8uZmlyc3RDaGlsZH0sX2FkZEl0ZW06ZnVuY3Rpb24odCl7dmFyIGksbj1lLmNyZWF0ZUVsZW1lbnQoImxhYmVsIikscz10aGlzLl9tYXAuaGFzTGF5ZXIodC5sYXllcik7dC5vdmVybGF5PyhpPWUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxpLnR5cGU9ImNoZWNrYm94IixpLmNsYXNzTmFtZT0ibGVhZmxldC1jb250cm9sLWxheWVycy1zZWxlY3RvciIsaS5kZWZhdWx0Q2hlY2tlZD1zKTppPXRoaXMuX2NyZWF0ZVJhZGlvRWxlbWVudCgibGVhZmxldC1iYXNlLWxheWVycyIscyksaS5sYXllcklkPW8uc3RhbXAodC5sYXllciksby5Eb21FdmVudC5vbihpLCJjbGljayIsdGhpcy5fb25JbnB1dENsaWNrLHRoaXMpO3ZhciBhPWUuY3JlYXRlRWxlbWVudCgic3BhbiIpO2EuaW5uZXJIVE1MPSIgIit0Lm5hbWUsbi5hcHBlbmRDaGlsZChpKSxuLmFwcGVuZENoaWxkKGEpO3ZhciByPXQub3ZlcmxheT90aGlzLl9vdmVybGF5c0xpc3Q6dGhpcy5fYmFzZUxheWVyc0xpc3Q7cmV0dXJuIHIuYXBwZW5kQ2hpbGQobiksbn0sX29uSW5wdXRDbGljazpmdW5jdGlvbigpe3ZhciB0LGUsaSxuPXRoaXMuX2Zvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0Iiksbz1uLmxlbmd0aDtmb3IodGhpcy5faGFuZGxpbmdDbGljaz0hMCx0PTA7bz50O3QrKyllPW5bdF0saT10aGlzLl9sYXllcnNbZS5sYXllcklkXSxlLmNoZWNrZWQmJiF0aGlzLl9tYXAuaGFzTGF5ZXIoaS5sYXllcik/dGhpcy5fbWFwLmFkZExheWVyKGkubGF5ZXIpOiFlLmNoZWNrZWQmJnRoaXMuX21hcC5oYXNMYXllcihpLmxheWVyKSYmdGhpcy5fbWFwLnJlbW92ZUxheWVyKGkubGF5ZXIpO3RoaXMuX2hhbmRsaW5nQ2xpY2s9ITEsdGhpcy5fcmVmb2N1c09uTWFwKCl9LF9leHBhbmQ6ZnVuY3Rpb24oKXtvLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCJsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLWV4cGFuZGVkIil9LF9jb2xsYXBzZTpmdW5jdGlvbigpe3RoaXMuX2NvbnRhaW5lci5jbGFzc05hbWU9dGhpcy5fY29udGFpbmVyLmNsYXNzTmFtZS5yZXBsYWNlKCIgbGVhZmxldC1jb250cm9sLWxheWVycy1leHBhbmRlZCIsIiIpfX0pLG8uY29udHJvbC5sYXllcnM9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuZXcgby5Db250cm9sLkxheWVycyh0LGUsaSl9LG8uUG9zQW5pbWF0aW9uPW8uQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpvLk1peGluLkV2ZW50cyxydW46ZnVuY3Rpb24odCxlLGksbil7dGhpcy5zdG9wKCksdGhpcy5fZWw9dCx0aGlzLl9pblByb2dyZXNzPSEwLHRoaXMuX25ld1Bvcz1lLHRoaXMuZmlyZSgic3RhcnQiKSx0LnN0eWxlW28uRG9tVXRpbC5UUkFOU0lUSU9OXT0iYWxsICIrKGl8fC4yNSkrInMgY3ViaWMtYmV6aWVyKDAsMCwiKyhufHwuNSkrIiwxKSIsby5Eb21FdmVudC5vbih0LG8uRG9tVXRpbC5UUkFOU0lUSU9OX0VORCx0aGlzLl9vblRyYW5zaXRpb25FbmQsdGhpcyksby5Eb21VdGlsLnNldFBvc2l0aW9uKHQsZSksby5VdGlsLmZhbHNlRm4odC5vZmZzZXRXaWR0aCksdGhpcy5fc3RlcFRpbWVyPXNldEludGVydmFsKG8uYmluZCh0aGlzLl9vblN0ZXAsdGhpcyksNTApfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5faW5Qcm9ncmVzcyYmKG8uRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9lbCx0aGlzLl9nZXRQb3MoKSksdGhpcy5fb25UcmFuc2l0aW9uRW5kKCksby5VdGlsLmZhbHNlRm4odGhpcy5fZWwub2Zmc2V0V2lkdGgpKX0sX29uU3RlcDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFBvcygpO3JldHVybiB0Pyh0aGlzLl9lbC5fbGVhZmxldF9wb3M9dCx2b2lkIHRoaXMuZmlyZSgic3RlcCIpKTp2b2lkIHRoaXMuX29uVHJhbnNpdGlvbkVuZCgpfSxfdHJhbnNmb3JtUmU6LyhbLStdPyg/OlxkKlwuKT9cZCspXEQqLCAoWy0rXT8oPzpcZCpcLik/XGQrKVxEKlwpLyxfZ2V0UG9zOmZ1bmN0aW9uKCl7dmFyIGUsaSxuLHM9dGhpcy5fZWwsYT10LmdldENvbXB1dGVkU3R5bGUocyk7aWYoby5Ccm93c2VyLmFueTNkKXtpZihuPWFbby5Eb21VdGlsLlRSQU5TRk9STV0ubWF0Y2godGhpcy5fdHJhbnNmb3JtUmUpLCFuKXJldHVybjtlPXBhcnNlRmxvYXQoblsxXSksaT1wYXJzZUZsb2F0KG5bMl0pfWVsc2UgZT1wYXJzZUZsb2F0KGEubGVmdCksaT1wYXJzZUZsb2F0KGEudG9wKTtyZXR1cm4gbmV3IG8uUG9pbnQoZSxpLCEwKX0sX29uVHJhbnNpdGlvbkVuZDpmdW5jdGlvbigpe28uRG9tRXZlbnQub2ZmKHRoaXMuX2VsLG8uRG9tVXRpbC5UUkFOU0lUSU9OX0VORCx0aGlzLl9vblRyYW5zaXRpb25FbmQsdGhpcyksdGhpcy5faW5Qcm9ncmVzcyYmKHRoaXMuX2luUHJvZ3Jlc3M9ITEsdGhpcy5fZWwuc3R5bGVbby5Eb21VdGlsLlRSQU5TSVRJT05dPSIiLHRoaXMuX2VsLl9sZWFmbGV0X3Bvcz10aGlzLl9uZXdQb3MsY2xlYXJJbnRlcnZhbCh0aGlzLl9zdGVwVGltZXIpLHRoaXMuZmlyZSgic3RlcCIpLmZpcmUoImVuZCIpKX19KSxvLk1hcC5pbmNsdWRlKHtzZXRWaWV3OmZ1bmN0aW9uKHQsZSxuKXtpZihlPWU9PT1pP3RoaXMuX3pvb206dGhpcy5fbGltaXRab29tKGUpLHQ9dGhpcy5fbGltaXRDZW50ZXIoby5sYXRMbmcodCksZSx0aGlzLm9wdGlvbnMubWF4Qm91bmRzKSxuPW58fHt9LHRoaXMuX3BhbkFuaW0mJnRoaXMuX3BhbkFuaW0uc3RvcCgpLHRoaXMuX2xvYWRlZCYmIW4ucmVzZXQmJm4hPT0hMCl7bi5hbmltYXRlIT09aSYmKG4uem9vbT1vLmV4dGVuZCh7YW5pbWF0ZTpuLmFuaW1hdGV9LG4uem9vbSksbi5wYW49by5leHRlbmQoe2FuaW1hdGU6bi5hbmltYXRlfSxuLnBhbikpO3ZhciBzPXRoaXMuX3pvb20hPT1lP3RoaXMuX3RyeUFuaW1hdGVkWm9vbSYmdGhpcy5fdHJ5QW5pbWF0ZWRab29tKHQsZSxuLnpvb20pOnRoaXMuX3RyeUFuaW1hdGVkUGFuKHQsbi5wYW4pO2lmKHMpcmV0dXJuIGNsZWFyVGltZW91dCh0aGlzLl9zaXplVGltZXIpLHRoaXN9cmV0dXJuIHRoaXMuX3Jlc2V0Vmlldyh0LGUpLHRoaXN9LHBhbkJ5OmZ1bmN0aW9uKHQsZSl7aWYodD1vLnBvaW50KHQpLnJvdW5kKCksZT1lfHx7fSwhdC54JiYhdC55KXJldHVybiB0aGlzO2lmKHRoaXMuX3BhbkFuaW18fCh0aGlzLl9wYW5BbmltPW5ldyBvLlBvc0FuaW1hdGlvbix0aGlzLl9wYW5BbmltLm9uKHtzdGVwOnRoaXMuX29uUGFuVHJhbnNpdGlvblN0ZXAsZW5kOnRoaXMuX29uUGFuVHJhbnNpdGlvbkVuZH0sdGhpcykpLGUubm9Nb3ZlU3RhcnR8fHRoaXMuZmlyZSgibW92ZXN0YXJ0IiksZS5hbmltYXRlIT09ITEpe28uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9tYXBQYW5lLCJsZWFmbGV0LXBhbi1hbmltIik7dmFyIGk9dGhpcy5fZ2V0TWFwUGFuZVBvcygpLnN1YnRyYWN0KHQpO3RoaXMuX3BhbkFuaW0ucnVuKHRoaXMuX21hcFBhbmUsaSxlLmR1cmF0aW9ufHwuMjUsZS5lYXNlTGluZWFyaXR5KX1lbHNlIHRoaXMuX3Jhd1BhbkJ5KHQpLHRoaXMuZmlyZSgibW92ZSIpLmZpcmUoIm1vdmVlbmQiKTtyZXR1cm4gdGhpc30sX29uUGFuVHJhbnNpdGlvblN0ZXA6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoIm1vdmUiKX0sX29uUGFuVHJhbnNpdGlvbkVuZDpmdW5jdGlvbigpe28uRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXBQYW5lLCJsZWFmbGV0LXBhbi1hbmltIiksdGhpcy5maXJlKCJtb3ZlZW5kIil9LF90cnlBbmltYXRlZFBhbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2dldENlbnRlck9mZnNldCh0KS5fZmxvb3IoKTtyZXR1cm4oZSYmZS5hbmltYXRlKT09PSEwfHx0aGlzLmdldFNpemUoKS5jb250YWlucyhpKT8odGhpcy5wYW5CeShpLGUpLCEwKTohMX19KSxvLlBvc0FuaW1hdGlvbj1vLkRvbVV0aWwuVFJBTlNJVElPTj9vLlBvc0FuaW1hdGlvbjpvLlBvc0FuaW1hdGlvbi5leHRlbmQoe3J1bjpmdW5jdGlvbih0LGUsaSxuKXt0aGlzLnN0b3AoKSx0aGlzLl9lbD10LHRoaXMuX2luUHJvZ3Jlc3M9ITAsdGhpcy5fZHVyYXRpb249aXx8LjI1LHRoaXMuX2Vhc2VPdXRQb3dlcj0xL01hdGgubWF4KG58fC41LC4yKSx0aGlzLl9zdGFydFBvcz1vLkRvbVV0aWwuZ2V0UG9zaXRpb24odCksdGhpcy5fb2Zmc2V0PWUuc3VidHJhY3QodGhpcy5fc3RhcnRQb3MpLHRoaXMuX3N0YXJ0VGltZT0rbmV3IERhdGUsdGhpcy5maXJlKCJzdGFydCIpLHRoaXMuX2FuaW1hdGUoKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuX2luUHJvZ3Jlc3MmJih0aGlzLl9zdGVwKCksdGhpcy5fY29tcGxldGUoKSl9LF9hbmltYXRlOmZ1bmN0aW9uKCl7dGhpcy5fYW5pbUlkPW8uVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX2FuaW1hdGUsdGhpcyksdGhpcy5fc3RlcCgpfSxfc3RlcDpmdW5jdGlvbigpe3ZhciB0PStuZXcgRGF0ZS10aGlzLl9zdGFydFRpbWUsZT0xZTMqdGhpcy5fZHVyYXRpb247ZT50P3RoaXMuX3J1bkZyYW1lKHRoaXMuX2Vhc2VPdXQodC9lKSk6KHRoaXMuX3J1bkZyYW1lKDEpLHRoaXMuX2NvbXBsZXRlKCkpfSxfcnVuRnJhbWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RhcnRQb3MuYWRkKHRoaXMuX29mZnNldC5tdWx0aXBseUJ5KHQpKTtvLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fZWwsZSksdGhpcy5maXJlKCJzdGVwIil9LF9jb21wbGV0ZTpmdW5jdGlvbigpe28uVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbUlkKSx0aGlzLl9pblByb2dyZXNzPSExLHRoaXMuZmlyZSgiZW5kIil9LF9lYXNlT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGgucG93KDEtdCx0aGlzLl9lYXNlT3V0UG93ZXIpfX0pLG8uTWFwLm1lcmdlT3B0aW9ucyh7em9vbUFuaW1hdGlvbjohMCx6b29tQW5pbWF0aW9uVGhyZXNob2xkOjR9KSxvLkRvbVV0aWwuVFJBTlNJVElPTiYmby5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24oKXt0aGlzLl96b29tQW5pbWF0ZWQ9dGhpcy5vcHRpb25zLnpvb21BbmltYXRpb24mJm8uRG9tVXRpbC5UUkFOU0lUSU9OJiZvLkJyb3dzZXIuYW55M2QmJiFvLkJyb3dzZXIuYW5kcm9pZDIzJiYhby5Ccm93c2VyLm1vYmlsZU9wZXJhLHRoaXMuX3pvb21BbmltYXRlZCYmby5Eb21FdmVudC5vbih0aGlzLl9tYXBQYW5lLG8uRG9tVXRpbC5UUkFOU0lUSU9OX0VORCx0aGlzLl9jYXRjaFRyYW5zaXRpb25FbmQsdGhpcyl9KSxvLk1hcC5pbmNsdWRlKG8uRG9tVXRpbC5UUkFOU0lUSU9OP3tfY2F0Y2hUcmFuc2l0aW9uRW5kOmZ1bmN0aW9uKHQpe3RoaXMuX2FuaW1hdGluZ1pvb20mJnQucHJvcGVydHlOYW1lLmluZGV4T2YoInRyYW5zZm9ybSIpPj0wJiZ0aGlzLl9vblpvb21UcmFuc2l0aW9uRW5kKCl9LF9ub3RoaW5nVG9BbmltYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2NvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJsZWFmbGV0LXpvb20tYW5pbWF0ZWQiKS5sZW5ndGh9LF90cnlBbmltYXRlZFpvb206ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMuX2FuaW1hdGluZ1pvb20pcmV0dXJuITA7aWYoaT1pfHx7fSwhdGhpcy5fem9vbUFuaW1hdGVkfHxpLmFuaW1hdGU9PT0hMXx8dGhpcy5fbm90aGluZ1RvQW5pbWF0ZSgpfHxNYXRoLmFicyhlLXRoaXMuX3pvb20pPnRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uVGhyZXNob2xkKXJldHVybiExO3ZhciBuPXRoaXMuZ2V0Wm9vbVNjYWxlKGUpLG89dGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KHQpLl9kaXZpZGVCeSgxLTEvbikscz10aGlzLl9nZXRDZW50ZXJMYXllclBvaW50KCkuX2FkZChvKTtyZXR1cm4gaS5hbmltYXRlPT09ITB8fHRoaXMuZ2V0U2l6ZSgpLmNvbnRhaW5zKG8pPyh0aGlzLmZpcmUoIm1vdmVzdGFydCIpLmZpcmUoInpvb21zdGFydCIpLHRoaXMuX2FuaW1hdGVab29tKHQsZSxzLG4sbnVsbCwhMCksITApOiExfSxfYW5pbWF0ZVpvb206ZnVuY3Rpb24odCxlLGksbixzLGEscil7cnx8KHRoaXMuX2FuaW1hdGluZ1pvb209ITApLG8uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9tYXBQYW5lLCJsZWFmbGV0LXpvb20tYW5pbSIpLHRoaXMuX2FuaW1hdGVUb0NlbnRlcj10LHRoaXMuX2FuaW1hdGVUb1pvb209ZSxvLkRyYWdnYWJsZSYmKG8uRHJhZ2dhYmxlLl9kaXNhYmxlZD0hMCksby5VdGlsLnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24oKXt0aGlzLmZpcmUoInpvb21hbmltIix7Y2VudGVyOnQsem9vbTplLG9yaWdpbjppLHNjYWxlOm4sZGVsdGE6cyxiYWNrd2FyZHM6YX0pLHNldFRpbWVvdXQoby5iaW5kKHRoaXMuX29uWm9vbVRyYW5zaXRpb25FbmQsdGhpcyksMjUwKX0sdGhpcyl9LF9vblpvb21UcmFuc2l0aW9uRW5kOmZ1bmN0aW9uKCl7dGhpcy5fYW5pbWF0aW5nWm9vbSYmKHRoaXMuX2FuaW1hdGluZ1pvb209ITEsby5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX21hcFBhbmUsImxlYWZsZXQtem9vbS1hbmltIiksby5VdGlsLnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24oKXt0aGlzLl9yZXNldFZpZXcodGhpcy5fYW5pbWF0ZVRvQ2VudGVyLHRoaXMuX2FuaW1hdGVUb1pvb20sITAsITApLG8uRHJhZ2dhYmxlJiYoby5EcmFnZ2FibGUuX2Rpc2FibGVkPSExKX0sdGhpcykpfX06e30pLG8uVGlsZUxheWVyLmluY2x1ZGUoe19hbmltYXRlWm9vbTpmdW5jdGlvbih0KXt0aGlzLl9hbmltYXRpbmd8fCh0aGlzLl9hbmltYXRpbmc9ITAsdGhpcy5fcHJlcGFyZUJnQnVmZmVyKCkpO3ZhciBlPXRoaXMuX2JnQnVmZmVyLGk9by5Eb21VdGlsLlRSQU5TRk9STSxuPXQuZGVsdGE/by5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyh0LmRlbHRhKTplLnN0eWxlW2ldLHM9by5Eb21VdGlsLmdldFNjYWxlU3RyaW5nKHQuc2NhbGUsdC5vcmlnaW4pO2Uuc3R5bGVbaV09dC5iYWNrd2FyZHM/cysiICIrbjpuKyIgIitzfSxfZW5kWm9vbUFuaW06ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90aWxlQ29udGFpbmVyLGU9dGhpcy5fYmdCdWZmZXI7dC5zdHlsZS52aXNpYmlsaXR5PSIiLHQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0KSxvLlV0aWwuZmFsc2VGbihlLm9mZnNldFdpZHRoKTt2YXIgaT10aGlzLl9tYXAuZ2V0Wm9vbSgpOyhpPnRoaXMub3B0aW9ucy5tYXhab29tfHxpPHRoaXMub3B0aW9ucy5taW5ab29tKSYmdGhpcy5fY2xlYXJCZ0J1ZmZlcigpLHRoaXMuX2FuaW1hdGluZz0hMX0sX2NsZWFyQmdCdWZmZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXA7IXR8fHQuX2FuaW1hdGluZ1pvb218fHQudG91Y2hab29tLl96b29taW5nfHwodGhpcy5fYmdCdWZmZXIuaW5uZXJIVE1MPSIiLHRoaXMuX2JnQnVmZmVyLnN0eWxlW28uRG9tVXRpbC5UUkFOU0ZPUk1dPSIiKX0sX3ByZXBhcmVCZ0J1ZmZlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RpbGVDb250YWluZXIsZT10aGlzLl9iZ0J1ZmZlcixpPXRoaXMuX2dldExvYWRlZFRpbGVzUGVyY2VudGFnZShlKSxuPXRoaXMuX2dldExvYWRlZFRpbGVzUGVyY2VudGFnZSh0KTtyZXR1cm4gZSYmaT4uNSYmLjU+bj8odC5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLHZvaWQgdGhpcy5fc3RvcExvYWRpbmdJbWFnZXModCkpOihlLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsZS5zdHlsZVtvLkRvbVV0aWwuVFJBTlNGT1JNXT0iIix0aGlzLl90aWxlQ29udGFpbmVyPWUsZT10aGlzLl9iZ0J1ZmZlcj10LHRoaXMuX3N0b3BMb2FkaW5nSW1hZ2VzKGUpLHZvaWQgY2xlYXJUaW1lb3V0KHRoaXMuX2NsZWFyQmdCdWZmZXJUaW1lcikpfSxfZ2V0TG9hZGVkVGlsZXNQZXJjZW50YWdlOmZ1bmN0aW9uKHQpe3ZhciBlLGksbj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKSxvPTA7Zm9yKGU9MCxpPW4ubGVuZ3RoO2k+ZTtlKyspbltlXS5jb21wbGV0ZSYmbysrO3JldHVybiBvL2l9LF9zdG9wTG9hZGluZ0ltYWdlczpmdW5jdGlvbih0KXt2YXIgZSxpLG4scz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKSk7Zm9yKGU9MCxpPXMubGVuZ3RoO2k+ZTtlKyspbj1zW2VdLG4uY29tcGxldGV8fChuLm9ubG9hZD1vLlV0aWwuZmFsc2VGbixuLm9uZXJyb3I9by5VdGlsLmZhbHNlRm4sbi5zcmM9by5VdGlsLmVtcHR5SW1hZ2VVcmwsbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pKX19KSxvLk1hcC5pbmNsdWRlKHtfZGVmYXVsdExvY2F0ZU9wdGlvbnM6e3dhdGNoOiExLHNldFZpZXc6ITEsbWF4Wm9vbToxLzAsdGltZW91dDoxZTQsbWF4aW11bUFnZTowLGVuYWJsZUhpZ2hBY2N1cmFjeTohMX0sbG9jYXRlOmZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5fbG9jYXRlT3B0aW9ucz1vLmV4dGVuZCh0aGlzLl9kZWZhdWx0TG9jYXRlT3B0aW9ucyx0KSwhbmF2aWdhdG9yLmdlb2xvY2F0aW9uKXJldHVybiB0aGlzLl9oYW5kbGVHZW9sb2NhdGlvbkVycm9yKHtjb2RlOjAsbWVzc2FnZToiR2VvbG9jYXRpb24gbm90IHN1cHBvcnRlZC4ifSksdGhpczt2YXIgZT1vLmJpbmQodGhpcy5faGFuZGxlR2VvbG9jYXRpb25SZXNwb25zZSx0aGlzKSxpPW8uYmluZCh0aGlzLl9oYW5kbGVHZW9sb2NhdGlvbkVycm9yLHRoaXMpO3JldHVybiB0LndhdGNoP3RoaXMuX2xvY2F0aW9uV2F0Y2hJZD1uYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbihlLGksdCk6bmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihlLGksdCksdGhpc30sc3RvcExvY2F0ZTpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24mJm5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2xvY2F0aW9uV2F0Y2hJZCksdGhpcy5fbG9jYXRlT3B0aW9ucyYmKHRoaXMuX2xvY2F0ZU9wdGlvbnMuc2V0Vmlldz0hMSksdGhpc30sX2hhbmRsZUdlb2xvY2F0aW9uRXJyb3I6ZnVuY3Rpb24odCl7dmFyIGU9dC5jb2RlLGk9dC5tZXNzYWdlfHwoMT09PWU/InBlcm1pc3Npb24gZGVuaWVkIjoyPT09ZT8icG9zaXRpb24gdW5hdmFpbGFibGUiOiJ0aW1lb3V0Iik7dGhpcy5fbG9jYXRlT3B0aW9ucy5zZXRWaWV3JiYhdGhpcy5fbG9hZGVkJiZ0aGlzLmZpdFdvcmxkKCksdGhpcy5maXJlKCJsb2NhdGlvbmVycm9yIix7Y29kZTplLG1lc3NhZ2U6Ikdlb2xvY2F0aW9uIGVycm9yOiAiK2krIi4ifSl9LF9oYW5kbGVHZW9sb2NhdGlvblJlc3BvbnNlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRzLmxhdGl0dWRlLGk9dC5jb29yZHMubG9uZ2l0dWRlLG49bmV3IG8uTGF0TG5nKGUsaSkscz0xODAqdC5jb29yZHMuYWNjdXJhY3kvNDAwNzUwMTcsYT1zL01hdGguY29zKG8uTGF0TG5nLkRFR19UT19SQUQqZSkscj1vLmxhdExuZ0JvdW5kcyhbZS1zLGktYV0sW2UrcyxpK2FdKSxoPXRoaXMuX2xvY2F0ZU9wdGlvbnM7aWYoaC5zZXRWaWV3KXt2YXIgbD1NYXRoLm1pbih0aGlzLmdldEJvdW5kc1pvb20ociksaC5tYXhab29tKTt0aGlzLnNldFZpZXcobixsKX12YXIgdT17bGF0bG5nOm4sYm91bmRzOnIsdGltZXN0YW1wOnQudGltZXN0YW1wfTtmb3IodmFyIGMgaW4gdC5jb29yZHMpIm51bWJlciI9PXR5cGVvZiB0LmNvb3Jkc1tjXSYmKHVbY109dC5jb29yZHNbY10pO3RoaXMuZmlyZSgibG9jYXRpb25mb3VuZCIsdSl9fSl9KHdpbmRvdyxkb2N1bWVudCk7Cn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewohZnVuY3Rpb24odCxlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJmV4cG9ydHMpZShleHBvcnRzKTtlbHNle3ZhciBuPXt9O2UobiksImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUobik6dC5NdXN0YWNoZT1ufX0odGhpcyxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuIHkuY2FsbCh0LGUpfWZ1bmN0aW9uIG4odCl7cmV0dXJuIWUodyx0KX1mdW5jdGlvbiByKHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0fWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQucmVwbGFjZSgvW1wtXFtcXXt9KCkqKz8uLFxcXF4kfCNcc10vZywiXFwkJiIpfWZ1bmN0aW9uIGEodCl7cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKC9bJjw+IidcL10vZyxmdW5jdGlvbih0KXtyZXR1cm4gX1t0XX0pfWZ1bmN0aW9uIG8odCl7dGhpcy5zdHJpbmc9dCx0aGlzLnRhaWw9dCx0aGlzLnBvcz0wfWZ1bmN0aW9uIHModCxlKXt0aGlzLnZpZXc9bnVsbD09dD97fTp0LHRoaXMucGFyZW50PWUsdGhpcy5fY2FjaGU9eyIuIjp0aGlzLnZpZXd9fWZ1bmN0aW9uIGMoKXt0aGlzLmNsZWFyQ2FjaGUoKX1mdW5jdGlvbiBsKGUsbixpLGEpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIG4ucmVuZGVyKHQsaSl9Zm9yKHZhciBzLGMsdSxwPSIiLGg9MCxmPWUubGVuZ3RoO2Y+aDsrK2gpc3dpdGNoKHM9ZVtoXSxjPXNbMV0sc1swXSl7Y2FzZSIjIjppZih1PWkubG9va3VwKGMpLCJvYmplY3QiPT10eXBlb2YgdXx8InN0cmluZyI9PXR5cGVvZiB1KWlmKHgodSkpZm9yKHZhciBnPTAsdj11Lmxlbmd0aDt2Pmc7KytnKXArPWwoc1s0XSxuLGkucHVzaCh1W2ddKSxhKTtlbHNlIHUmJihwKz1sKHNbNF0sbixpLnB1c2godSksYSkpO2Vsc2UgaWYocih1KSl7dmFyIHc9bnVsbD09YT9udWxsOmEuc2xpY2Uoc1szXSxzWzVdKTt1PXUuY2FsbChpLnZpZXcsdyxvKSxudWxsIT11JiYocCs9dSl9ZWxzZSB1JiYocCs9bChzWzRdLG4saSxhKSk7YnJlYWs7Y2FzZSJeIjp1PWkubG9va3VwKGMpLCghdXx8eCh1KSYmMD09PXUubGVuZ3RoKSYmKHArPWwoc1s0XSxuLGksYSkpO2JyZWFrO2Nhc2UiPiI6dT1uLmdldFBhcnRpYWwoYykscih1KSYmKHArPXUoaSkpO2JyZWFrO2Nhc2UiJiI6dT1pLmxvb2t1cChjKSxudWxsIT11JiYocCs9dSk7YnJlYWs7Y2FzZSJuYW1lIjp1PWkubG9va3VwKGMpLG51bGwhPXUmJihwKz10LmVzY2FwZSh1KSk7YnJlYWs7Y2FzZSJ0ZXh0IjpwKz1jfXJldHVybiBwfWZ1bmN0aW9uIHUodCl7Zm9yKHZhciBlLG49W10scj1uLGk9W10sYT0wLG89dC5sZW5ndGg7bz5hOysrYSlzd2l0Y2goZT10W2FdLGVbMF0pe2Nhc2UiIyI6Y2FzZSJeIjppLnB1c2goZSksci5wdXNoKGUpLHI9ZVs0XT1bXTticmVhaztjYXNlIi8iOnZhciBzPWkucG9wKCk7c1s1XT1lWzJdLHI9aS5sZW5ndGg+MD9pW2kubGVuZ3RoLTFdWzRdOm47YnJlYWs7ZGVmYXVsdDpyLnB1c2goZSl9cmV0dXJuIG59ZnVuY3Rpb24gcCh0KXtmb3IodmFyIGUsbixyPVtdLGk9MCxhPXQubGVuZ3RoO2E+aTsrK2kpZT10W2ldLGUmJigidGV4dCI9PT1lWzBdJiZuJiYidGV4dCI9PT1uWzBdPyhuWzFdKz1lWzFdLG5bM109ZVszXSk6KG49ZSxyLnB1c2goZSkpKTtyZXR1cm4gcn1mdW5jdGlvbiBoKHQpe3JldHVybltuZXcgUmVnRXhwKGkodFswXSkrIlxccyoiKSxuZXcgUmVnRXhwKCJcXHMqIitpKHRbMV0pKV19ZnVuY3Rpb24gZihlLHIpe2Z1bmN0aW9uIGEoKXtpZihQJiYhQylmb3IoO0UubGVuZ3RoOylkZWxldGUgVVtFLnBvcCgpXTtlbHNlIEU9W107UD0hMSxDPSExfWlmKGU9ZXx8IiIscj1yfHx0LnRhZ3MsInN0cmluZyI9PXR5cGVvZiByJiYocj1yLnNwbGl0KHYpKSwyIT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHRhZ3M6ICIrci5qb2luKCIsICIpKTtmb3IodmFyIHMsYyxsLGYsdyx5LGI9aChyKSx4PW5ldyBvKGUpLF89W10sVT1bXSxFPVtdLFA9ITEsQz0hMTsheC5lb3MoKTspe2lmKHM9eC5wb3MsbD14LnNjYW5VbnRpbChiWzBdKSlmb3IodmFyIGo9MCxBPWwubGVuZ3RoO0E+ajsrK2opZj1sLmNoYXJBdChqKSxuKGYpP0UucHVzaChVLmxlbmd0aCk6Qz0hMCxVLnB1c2goWyJ0ZXh0IixmLHMscysxXSkscys9MSwiXG4iPT1mJiZhKCk7aWYoIXguc2NhbihiWzBdKSlicmVhaztpZihQPSEwLGM9eC5zY2FuKGspfHwibmFtZSIseC5zY2FuKGcpLCI9Ij09PWM/KGw9eC5zY2FuVW50aWwobSkseC5zY2FuKG0pLHguc2NhblVudGlsKGJbMV0pKToieyI9PT1jPyhsPXguc2NhblVudGlsKG5ldyBSZWdFeHAoIlxccyoiK2koIn0iK3JbMV0pKSkseC5zY2FuKGQpLHguc2NhblVudGlsKGJbMV0pLGM9IiYiKTpsPXguc2NhblVudGlsKGJbMV0pLCF4LnNjYW4oYlsxXSkpdGhyb3cgbmV3IEVycm9yKCJVbmNsb3NlZCB0YWcgYXQgIit4LnBvcyk7aWYodz1bYyxsLHMseC5wb3NdLFUucHVzaCh3KSwiIyI9PT1jfHwiXiI9PT1jKV8ucHVzaCh3KTtlbHNlIGlmKCIvIj09PWMpe2lmKHk9Xy5wb3AoKSwheSl0aHJvdyBuZXcgRXJyb3IoJ1Vub3BlbmVkIHNlY3Rpb24gIicrbCsnIiBhdCAnK3MpO2lmKHlbMV0hPT1sKXRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgc2VjdGlvbiAiJyt5WzFdKyciIGF0ICcrcyl9ZWxzZSBpZigibmFtZSI9PT1jfHwieyI9PT1jfHwiJiI9PT1jKUM9ITA7ZWxzZSBpZigiPSI9PT1jKXtpZihyPWwuc3BsaXQodiksMiE9PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB0YWdzIGF0ICIrcysiOiAiK3Iuam9pbigiLCAiKSk7Yj1oKHIpfX1pZih5PV8ucG9wKCkpdGhyb3cgbmV3IEVycm9yKCdVbmNsb3NlZCBzZWN0aW9uICInK3lbMV0rJyIgYXQgJyt4LnBvcyk7cmV0dXJuIHUocChVKSl9dmFyIGc9L1xzKi8sdj0vXHMrLyx3PS9cUy8sbT0vXHMqPS8sZD0vXHMqXH0vLGs9LyN8XF58XC98Pnxce3wmfD18IS8seT1SZWdFeHAucHJvdG90eXBlLnRlc3QsYj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLHg9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWIuY2FsbCh0KX0sXz17IiYiOiImYW1wOyIsIjwiOiImbHQ7IiwiPiI6IiZndDsiLCciJzoiJnF1b3Q7IiwiJyI6IiYjMzk7IiwiLyI6IiYjeDJGOyJ9O28ucHJvdG90eXBlLmVvcz1mdW5jdGlvbigpe3JldHVybiIiPT09dGhpcy50YWlsfSxvLnByb3RvdHlwZS5zY2FuPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudGFpbC5tYXRjaCh0KTtpZihlJiYwPT09ZS5pbmRleCl7dmFyIG49ZVswXTtyZXR1cm4gdGhpcy50YWlsPXRoaXMudGFpbC5zdWJzdHJpbmcobi5sZW5ndGgpLHRoaXMucG9zKz1uLmxlbmd0aCxufXJldHVybiIifSxvLnByb3RvdHlwZS5zY2FuVW50aWw9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLnRhaWwuc2VhcmNoKHQpO3N3aXRjaChuKXtjYXNlLTE6ZT10aGlzLnRhaWwsdGhpcy50YWlsPSIiO2JyZWFrO2Nhc2UgMDplPSIiO2JyZWFrO2RlZmF1bHQ6ZT10aGlzLnRhaWwuc3Vic3RyaW5nKDAsbiksdGhpcy50YWlsPXRoaXMudGFpbC5zdWJzdHJpbmcobil9cmV0dXJuIHRoaXMucG9zKz1lLmxlbmd0aCxlfSxzLm1ha2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBzP3Q6bmV3IHModCl9LHMucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBzKHQsdGhpcyl9LHMucHJvdG90eXBlLmxvb2t1cD1mdW5jdGlvbih0KXt2YXIgZTtpZih0IGluIHRoaXMuX2NhY2hlKWU9dGhpcy5fY2FjaGVbdF07ZWxzZXtmb3IodmFyIG49dGhpcztuOyl7aWYodC5pbmRleE9mKCIuIik+MCl7ZT1uLnZpZXc7Zm9yKHZhciBpPXQuc3BsaXQoIi4iKSxhPTA7bnVsbCE9ZSYmYTxpLmxlbmd0aDspZT1lW2lbYSsrXV19ZWxzZSBlPW4udmlld1t0XTtpZihudWxsIT1lKWJyZWFrO249bi5wYXJlbnR9dGhpcy5fY2FjaGVbdF09ZX1yZXR1cm4gcihlKSYmKGU9ZS5jYWxsKHRoaXMudmlldykpLGV9LGMucHJvdG90eXBlLmNsZWFyQ2FjaGU9ZnVuY3Rpb24oKXt0aGlzLl9jYWNoZT17fSx0aGlzLl9wYXJ0aWFsQ2FjaGU9e319LGMucHJvdG90eXBlLmNvbXBpbGU9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLl9jYWNoZVtlXTtpZighcil7dmFyIGk9dC5wYXJzZShlLG4pO3I9dGhpcy5fY2FjaGVbZV09dGhpcy5jb21waWxlVG9rZW5zKGksZSl9cmV0dXJuIHJ9LGMucHJvdG90eXBlLmNvbXBpbGVQYXJ0aWFsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmNvbXBpbGUoZSxuKTtyZXR1cm4gdGhpcy5fcGFydGlhbENhY2hlW3RdPXIscn0sYy5wcm90b3R5cGUuZ2V0UGFydGlhbD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbiB0aGlzLl9wYXJ0aWFsQ2FjaGV8fCF0aGlzLl9sb2FkUGFydGlhbHx8dGhpcy5jb21waWxlUGFydGlhbCh0LHRoaXMuX2xvYWRQYXJ0aWFsKHQpKSx0aGlzLl9wYXJ0aWFsQ2FjaGVbdF19LGMucHJvdG90eXBlLmNvbXBpbGVUb2tlbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKGEpaWYocihhKSluLl9sb2FkUGFydGlhbD1hO2Vsc2UgZm9yKHZhciBvIGluIGEpbi5jb21waWxlUGFydGlhbChvLGFbb10pO3JldHVybiBsKHQsbixzLm1ha2UoaSksZSl9fSxjLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmNvbXBpbGUodCkoZSxuKX0sdC5uYW1lPSJtdXN0YWNoZS5qcyIsdC52ZXJzaW9uPSIwLjcuMyIsdC50YWdzPVsie3siLCJ9fSJdLHQuU2Nhbm5lcj1vLHQuQ29udGV4dD1zLHQuV3JpdGVyPWMsdC5wYXJzZT1mLHQuZXNjYXBlPWE7dmFyIFU9bmV3IGM7dC5jbGVhckNhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIFUuY2xlYXJDYWNoZSgpfSx0LmNvbXBpbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gVS5jb21waWxlKHQsZSl9LHQuY29tcGlsZVBhcnRpYWw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBVLmNvbXBpbGVQYXJ0aWFsKHQsZSxuKX0sdC5jb21waWxlVG9rZW5zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFUuY29tcGlsZVRva2Vucyh0LGUpfSx0LnJlbmRlcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFUucmVuZGVyKHQsZSxuKX0sdC50b19odG1sPWZ1bmN0aW9uKGUsbixpLGEpe3ZhciBvPXQucmVuZGVyKGUsbixpKTtyZXR1cm4gcihhKT92b2lkIGEobyk6b319KTsKfSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CmZ1bmN0aW9uIGNsZWFuVXJsKHQpeyJ1c2Ugc3RyaWN0IjtyZXR1cm4vXmh0dHBzPy8udGVzdCh0LmdldFNjaGVtZSgpKT90LnRvU3RyaW5nKCk6L15tYWlsdG8/Ly50ZXN0KHQuZ2V0U2NoZW1lKCkpP3QudG9TdHJpbmcoKToiZGF0YSI9PXQuZ2V0U2NoZW1lKCkmJi9eaW1hZ2UvLnRlc3QodC5nZXRQYXRoKCkpP3QudG9TdHJpbmcoKTp2b2lkIDB9ZnVuY3Rpb24gY2xlYW5JZCh0KXtyZXR1cm4gdH12YXIgaHRtbF9zYW5pdGl6ZT1yZXF1aXJlKCIuL3Nhbml0aXplci1idW5kbGUuanMiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD9odG1sX3Nhbml0aXplKHQsY2xlYW5VcmwsY2xlYW5JZCk6IiJ9Owp9LHsiLi9zYW5pdGl6ZXItYnVuZGxlLmpzIjo2fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciBVUkk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciB0PSgiIitlKS5tYXRjaChwKTtyZXR1cm4gdD9uZXcgcyhjKHRbMV0pLGModFsyXSksYyh0WzNdKSxjKHRbNF0pLGModFs1XSksYyh0WzZdKSxjKHRbN10pKTpudWxsfWZ1bmN0aW9uIHQoZSx0LG8saSxsLGMsbSl7dmFyIHU9bmV3IHMobihlLGQpLG4odCxkKSxhKG8pLGk+MD9pLnRvU3RyaW5nKCk6bnVsbCxuKGwsZiksbnVsbCxhKG0pKTtyZXR1cm4gYyYmKCJzdHJpbmciPT10eXBlb2YgYz91LnNldFJhd1F1ZXJ5KGMucmVwbGFjZSgvW14/Jj0wLTlBLVphLXpfXC1+LiVdL2cscikpOnUuc2V0QWxsUGFyYW1ldGVycyhjKSksdX1mdW5jdGlvbiBhKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9lbmNvZGVVUklDb21wb25lbnQoZSk6bnVsbH1mdW5jdGlvbiBuKGUsdCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP2VuY29kZVVSSShlKS5yZXBsYWNlKHQscik6bnVsbH1mdW5jdGlvbiByKGUpe3ZhciB0PWUuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrIjAxMjM0NTY3ODlBQkNERUYiLmNoYXJBdCh0Pj40JjE1KSsiMDEyMzQ1Njc4OUFCQ0RFRiIuY2hhckF0KDE1JnQpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIGUucmVwbGFjZSgvKF58XC8pXC4oPzpcL3wkKS9nLCIkMSIpLnJlcGxhY2UoL1wvezIsfS9nLCIvIil9ZnVuY3Rpb24gaShlKXtpZihudWxsPT09ZSlyZXR1cm4gbnVsbDtmb3IodmFyIHQsYT1vKGUpLG49dTsodD1hLnJlcGxhY2UobiwiJDEiKSkhPWE7YT10KTtyZXR1cm4gYX1mdW5jdGlvbiBsKGUsdCl7dmFyIGE9ZS5jbG9uZSgpLG49dC5oYXNTY2hlbWUoKTtuP2Euc2V0UmF3U2NoZW1lKHQuZ2V0UmF3U2NoZW1lKCkpOm49dC5oYXNDcmVkZW50aWFscygpLG4/YS5zZXRSYXdDcmVkZW50aWFscyh0LmdldFJhd0NyZWRlbnRpYWxzKCkpOm49dC5oYXNEb21haW4oKSxuP2Euc2V0UmF3RG9tYWluKHQuZ2V0UmF3RG9tYWluKCkpOm49dC5oYXNQb3J0KCk7dmFyIHI9dC5nZXRSYXdQYXRoKCksbz1pKHIpO2lmKG4pYS5zZXRQb3J0KHQuZ2V0UG9ydCgpKSxvPW8mJm8ucmVwbGFjZShoLCIiKTtlbHNlIGlmKG49ISFyKXtpZig0NyE9PW8uY2hhckNvZGVBdCgwKSl7dmFyIGw9aShhLmdldFJhd1BhdGgoKXx8IiIpLnJlcGxhY2UoaCwiIikscz1sLmxhc3RJbmRleE9mKCIvIikrMTtvPWkoKHM/bC5zdWJzdHJpbmcoMCxzKToiIikraShyKSkucmVwbGFjZShoLCIiKX19ZWxzZSBvPW8mJm8ucmVwbGFjZShoLCIiKSxvIT09ciYmYS5zZXRSYXdQYXRoKG8pO3JldHVybiBuP2Euc2V0UmF3UGF0aChvKTpuPXQuaGFzUXVlcnkoKSxuP2Euc2V0UmF3UXVlcnkodC5nZXRSYXdRdWVyeSgpKTpuPXQuaGFzRnJhZ21lbnQoKSxuJiZhLnNldFJhd0ZyYWdtZW50KHQuZ2V0UmF3RnJhZ21lbnQoKSksYX1mdW5jdGlvbiBzKGUsdCxhLG4scixvLGkpe3RoaXMuc2NoZW1lXz1lLHRoaXMuY3JlZGVudGlhbHNfPXQsdGhpcy5kb21haW5fPWEsdGhpcy5wb3J0Xz1uLHRoaXMucGF0aF89cix0aGlzLnF1ZXJ5Xz1vLHRoaXMuZnJhZ21lbnRfPWksdGhpcy5wYXJhbUNhY2hlXz1udWxsfWZ1bmN0aW9uIGMoZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZlLmxlbmd0aD4wP2U6bnVsbH12YXIgbT1uZXcgUmVnRXhwKCIoL3xeKSg/OlteLi9dW14vXSp8XFwuezIsfSg/OlteLi9dW14vXSopfFxcLnszLH1bXi9dKikvXFwuXFwuKD86L3wkKSIpLHU9bmV3IFJlZ0V4cChtKSxoPS9eKD86XC5cLlwvKSooPzpcLlwuJCk/LztzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBudWxsIT09dGhpcy5zY2hlbWVfJiZlLnB1c2godGhpcy5zY2hlbWVfLCI6IiksbnVsbCE9PXRoaXMuZG9tYWluXyYmKGUucHVzaCgiLy8iKSxudWxsIT09dGhpcy5jcmVkZW50aWFsc18mJmUucHVzaCh0aGlzLmNyZWRlbnRpYWxzXywiQCIpLGUucHVzaCh0aGlzLmRvbWFpbl8pLG51bGwhPT10aGlzLnBvcnRfJiZlLnB1c2goIjoiLHRoaXMucG9ydF8udG9TdHJpbmcoKSkpLG51bGwhPT10aGlzLnBhdGhfJiZlLnB1c2godGhpcy5wYXRoXyksbnVsbCE9PXRoaXMucXVlcnlfJiZlLnB1c2goIj8iLHRoaXMucXVlcnlfKSxudWxsIT09dGhpcy5mcmFnbWVudF8mJmUucHVzaCgiIyIsdGhpcy5mcmFnbWVudF8pLGUuam9pbigiIil9LHMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzKHRoaXMuc2NoZW1lXyx0aGlzLmNyZWRlbnRpYWxzXyx0aGlzLmRvbWFpbl8sdGhpcy5wb3J0Xyx0aGlzLnBhdGhfLHRoaXMucXVlcnlfLHRoaXMuZnJhZ21lbnRfKX0scy5wcm90b3R5cGUuZ2V0U2NoZW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NoZW1lXyYmZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuc2NoZW1lXykudG9Mb3dlckNhc2UoKX0scy5wcm90b3R5cGUuZ2V0UmF3U2NoZW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NoZW1lX30scy5wcm90b3R5cGUuc2V0U2NoZW1lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNjaGVtZV89bihlLGQpLHRoaXN9LHMucHJvdG90eXBlLnNldFJhd1NjaGVtZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zY2hlbWVfPWU/ZTpudWxsLHRoaXN9LHMucHJvdG90eXBlLmhhc1NjaGVtZT1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5zY2hlbWVffSxzLnByb3RvdHlwZS5nZXRDcmVkZW50aWFscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNyZWRlbnRpYWxzXyYmZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuY3JlZGVudGlhbHNfKX0scy5wcm90b3R5cGUuZ2V0UmF3Q3JlZGVudGlhbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jcmVkZW50aWFsc199LHMucHJvdG90eXBlLnNldENyZWRlbnRpYWxzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNyZWRlbnRpYWxzXz1uKGUsZCksdGhpc30scy5wcm90b3R5cGUuc2V0UmF3Q3JlZGVudGlhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY3JlZGVudGlhbHNfPWU/ZTpudWxsLHRoaXN9LHMucHJvdG90eXBlLmhhc0NyZWRlbnRpYWxzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmNyZWRlbnRpYWxzX30scy5wcm90b3R5cGUuZ2V0RG9tYWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tYWluXyYmZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuZG9tYWluXyl9LHMucHJvdG90eXBlLmdldFJhd0RvbWFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbWFpbl99LHMucHJvdG90eXBlLnNldERvbWFpbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRSYXdEb21haW4oZSYmZW5jb2RlVVJJQ29tcG9uZW50KGUpKX0scy5wcm90b3R5cGUuc2V0UmF3RG9tYWluPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRvbWFpbl89ZT9lOm51bGwsdGhpcy5zZXRSYXdQYXRoKHRoaXMucGF0aF8pfSxzLnByb3RvdHlwZS5oYXNEb21haW49ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZG9tYWluX30scy5wcm90b3R5cGUuZ2V0UG9ydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcnRfJiZkZWNvZGVVUklDb21wb25lbnQodGhpcy5wb3J0Xyl9LHMucHJvdG90eXBlLnNldFBvcnQ9ZnVuY3Rpb24oZSl7aWYoZSl7aWYoZT1OdW1iZXIoZSksZSE9PSg2NTUzNSZlKSl0aHJvdyBuZXcgRXJyb3IoIkJhZCBwb3J0IG51bWJlciAiK2UpO3RoaXMucG9ydF89IiIrZX1lbHNlIHRoaXMucG9ydF89bnVsbDtyZXR1cm4gdGhpc30scy5wcm90b3R5cGUuaGFzUG9ydD1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5wb3J0X30scy5wcm90b3R5cGUuZ2V0UGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGhfJiZkZWNvZGVVUklDb21wb25lbnQodGhpcy5wYXRoXyl9LHMucHJvdG90eXBlLmdldFJhd1BhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoX30scy5wcm90b3R5cGUuc2V0UGF0aD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRSYXdQYXRoKG4oZSxmKSl9LHMucHJvdG90eXBlLnNldFJhd1BhdGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KGU9U3RyaW5nKGUpLHRoaXMucGF0aF89IXRoaXMuZG9tYWluX3x8L15cLy8udGVzdChlKT9lOiIvIitlKTp0aGlzLnBhdGhfPW51bGwsdGhpc30scy5wcm90b3R5cGUuaGFzUGF0aD1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5wYXRoX30scy5wcm90b3R5cGUuZ2V0UXVlcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xdWVyeV8mJmRlY29kZVVSSUNvbXBvbmVudCh0aGlzLnF1ZXJ5XykucmVwbGFjZSgvXCsvZywiICIpfSxzLnByb3RvdHlwZS5nZXRSYXdRdWVyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnF1ZXJ5X30scy5wcm90b3R5cGUuc2V0UXVlcnk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyYW1DYWNoZV89bnVsbCx0aGlzLnF1ZXJ5Xz1hKGUpLHRoaXN9LHMucHJvdG90eXBlLnNldFJhd1F1ZXJ5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhcmFtQ2FjaGVfPW51bGwsdGhpcy5xdWVyeV89ZT9lOm51bGwsdGhpc30scy5wcm90b3R5cGUuaGFzUXVlcnk9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMucXVlcnlffSxzLnByb3RvdHlwZS5zZXRBbGxQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZSYmIShlIGluc3RhbmNlb2YgQXJyYXkpJiYoZSBpbnN0YW5jZW9mIE9iamVjdHx8IltvYmplY3QgQXJyYXldIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkpe3ZhciB0PVtdLGE9LTE7Zm9yKHZhciBuIGluIGUpe3ZhciByPWVbbl07InN0cmluZyI9PXR5cGVvZiByJiYodFsrK2FdPW4sdFsrK2FdPXIpfWU9dH10aGlzLnBhcmFtQ2FjaGVfPW51bGw7Zm9yKHZhciBvPVtdLGk9IiIsbD0wO2w8ZS5sZW5ndGg7KXt2YXIgbj1lW2wrK10scj1lW2wrK107by5wdXNoKGksZW5jb2RlVVJJQ29tcG9uZW50KG4udG9TdHJpbmcoKSkpLGk9IiYiLHImJm8ucHVzaCgiPSIsZW5jb2RlVVJJQ29tcG9uZW50KHIudG9TdHJpbmcoKSkpfXJldHVybiB0aGlzLnF1ZXJ5Xz1vLmpvaW4oIiIpLHRoaXN9LHMucHJvdG90eXBlLmNoZWNrUGFyYW1ldGVyQ2FjaGVfPWZ1bmN0aW9uKCl7aWYoIXRoaXMucGFyYW1DYWNoZV8pe3ZhciBlPXRoaXMucXVlcnlfO2lmKGUpe2Zvcih2YXIgdD1lLnNwbGl0KC9bJlw/XS8pLGE9W10sbj0tMSxyPTA7cjx0Lmxlbmd0aDsrK3Ipe3ZhciBvPXRbcl0ubWF0Y2goL14oW149XSopKD86PSguKikpPyQvKTthWysrbl09ZGVjb2RlVVJJQ29tcG9uZW50KG9bMV0pLnJlcGxhY2UoL1wrL2csIiAiKSxhWysrbl09ZGVjb2RlVVJJQ29tcG9uZW50KG9bMl18fCIiKS5yZXBsYWNlKC9cKy9nLCIgIil9dGhpcy5wYXJhbUNhY2hlXz1hfWVsc2UgdGhpcy5wYXJhbUNhY2hlXz1bXX19LHMucHJvdG90eXBlLnNldFBhcmFtZXRlclZhbHVlcz1mdW5jdGlvbihlLHQpeyJzdHJpbmciPT10eXBlb2YgdCYmKHQ9W3RdKSx0aGlzLmNoZWNrUGFyYW1ldGVyQ2FjaGVfKCk7Zm9yKHZhciBhPTAsbj10aGlzLnBhcmFtQ2FjaGVfLHI9W10sbz0wO288bi5sZW5ndGg7bys9MillPT09bltvXT9hPHQubGVuZ3RoJiZyLnB1c2goZSx0W2ErK10pOnIucHVzaChuW29dLG5bbysxXSk7Zm9yKDthPHQubGVuZ3RoOylyLnB1c2goZSx0W2ErK10pO3JldHVybiB0aGlzLnNldEFsbFBhcmFtZXRlcnMociksdGhpc30scy5wcm90b3R5cGUucmVtb3ZlUGFyYW1ldGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldFBhcmFtZXRlclZhbHVlcyhlLFtdKX0scy5wcm90b3R5cGUuZ2V0QWxsUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrUGFyYW1ldGVyQ2FjaGVfKCksdGhpcy5wYXJhbUNhY2hlXy5zbGljZSgwLHRoaXMucGFyYW1DYWNoZV8ubGVuZ3RoKX0scy5wcm90b3R5cGUuZ2V0UGFyYW1ldGVyVmFsdWVzPWZ1bmN0aW9uKGUpe3RoaXMuY2hlY2tQYXJhbWV0ZXJDYWNoZV8oKTtmb3IodmFyIHQ9W10sYT0wO2E8dGhpcy5wYXJhbUNhY2hlXy5sZW5ndGg7YSs9MillPT09dGhpcy5wYXJhbUNhY2hlX1thXSYmdC5wdXNoKHRoaXMucGFyYW1DYWNoZV9bYSsxXSk7cmV0dXJuIHR9LHMucHJvdG90eXBlLmdldFBhcmFtZXRlck1hcD1mdW5jdGlvbihlKXt0aGlzLmNoZWNrUGFyYW1ldGVyQ2FjaGVfKCk7Zm9yKHZhciB0PXt9LGE9MDthPHRoaXMucGFyYW1DYWNoZV8ubGVuZ3RoO2ErPTIpe3ZhciBuPXRoaXMucGFyYW1DYWNoZV9bYSsrXSxyPXRoaXMucGFyYW1DYWNoZV9bYSsrXTtuIGluIHQ/dFtuXS5wdXNoKHIpOnRbbl09W3JdfXJldHVybiB0fSxzLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJWYWx1ZT1mdW5jdGlvbihlKXt0aGlzLmNoZWNrUGFyYW1ldGVyQ2FjaGVfKCk7Zm9yKHZhciB0PTA7dDx0aGlzLnBhcmFtQ2FjaGVfLmxlbmd0aDt0Kz0yKWlmKGU9PT10aGlzLnBhcmFtQ2FjaGVfW3RdKXJldHVybiB0aGlzLnBhcmFtQ2FjaGVfW3QrMV07cmV0dXJuIG51bGx9LHMucHJvdG90eXBlLmdldEZyYWdtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnRfJiZkZWNvZGVVUklDb21wb25lbnQodGhpcy5mcmFnbWVudF8pfSxzLnByb3RvdHlwZS5nZXRSYXdGcmFnbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZyYWdtZW50X30scy5wcm90b3R5cGUuc2V0RnJhZ21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZnJhZ21lbnRfPWU/ZW5jb2RlVVJJQ29tcG9uZW50KGUpOm51bGwsdGhpc30scy5wcm90b3R5cGUuc2V0UmF3RnJhZ21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZnJhZ21lbnRfPWU/ZTpudWxsLHRoaXN9LHMucHJvdG90eXBlLmhhc0ZyYWdtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmZyYWdtZW50X307dmFyIHA9bmV3IFJlZ0V4cCgiXig/OihbXjovPyNdKyk6KT8oPzovLyg/OihbXi8/I10qKUApPyhbXi8/IzpAXSopKD86OihbMC05XSspKT8pPyhbXj8jXSspPyg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8kIiksZD0vWyNcL1w/QF0vZyxmPS9bXCNcP10vZztyZXR1cm4gcy5wYXJzZT1lLHMuY3JlYXRlPXQscy5yZXNvbHZlPWwscy5jb2xsYXBzZV9kb3RzPWkscy51dGlscz17bWltZVR5cGVPZjpmdW5jdGlvbih0KXt2YXIgYT1lKHQpO3JldHVybi9cLmh0bWwkLy50ZXN0KGEuZ2V0UGF0aCgpKT8idGV4dC9odG1sIjoiYXBwbGljYXRpb24vamF2YXNjcmlwdCJ9LHJlc29sdmU6ZnVuY3Rpb24odCxhKXtyZXR1cm4gdD9sKGUodCksZShhKSkudG9TdHJpbmcoKToiIithfX0sc30oKSxodG1sND17fTtpZihodG1sNC5hdHlwZT17Tk9ORTowLFVSSToxLFVSSV9GUkFHTUVOVDoxMSxTQ1JJUFQ6MixTVFlMRTozLEhUTUw6MTIsSUQ6NCxJRFJFRjo1LElEUkVGUzo2LEdMT0JBTF9OQU1FOjcsTE9DQUxfTkFNRTo4LENMQVNTRVM6OSxGUkFNRV9UQVJHRVQ6MTAsTUVESUFfUVVFUlk6MTN9LGh0bWw0LmF0eXBlPWh0bWw0LmF0eXBlLGh0bWw0LkFUVFJJQlM9eyIqOjpjbGFzcyI6OSwiKjo6ZGlyIjowLCIqOjpkcmFnZ2FibGUiOjAsIio6OmhpZGRlbiI6MCwiKjo6aWQiOjQsIio6OmluZXJ0IjowLCIqOjppdGVtcHJvcCI6MCwiKjo6aXRlbXJlZiI6NiwiKjo6aXRlbXNjb3BlIjowLCIqOjpsYW5nIjowLCIqOjpvbmJsdXIiOjIsIio6Om9uY2hhbmdlIjoyLCIqOjpvbmNsaWNrIjoyLCIqOjpvbmRibGNsaWNrIjoyLCIqOjpvbmZvY3VzIjoyLCIqOjpvbmtleWRvd24iOjIsIio6Om9ua2V5cHJlc3MiOjIsIio6Om9ua2V5dXAiOjIsIio6Om9ubG9hZCI6MiwiKjo6b25tb3VzZWRvd24iOjIsIio6Om9ubW91c2Vtb3ZlIjoyLCIqOjpvbm1vdXNlb3V0IjoyLCIqOjpvbm1vdXNlb3ZlciI6MiwiKjo6b25tb3VzZXVwIjoyLCIqOjpvbnJlc2V0IjoyLCIqOjpvbnNjcm9sbCI6MiwiKjo6b25zZWxlY3QiOjIsIio6Om9uc3VibWl0IjoyLCIqOjpvbnVubG9hZCI6MiwiKjo6c3BlbGxjaGVjayI6MCwiKjo6c3R5bGUiOjMsIio6OnRpdGxlIjowLCIqOjp0cmFuc2xhdGUiOjAsImE6OmFjY2Vzc2tleSI6MCwiYTo6Y29vcmRzIjowLCJhOjpocmVmIjoxLCJhOjpocmVmbGFuZyI6MCwiYTo6bmFtZSI6NywiYTo6b25ibHVyIjoyLCJhOjpvbmZvY3VzIjoyLCJhOjpzaGFwZSI6MCwiYTo6dGFiaW5kZXgiOjAsImE6OnRhcmdldCI6MTAsImE6OnR5cGUiOjAsImFyZWE6OmFjY2Vzc2tleSI6MCwiYXJlYTo6YWx0IjowLCJhcmVhOjpjb29yZHMiOjAsImFyZWE6OmhyZWYiOjEsImFyZWE6Om5vaHJlZiI6MCwiYXJlYTo6b25ibHVyIjoyLCJhcmVhOjpvbmZvY3VzIjoyLCJhcmVhOjpzaGFwZSI6MCwiYXJlYTo6dGFiaW5kZXgiOjAsImFyZWE6OnRhcmdldCI6MTAsImF1ZGlvOjpjb250cm9scyI6MCwiYXVkaW86Omxvb3AiOjAsImF1ZGlvOjptZWRpYWdyb3VwIjo1LCJhdWRpbzo6bXV0ZWQiOjAsImF1ZGlvOjpwcmVsb2FkIjowLCJiZG86OmRpciI6MCwiYmxvY2txdW90ZTo6Y2l0ZSI6MSwiYnI6OmNsZWFyIjowLCJidXR0b246OmFjY2Vzc2tleSI6MCwiYnV0dG9uOjpkaXNhYmxlZCI6MCwiYnV0dG9uOjpuYW1lIjo4LCJidXR0b246Om9uYmx1ciI6MiwiYnV0dG9uOjpvbmZvY3VzIjoyLCJidXR0b246OnRhYmluZGV4IjowLCJidXR0b246OnR5cGUiOjAsImJ1dHRvbjo6dmFsdWUiOjAsImNhbnZhczo6aGVpZ2h0IjowLCJjYW52YXM6OndpZHRoIjowLCJjYXB0aW9uOjphbGlnbiI6MCwiY29sOjphbGlnbiI6MCwiY29sOjpjaGFyIjowLCJjb2w6OmNoYXJvZmYiOjAsImNvbDo6c3BhbiI6MCwiY29sOjp2YWxpZ24iOjAsImNvbDo6d2lkdGgiOjAsImNvbGdyb3VwOjphbGlnbiI6MCwiY29sZ3JvdXA6OmNoYXIiOjAsImNvbGdyb3VwOjpjaGFyb2ZmIjowLCJjb2xncm91cDo6c3BhbiI6MCwiY29sZ3JvdXA6OnZhbGlnbiI6MCwiY29sZ3JvdXA6OndpZHRoIjowLCJjb21tYW5kOjpjaGVja2VkIjowLCJjb21tYW5kOjpjb21tYW5kIjo1LCJjb21tYW5kOjpkaXNhYmxlZCI6MCwiY29tbWFuZDo6aWNvbiI6MSwiY29tbWFuZDo6bGFiZWwiOjAsImNvbW1hbmQ6OnJhZGlvZ3JvdXAiOjAsImNvbW1hbmQ6OnR5cGUiOjAsImRhdGE6OnZhbHVlIjowLCJkZWw6OmNpdGUiOjEsImRlbDo6ZGF0ZXRpbWUiOjAsImRldGFpbHM6Om9wZW4iOjAsImRpcjo6Y29tcGFjdCI6MCwiZGl2OjphbGlnbiI6MCwiZGw6OmNvbXBhY3QiOjAsImZpZWxkc2V0OjpkaXNhYmxlZCI6MCwiZm9udDo6Y29sb3IiOjAsImZvbnQ6OmZhY2UiOjAsImZvbnQ6OnNpemUiOjAsImZvcm06OmFjY2VwdCI6MCwiZm9ybTo6YWN0aW9uIjoxLCJmb3JtOjphdXRvY29tcGxldGUiOjAsImZvcm06OmVuY3R5cGUiOjAsImZvcm06Om1ldGhvZCI6MCwiZm9ybTo6bmFtZSI6NywiZm9ybTo6bm92YWxpZGF0ZSI6MCwiZm9ybTo6b25yZXNldCI6MiwiZm9ybTo6b25zdWJtaXQiOjIsImZvcm06OnRhcmdldCI6MTAsImgxOjphbGlnbiI6MCwiaDI6OmFsaWduIjowLCJoMzo6YWxpZ24iOjAsImg0OjphbGlnbiI6MCwiaDU6OmFsaWduIjowLCJoNjo6YWxpZ24iOjAsImhyOjphbGlnbiI6MCwiaHI6Om5vc2hhZGUiOjAsImhyOjpzaXplIjowLCJocjo6d2lkdGgiOjAsImlmcmFtZTo6YWxpZ24iOjAsImlmcmFtZTo6ZnJhbWVib3JkZXIiOjAsImlmcmFtZTo6aGVpZ2h0IjowLCJpZnJhbWU6Om1hcmdpbmhlaWdodCI6MCwiaWZyYW1lOjptYXJnaW53aWR0aCI6MCwiaWZyYW1lOjp3aWR0aCI6MCwiaW1nOjphbGlnbiI6MCwiaW1nOjphbHQiOjAsImltZzo6Ym9yZGVyIjowLCJpbWc6OmhlaWdodCI6MCwiaW1nOjpoc3BhY2UiOjAsImltZzo6aXNtYXAiOjAsImltZzo6bmFtZSI6NywiaW1nOjpzcmMiOjEsImltZzo6dXNlbWFwIjoxMSwiaW1nOjp2c3BhY2UiOjAsImltZzo6d2lkdGgiOjAsImlucHV0OjphY2NlcHQiOjAsImlucHV0OjphY2Nlc3NrZXkiOjAsImlucHV0OjphbGlnbiI6MCwiaW5wdXQ6OmFsdCI6MCwiaW5wdXQ6OmF1dG9jb21wbGV0ZSI6MCwiaW5wdXQ6OmNoZWNrZWQiOjAsImlucHV0OjpkaXNhYmxlZCI6MCwiaW5wdXQ6OmlucHV0bW9kZSI6MCwiaW5wdXQ6OmlzbWFwIjowLCJpbnB1dDo6bGlzdCI6NSwiaW5wdXQ6Om1heCI6MCwiaW5wdXQ6Om1heGxlbmd0aCI6MCwiaW5wdXQ6Om1pbiI6MCwiaW5wdXQ6Om11bHRpcGxlIjowLCJpbnB1dDo6bmFtZSI6OCwiaW5wdXQ6Om9uYmx1ciI6MiwiaW5wdXQ6Om9uY2hhbmdlIjoyLCJpbnB1dDo6b25mb2N1cyI6MiwiaW5wdXQ6Om9uc2VsZWN0IjoyLCJpbnB1dDo6cGxhY2Vob2xkZXIiOjAsImlucHV0OjpyZWFkb25seSI6MCwiaW5wdXQ6OnJlcXVpcmVkIjowLCJpbnB1dDo6c2l6ZSI6MCwiaW5wdXQ6OnNyYyI6MSwiaW5wdXQ6OnN0ZXAiOjAsImlucHV0Ojp0YWJpbmRleCI6MCwiaW5wdXQ6OnR5cGUiOjAsImlucHV0Ojp1c2VtYXAiOjExLCJpbnB1dDo6dmFsdWUiOjAsImluczo6Y2l0ZSI6MSwiaW5zOjpkYXRldGltZSI6MCwibGFiZWw6OmFjY2Vzc2tleSI6MCwibGFiZWw6OmZvciI6NSwibGFiZWw6Om9uYmx1ciI6MiwibGFiZWw6Om9uZm9jdXMiOjIsImxlZ2VuZDo6YWNjZXNza2V5IjowLCJsZWdlbmQ6OmFsaWduIjowLCJsaTo6dHlwZSI6MCwibGk6OnZhbHVlIjowLCJtYXA6Om5hbWUiOjcsIm1lbnU6OmNvbXBhY3QiOjAsIm1lbnU6OmxhYmVsIjowLCJtZW51Ojp0eXBlIjowLCJtZXRlcjo6aGlnaCI6MCwibWV0ZXI6OmxvdyI6MCwibWV0ZXI6Om1heCI6MCwibWV0ZXI6Om1pbiI6MCwibWV0ZXI6OnZhbHVlIjowLCJvbDo6Y29tcGFjdCI6MCwib2w6OnJldmVyc2VkIjowLCJvbDo6c3RhcnQiOjAsIm9sOjp0eXBlIjowLCJvcHRncm91cDo6ZGlzYWJsZWQiOjAsIm9wdGdyb3VwOjpsYWJlbCI6MCwib3B0aW9uOjpkaXNhYmxlZCI6MCwib3B0aW9uOjpsYWJlbCI6MCwib3B0aW9uOjpzZWxlY3RlZCI6MCwib3B0aW9uOjp2YWx1ZSI6MCwib3V0cHV0Ojpmb3IiOjYsIm91dHB1dDo6bmFtZSI6OCwicDo6YWxpZ24iOjAsInByZTo6d2lkdGgiOjAsInByb2dyZXNzOjptYXgiOjAsInByb2dyZXNzOjptaW4iOjAsInByb2dyZXNzOjp2YWx1ZSI6MCwicTo6Y2l0ZSI6MSwic2VsZWN0OjphdXRvY29tcGxldGUiOjAsInNlbGVjdDo6ZGlzYWJsZWQiOjAsInNlbGVjdDo6bXVsdGlwbGUiOjAsInNlbGVjdDo6bmFtZSI6OCwic2VsZWN0OjpvbmJsdXIiOjIsInNlbGVjdDo6b25jaGFuZ2UiOjIsInNlbGVjdDo6b25mb2N1cyI6Miwic2VsZWN0OjpyZXF1aXJlZCI6MCwic2VsZWN0OjpzaXplIjowLCJzZWxlY3Q6OnRhYmluZGV4IjowLCJzb3VyY2U6OnR5cGUiOjAsInRhYmxlOjphbGlnbiI6MCwidGFibGU6OmJnY29sb3IiOjAsInRhYmxlOjpib3JkZXIiOjAsInRhYmxlOjpjZWxscGFkZGluZyI6MCwidGFibGU6OmNlbGxzcGFjaW5nIjowLCJ0YWJsZTo6ZnJhbWUiOjAsInRhYmxlOjpydWxlcyI6MCwidGFibGU6OnN1bW1hcnkiOjAsInRhYmxlOjp3aWR0aCI6MCwidGJvZHk6OmFsaWduIjowLCJ0Ym9keTo6Y2hhciI6MCwidGJvZHk6OmNoYXJvZmYiOjAsInRib2R5Ojp2YWxpZ24iOjAsInRkOjphYmJyIjowLCJ0ZDo6YWxpZ24iOjAsInRkOjpheGlzIjowLCJ0ZDo6Ymdjb2xvciI6MCwidGQ6OmNoYXIiOjAsInRkOjpjaGFyb2ZmIjowLCJ0ZDo6Y29sc3BhbiI6MCwidGQ6OmhlYWRlcnMiOjYsInRkOjpoZWlnaHQiOjAsInRkOjpub3dyYXAiOjAsInRkOjpyb3dzcGFuIjowLCJ0ZDo6c2NvcGUiOjAsInRkOjp2YWxpZ24iOjAsInRkOjp3aWR0aCI6MCwidGV4dGFyZWE6OmFjY2Vzc2tleSI6MCwidGV4dGFyZWE6OmF1dG9jb21wbGV0ZSI6MCwidGV4dGFyZWE6OmNvbHMiOjAsInRleHRhcmVhOjpkaXNhYmxlZCI6MCwidGV4dGFyZWE6OmlucHV0bW9kZSI6MCwidGV4dGFyZWE6Om5hbWUiOjgsInRleHRhcmVhOjpvbmJsdXIiOjIsInRleHRhcmVhOjpvbmNoYW5nZSI6MiwidGV4dGFyZWE6Om9uZm9jdXMiOjIsInRleHRhcmVhOjpvbnNlbGVjdCI6MiwidGV4dGFyZWE6OnBsYWNlaG9sZGVyIjowLCJ0ZXh0YXJlYTo6cmVhZG9ubHkiOjAsInRleHRhcmVhOjpyZXF1aXJlZCI6MCwidGV4dGFyZWE6OnJvd3MiOjAsInRleHRhcmVhOjp0YWJpbmRleCI6MCwidGV4dGFyZWE6OndyYXAiOjAsInRmb290OjphbGlnbiI6MCwidGZvb3Q6OmNoYXIiOjAsInRmb290OjpjaGFyb2ZmIjowLCJ0Zm9vdDo6dmFsaWduIjowLCJ0aDo6YWJiciI6MCwidGg6OmFsaWduIjowLCJ0aDo6YXhpcyI6MCwidGg6OmJnY29sb3IiOjAsInRoOjpjaGFyIjowLCJ0aDo6Y2hhcm9mZiI6MCwidGg6OmNvbHNwYW4iOjAsInRoOjpoZWFkZXJzIjo2LCJ0aDo6aGVpZ2h0IjowLCJ0aDo6bm93cmFwIjowLCJ0aDo6cm93c3BhbiI6MCwidGg6OnNjb3BlIjowLCJ0aDo6dmFsaWduIjowLCJ0aDo6d2lkdGgiOjAsInRoZWFkOjphbGlnbiI6MCwidGhlYWQ6OmNoYXIiOjAsInRoZWFkOjpjaGFyb2ZmIjowLCJ0aGVhZDo6dmFsaWduIjowLCJ0cjo6YWxpZ24iOjAsInRyOjpiZ2NvbG9yIjowLCJ0cjo6Y2hhciI6MCwidHI6OmNoYXJvZmYiOjAsInRyOjp2YWxpZ24iOjAsInRyYWNrOjpkZWZhdWx0IjowLCJ0cmFjazo6a2luZCI6MCwidHJhY2s6OmxhYmVsIjowLCJ0cmFjazo6c3JjbGFuZyI6MCwidWw6OmNvbXBhY3QiOjAsInVsOjp0eXBlIjowLCJ2aWRlbzo6Y29udHJvbHMiOjAsInZpZGVvOjpoZWlnaHQiOjAsInZpZGVvOjpsb29wIjowLCJ2aWRlbzo6bWVkaWFncm91cCI6NSwidmlkZW86Om11dGVkIjowLCJ2aWRlbzo6cG9zdGVyIjoxLCJ2aWRlbzo6cHJlbG9hZCI6MCwidmlkZW86OndpZHRoIjowfSxodG1sNC5BVFRSSUJTPWh0bWw0LkFUVFJJQlMsaHRtbDQuZWZsYWdzPXtPUFRJT05BTF9FTkRUQUc6MSxFTVBUWToyLENEQVRBOjQsUkNEQVRBOjgsVU5TQUZFOjE2LEZPTERBQkxFOjMyLFNDUklQVDo2NCxTVFlMRToxMjgsVklSVFVBTElaRUQ6MjU2fSxodG1sNC5lZmxhZ3M9aHRtbDQuZWZsYWdzLGh0bWw0LkVMRU1FTlRTPXthOjAsYWJicjowLGFjcm9ueW06MCxhZGRyZXNzOjAsYXBwbGV0OjI3MixhcmVhOjIsYXJ0aWNsZTowLGFzaWRlOjAsYXVkaW86MCxiOjAsYmFzZToyNzQsYmFzZWZvbnQ6Mjc0LGJkaTowLGJkbzowLGJpZzowLGJsb2NrcXVvdGU6MCxib2R5OjMwNSxicjoyLGJ1dHRvbjowLGNhbnZhczowLGNhcHRpb246MCxjZW50ZXI6MCxjaXRlOjAsY29kZTowLGNvbDoyLGNvbGdyb3VwOjEsY29tbWFuZDoyLGRhdGE6MCxkYXRhbGlzdDowLGRkOjEsZGVsOjAsZGV0YWlsczowLGRmbjowLGRpYWxvZzoyNzIsZGlyOjAsZGl2OjAsZGw6MCxkdDoxLGVtOjAsZmllbGRzZXQ6MCxmaWdjYXB0aW9uOjAsZmlndXJlOjAsZm9udDowLGZvb3RlcjowLGZvcm06MCxmcmFtZToyNzQsZnJhbWVzZXQ6MjcyLGgxOjAsaDI6MCxoMzowLGg0OjAsaDU6MCxoNjowLGhlYWQ6MzA1LGhlYWRlcjowLGhncm91cDowLGhyOjIsaHRtbDozMDUsaTowLGlmcmFtZToxNixpbWc6MixpbnB1dDoyLGluczowLGlzaW5kZXg6Mjc0LGtiZDowLGtleWdlbjoyNzQsbGFiZWw6MCxsZWdlbmQ6MCxsaToxLGxpbms6Mjc0LG1hcDowLG1hcms6MCxtZW51OjAsbWV0YToyNzQsbWV0ZXI6MCxuYXY6MCxub2JyOjAsbm9lbWJlZDoyNzYsbm9mcmFtZXM6Mjc2LG5vc2NyaXB0OjI3NixvYmplY3Q6MjcyLG9sOjAsb3B0Z3JvdXA6MCxvcHRpb246MSxvdXRwdXQ6MCxwOjEscGFyYW06Mjc0LHByZTowLHByb2dyZXNzOjAscTowLHM6MCxzYW1wOjAsc2NyaXB0Ojg0LHNlY3Rpb246MCxzZWxlY3Q6MCxzbWFsbDowLHNvdXJjZToyLHNwYW46MCxzdHJpa2U6MCxzdHJvbmc6MCxzdHlsZToxNDgsc3ViOjAsc3VtbWFyeTowLHN1cDowLHRhYmxlOjAsdGJvZHk6MSx0ZDoxLHRleHRhcmVhOjgsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdGltZTowLHRpdGxlOjI4MCx0cjoxLHRyYWNrOjIsdHQ6MCx1OjAsdWw6MCwidmFyIjowLHZpZGVvOjAsd2JyOjJ9LGh0bWw0LkVMRU1FTlRTPWh0bWw0LkVMRU1FTlRTLGh0bWw0LkVMRU1FTlRfRE9NX0lOVEVSRkFDRVM9e2E6IkhUTUxBbmNob3JFbGVtZW50IixhYmJyOiJIVE1MRWxlbWVudCIsYWNyb255bToiSFRNTEVsZW1lbnQiLGFkZHJlc3M6IkhUTUxFbGVtZW50IixhcHBsZXQ6IkhUTUxBcHBsZXRFbGVtZW50IixhcmVhOiJIVE1MQXJlYUVsZW1lbnQiLGFydGljbGU6IkhUTUxFbGVtZW50Iixhc2lkZToiSFRNTEVsZW1lbnQiLGF1ZGlvOiJIVE1MQXVkaW9FbGVtZW50IixiOiJIVE1MRWxlbWVudCIsYmFzZToiSFRNTEJhc2VFbGVtZW50IixiYXNlZm9udDoiSFRNTEJhc2VGb250RWxlbWVudCIsYmRpOiJIVE1MRWxlbWVudCIsYmRvOiJIVE1MRWxlbWVudCIsYmlnOiJIVE1MRWxlbWVudCIsYmxvY2txdW90ZToiSFRNTFF1b3RlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixicjoiSFRNTEJSRWxlbWVudCIsYnV0dG9uOiJIVE1MQnV0dG9uRWxlbWVudCIsY2FudmFzOiJIVE1MQ2FudmFzRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNlbnRlcjoiSFRNTEVsZW1lbnQiLGNpdGU6IkhUTUxFbGVtZW50Iixjb2RlOiJIVE1MRWxlbWVudCIsY29sOiJIVE1MVGFibGVDb2xFbGVtZW50Iixjb2xncm91cDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsY29tbWFuZDoiSFRNTENvbW1hbmRFbGVtZW50IixkYXRhOiJIVE1MRWxlbWVudCIsZGF0YWxpc3Q6IkhUTUxEYXRhTGlzdEVsZW1lbnQiLGRkOiJIVE1MRWxlbWVudCIsZGVsOiJIVE1MTW9kRWxlbWVudCIsZGV0YWlsczoiSFRNTERldGFpbHNFbGVtZW50IixkZm46IkhUTUxFbGVtZW50IixkaWFsb2c6IkhUTUxEaWFsb2dFbGVtZW50IixkaXI6IkhUTUxEaXJlY3RvcnlFbGVtZW50IixkaXY6IkhUTUxEaXZFbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZHQ6IkhUTUxFbGVtZW50IixlbToiSFRNTEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50IixmaWdjYXB0aW9uOiJIVE1MRWxlbWVudCIsZmlndXJlOiJIVE1MRWxlbWVudCIsZm9udDoiSFRNTEZvbnRFbGVtZW50Iixmb290ZXI6IkhUTUxFbGVtZW50Iixmb3JtOiJIVE1MRm9ybUVsZW1lbnQiLGZyYW1lOiJIVE1MRnJhbWVFbGVtZW50IixmcmFtZXNldDoiSFRNTEZyYW1lU2V0RWxlbWVudCIsaDE6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDI6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDM6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDQ6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDU6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDY6IkhUTUxIZWFkaW5nRWxlbWVudCIsaGVhZDoiSFRNTEhlYWRFbGVtZW50IixoZWFkZXI6IkhUTUxFbGVtZW50IixoZ3JvdXA6IkhUTUxFbGVtZW50IixocjoiSFRNTEhSRWxlbWVudCIsaHRtbDoiSFRNTEh0bWxFbGVtZW50IixpOiJIVE1MRWxlbWVudCIsaWZyYW1lOiJIVE1MSUZyYW1lRWxlbWVudCIsaW1nOiJIVE1MSW1hZ2VFbGVtZW50IixpbnB1dDoiSFRNTElucHV0RWxlbWVudCIsaW5zOiJIVE1MTW9kRWxlbWVudCIsaXNpbmRleDoiSFRNTFVua25vd25FbGVtZW50IixrYmQ6IkhUTUxFbGVtZW50IixrZXlnZW46IkhUTUxLZXlnZW5FbGVtZW50IixsYWJlbDoiSFRNTExhYmVsRWxlbWVudCIsbGVnZW5kOiJIVE1MTGVnZW5kRWxlbWVudCIsbGk6IkhUTUxMSUVsZW1lbnQiLGxpbms6IkhUTUxMaW5rRWxlbWVudCIsbWFwOiJIVE1MTWFwRWxlbWVudCIsbWFyazoiSFRNTEVsZW1lbnQiLG1lbnU6IkhUTUxNZW51RWxlbWVudCIsbWV0YToiSFRNTE1ldGFFbGVtZW50IixtZXRlcjoiSFRNTE1ldGVyRWxlbWVudCIsbmF2OiJIVE1MRWxlbWVudCIsbm9icjoiSFRNTEVsZW1lbnQiLG5vZW1iZWQ6IkhUTUxFbGVtZW50Iixub2ZyYW1lczoiSFRNTEVsZW1lbnQiLG5vc2NyaXB0OiJIVE1MRWxlbWVudCIsb2JqZWN0OiJIVE1MT2JqZWN0RWxlbWVudCIsb2w6IkhUTUxPTGlzdEVsZW1lbnQiLG9wdGdyb3VwOiJIVE1MT3B0R3JvdXBFbGVtZW50IixvcHRpb246IkhUTUxPcHRpb25FbGVtZW50IixvdXRwdXQ6IkhUTUxPdXRwdXRFbGVtZW50IixwOiJIVE1MUGFyYWdyYXBoRWxlbWVudCIscGFyYW06IkhUTUxQYXJhbUVsZW1lbnQiLHByZToiSFRNTFByZUVsZW1lbnQiLHByb2dyZXNzOiJIVE1MUHJvZ3Jlc3NFbGVtZW50IixxOiJIVE1MUXVvdGVFbGVtZW50IixzOiJIVE1MRWxlbWVudCIsc2FtcDoiSFRNTEVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlY3Rpb246IkhUTUxFbGVtZW50IixzZWxlY3Q6IkhUTUxTZWxlY3RFbGVtZW50IixzbWFsbDoiSFRNTEVsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3RyaWtlOiJIVE1MRWxlbWVudCIsc3Ryb25nOiJIVE1MRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHN1YjoiSFRNTEVsZW1lbnQiLHN1bW1hcnk6IkhUTUxFbGVtZW50IixzdXA6IkhUTUxFbGVtZW50Iix0YWJsZToiSFRNTFRhYmxlRWxlbWVudCIsdGJvZHk6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0ZDoiSFRNTFRhYmxlRGF0YUNlbGxFbGVtZW50Iix0ZXh0YXJlYToiSFRNTFRleHRBcmVhRWxlbWVudCIsdGZvb3Q6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0aDoiSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnQiLHRoZWFkOiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGltZToiSFRNTFRpbWVFbGVtZW50Iix0aXRsZToiSFRNTFRpdGxlRWxlbWVudCIsdHI6IkhUTUxUYWJsZVJvd0VsZW1lbnQiLHRyYWNrOiJIVE1MVHJhY2tFbGVtZW50Iix0dDoiSFRNTEVsZW1lbnQiLHU6IkhUTUxFbGVtZW50Iix1bDoiSFRNTFVMaXN0RWxlbWVudCIsInZhciI6IkhUTUxFbGVtZW50Iix2aWRlbzoiSFRNTFZpZGVvRWxlbWVudCIsd2JyOiJIVE1MRWxlbWVudCJ9LGh0bWw0LkVMRU1FTlRfRE9NX0lOVEVSRkFDRVM9aHRtbDQuRUxFTUVOVF9ET01fSU5URVJGQUNFUyxodG1sNC51ZWZmZWN0cz17Tk9UX0xPQURFRDowLFNBTUVfRE9DVU1FTlQ6MSxORVdfRE9DVU1FTlQ6Mn0saHRtbDQudWVmZmVjdHM9aHRtbDQudWVmZmVjdHMsaHRtbDQuVVJJRUZGRUNUUz17ImE6OmhyZWYiOjIsImFyZWE6OmhyZWYiOjIsImJsb2NrcXVvdGU6OmNpdGUiOjAsImNvbW1hbmQ6Omljb24iOjEsImRlbDo6Y2l0ZSI6MCwiZm9ybTo6YWN0aW9uIjoyLCJpbWc6OnNyYyI6MSwiaW5wdXQ6OnNyYyI6MSwiaW5zOjpjaXRlIjowLCJxOjpjaXRlIjowLCJ2aWRlbzo6cG9zdGVyIjoxfSxodG1sNC5VUklFRkZFQ1RTPWh0bWw0LlVSSUVGRkVDVFMsaHRtbDQubHR5cGVzPXtVTlNBTkRCT1hFRDoyLFNBTkRCT1hFRDoxLERBVEE6MH0saHRtbDQubHR5cGVzPWh0bWw0Lmx0eXBlcyxodG1sNC5MT0FERVJUWVBFUz17ImE6OmhyZWYiOjIsImFyZWE6OmhyZWYiOjIsImJsb2NrcXVvdGU6OmNpdGUiOjIsImNvbW1hbmQ6Omljb24iOjEsImRlbDo6Y2l0ZSI6MiwiZm9ybTo6YWN0aW9uIjoyLCJpbWc6OnNyYyI6MSwiaW5wdXQ6OnNyYyI6MSwiaW5zOjpjaXRlIjoyLCJxOjpjaXRlIjoyLCJ2aWRlbzo6cG9zdGVyIjoxfSxodG1sNC5MT0FERVJUWVBFUz1odG1sNC5MT0FERVJUWVBFUywiaSIhPT0iSSIudG9Mb3dlckNhc2UoKSl0aHJvdyJJL2kgcHJvYmxlbSI7dmFyIGh0bWw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtpZihTLmhhc093blByb3BlcnR5KGUpKXJldHVybiBTW2VdO3ZhciB0PWUubWF0Y2goUCk7aWYodClyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludCh0WzFdLDEwKSk7aWYodD1lLm1hdGNoKEQpKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KHRbMV0sMTYpKTtpZihJJiZrLnRlc3QoZSkpe0kuaW5uZXJIVE1MPSImIitlKyI7Ijt2YXIgYT1JLnRleHRDb250ZW50O3JldHVybiBTW2VdPWEsYX1yZXR1cm4iJiIrZSsiOyJ9ZnVuY3Rpb24gYShlLGEpe3JldHVybiB0KGEpfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIGUucmVwbGFjZSh4LCIiKX1mdW5jdGlvbiByKGUpe3JldHVybiBlLnJlcGxhY2UoTixhKX1mdW5jdGlvbiBvKGUpe3JldHVybigiIitlKS5yZXBsYWNlKEYsIiZhbXA7IikucmVwbGFjZShCLCImbHQ7IikucmVwbGFjZShxLCImZ3Q7IikucmVwbGFjZSh6LCImIzM0OyIpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUucmVwbGFjZShVLCImYW1wOyQxIikucmVwbGFjZShCLCImbHQ7IikucmVwbGFjZShxLCImZ3Q7Iil9ZnVuY3Rpb24gbChlKXt2YXIgdD17Y2RhdGE6ZS5jZGF0YXx8ZS5jZGF0YSxjb21tZW50OmUuY29tbWVudHx8ZS5jb21tZW50LGVuZERvYzplLmVuZERvY3x8ZS5lbmREb2MsZW5kVGFnOmUuZW5kVGFnfHxlLmVuZFRhZyxwY2RhdGE6ZS5wY2RhdGF8fGUucGNkYXRhLHJjZGF0YTplLnJjZGF0YXx8ZS5yY2RhdGEsc3RhcnREb2M6ZS5zdGFydERvY3x8ZS5zdGFydERvYyxzdGFydFRhZzplLnN0YXJ0VGFnfHxlLnN0YXJ0VGFnfTtyZXR1cm4gZnVuY3Rpb24oZSxhKXtyZXR1cm4gcyhlLHQsYSl9fWZ1bmN0aW9uIHMoZSx0LGEpe3ZhciBuPXUoZSkscj17bm9Nb3JlR1Q6ITEsbm9Nb3JlRW5kQ29tbWVudHM6ITF9O20odCxuLDAscixhKX1mdW5jdGlvbiBjKGUsdCxhLG4scil7cmV0dXJuIGZ1bmN0aW9uKCl7bShlLHQsYSxuLHIpfX1mdW5jdGlvbiBtKHQsYSxuLHIsbyl7dHJ5e3Quc3RhcnREb2MmJjA9PW4mJnQuc3RhcnREb2Mobyk7Zm9yKHZhciBpLGwscyxtPW4sdT1hLmxlbmd0aDt1Pm07KXt2YXIgZj1hW20rK10sZz1hW21dO3N3aXRjaChmKXtjYXNlIiYiOk8udGVzdChnKT8odC5wY2RhdGEmJnQucGNkYXRhKCImIitnLG8sWSxjKHQsYSxtLHIsbykpLG0rKyk6dC5wY2RhdGEmJnQucGNkYXRhKCImYW1wOyIsbyxZLGModCxhLG0scixvKSk7YnJlYWs7Y2FzZSI8LyI6KGk9L14oWy1cdzpdKylbXlwnXCJdKi8uZXhlYyhnKSk/aVswXS5sZW5ndGg9PT1nLmxlbmd0aCYmIj4iPT09YVttKzFdPyhtKz0yLHM9aVsxXS50b0xvd2VyQ2FzZSgpLHQuZW5kVGFnJiZ0LmVuZFRhZyhzLG8sWSxjKHQsYSxtLHIsbykpKTptPWgoYSxtLHQsbyxZLHIpOnQucGNkYXRhJiZ0LnBjZGF0YSgiJmx0Oy8iLG8sWSxjKHQsYSxtLHIsbykpO2JyZWFrO2Nhc2UiPCI6aWYoaT0vXihbLVx3Ol0rKVxzKlwvPy8uZXhlYyhnKSlpZihpWzBdLmxlbmd0aD09PWcubGVuZ3RoJiYiPiI9PT1hW20rMV0pe20rPTIscz1pWzFdLnRvTG93ZXJDYXNlKCksdC5zdGFydFRhZyYmdC5zdGFydFRhZyhzLFtdLG8sWSxjKHQsYSxtLHIsbykpO3ZhciBFPWUuRUxFTUVOVFNbc107aWYoRSZqKXt2YXIgVD17bmFtZTpzLG5leHQ6bSxlZmxhZ3M6RX07bT1kKGEsVCx0LG8sWSxyKX19ZWxzZSBtPXAoYSxtLHQsbyxZLHIpO2Vsc2UgdC5wY2RhdGEmJnQucGNkYXRhKCImbHQ7IixvLFksYyh0LGEsbSxyLG8pKTticmVhaztjYXNlIjwhLS0iOmlmKCFyLm5vTW9yZUVuZENvbW1lbnRzKXtmb3IobD1tKzE7dT5sJiYoIj4iIT09YVtsXXx8IS8tLSQvLnRlc3QoYVtsLTFdKSk7bCsrKTtpZih1Pmwpe2lmKHQuY29tbWVudCl7dmFyIEw9YS5zbGljZShtLGwpLmpvaW4oIiIpO3QuY29tbWVudChMLnN1YnN0cigwLEwubGVuZ3RoLTIpLG8sWSxjKHQsYSxsKzEscixvKSl9bT1sKzF9ZWxzZSByLm5vTW9yZUVuZENvbW1lbnRzPSEwfXIubm9Nb3JlRW5kQ29tbWVudHMmJnQucGNkYXRhJiZ0LnBjZGF0YSgiJmx0OyEtLSIsbyxZLGModCxhLG0scixvKSk7YnJlYWs7Y2FzZSI8ISI6aWYoL15cdy8udGVzdChnKSl7aWYoIXIubm9Nb3JlR1Qpe2ZvcihsPW0rMTt1PmwmJiI+IiE9PWFbbF07bCsrKTt1Pmw/bT1sKzE6ci5ub01vcmVHVD0hMH1yLm5vTW9yZUdUJiZ0LnBjZGF0YSYmdC5wY2RhdGEoIiZsdDshIixvLFksYyh0LGEsbSxyLG8pKX1lbHNlIHQucGNkYXRhJiZ0LnBjZGF0YSgiJmx0OyEiLG8sWSxjKHQsYSxtLHIsbykpO2JyZWFrO2Nhc2UiPD8iOmlmKCFyLm5vTW9yZUdUKXtmb3IobD1tKzE7dT5sJiYiPiIhPT1hW2xdO2wrKyk7dT5sP209bCsxOnIubm9Nb3JlR1Q9ITB9ci5ub01vcmVHVCYmdC5wY2RhdGEmJnQucGNkYXRhKCImbHQ7PyIsbyxZLGModCxhLG0scixvKSk7YnJlYWs7Y2FzZSI+Ijp0LnBjZGF0YSYmdC5wY2RhdGEoIiZndDsiLG8sWSxjKHQsYSxtLHIsbykpO2JyZWFrO2Nhc2UiIjpicmVhaztkZWZhdWx0OnQucGNkYXRhJiZ0LnBjZGF0YShmLG8sWSxjKHQsYSxtLHIsbykpfX10LmVuZERvYyYmdC5lbmREb2Mobyl9Y2F0Y2goTSl7aWYoTSE9PVkpdGhyb3cgTX19ZnVuY3Rpb24gdShlKXt2YXIgdD0vKDxcL3w8XCEtLXw8WyE/XXxbJjw+XSkvZztpZihlKz0iIiwkKXJldHVybiBlLnNwbGl0KHQpO2Zvcih2YXIgYSxuPVtdLHI9MDtudWxsIT09KGE9dC5leGVjKGUpKTspbi5wdXNoKGUuc3Vic3RyaW5nKHIsYS5pbmRleCkpLG4ucHVzaChhWzBdKSxyPWEuaW5kZXgrYVswXS5sZW5ndGg7cmV0dXJuIG4ucHVzaChlLnN1YnN0cmluZyhyKSksbn1mdW5jdGlvbiBoKGUsdCxhLG4scixvKXt2YXIgaT1mKGUsdCk7cmV0dXJuIGk/KGEuZW5kVGFnJiZhLmVuZFRhZyhpLm5hbWUsbixyLGMoYSxlLHQsbyxuKSksaS5uZXh0KTplLmxlbmd0aH1mdW5jdGlvbiBwKGUsdCxhLG4scixvKXt2YXIgaT1mKGUsdCk7cmV0dXJuIGk/KGEuc3RhcnRUYWcmJmEuc3RhcnRUYWcoaS5uYW1lLGkuYXR0cnMsbixyLGMoYSxlLGkubmV4dCxvLG4pKSxpLmVmbGFncyZqP2QoZSxpLGEsbixyLG8pOmkubmV4dCk6ZS5sZW5ndGh9ZnVuY3Rpb24gZCh0LGEsbixyLG8sbCl7dmFyIHM9dC5sZW5ndGg7US5oYXNPd25Qcm9wZXJ0eShhLm5hbWUpfHwoUVthLm5hbWVdPW5ldyBSZWdFeHAoIl4iK2EubmFtZSsiKD86W1xcc1xcL118JCkiLCJpIikpO2Zvcih2YXIgbT1RW2EubmFtZV0sdT1hLm5leHQsaD1hLm5leHQrMTtzPmgmJigiPC8iIT09dFtoLTFdfHwhbS50ZXN0KHRbaF0pKTtoKyspO3M+aCYmKGgtPTEpO3ZhciBwPXQuc2xpY2UodSxoKS5qb2luKCIiKTtpZihhLmVmbGFncyZlLmVmbGFncy5DREFUQSluLmNkYXRhJiZuLmNkYXRhKHAscixvLGMobix0LGgsbCxyKSk7ZWxzZXtpZighKGEuZWZsYWdzJmUuZWZsYWdzLlJDREFUQSkpdGhyb3cgbmV3IEVycm9yKCJidWciKTtuLnJjZGF0YSYmbi5yY2RhdGEoaShwKSxyLG8sYyhuLHQsaCxsLHIpKX1yZXR1cm4gaH1mdW5jdGlvbiBmKHQsYSl7dmFyIG49L14oWy1cdzpdKykvLmV4ZWModFthXSkscj17fTtyLm5hbWU9blsxXS50b0xvd2VyQ2FzZSgpLHIuZWZsYWdzPWUuRUxFTUVOVFNbci5uYW1lXTtmb3IodmFyIG89dFthXS5zdWJzdHIoblswXS5sZW5ndGgpLGk9YSsxLGw9dC5sZW5ndGg7bD5pJiYiPiIhPT10W2ldO2krKylvKz10W2ldO2lmKCEoaT49bCkpe2Zvcih2YXIgcz1bXTsiIiE9PW87KWlmKG49Ry5leGVjKG8pKXtpZihuWzRdJiYhbls1XXx8bls2XSYmIW5bN10pe2Zvcih2YXIgYz1uWzRdfHxuWzZdLG09ITEsdT1bbyx0W2krK11dO2w+aTtpKyspe2lmKG0pe2lmKCI+Ij09PXRbaV0pYnJlYWt9ZWxzZSAwPD10W2ldLmluZGV4T2YoYykmJihtPSEwKTt1LnB1c2godFtpXSl9aWYoaT49bClicmVhaztvPXUuam9pbigiIik7Y29udGludWV9dmFyIGg9blsxXS50b0xvd2VyQ2FzZSgpLHA9blsyXT9nKG5bM10pOiIiO3MucHVzaChoLHApLG89by5zdWJzdHIoblswXS5sZW5ndGgpfWVsc2Ugbz1vLnJlcGxhY2UoL15bXHNcU11bXmEtelxzXSovLCIiKTtyZXR1cm4gci5hdHRycz1zLHIubmV4dD1pKzEscn19ZnVuY3Rpb24gZyhlKXt2YXIgdD1lLmNoYXJDb2RlQXQoMCk7cmV0dXJuKDM0PT09dHx8Mzk9PT10KSYmKGU9ZS5zdWJzdHIoMSxlLmxlbmd0aC0yKSkscihuKGUpKX1mdW5jdGlvbiBFKHQpe3ZhciBhLG4scj1mdW5jdGlvbihlLHQpe258fHQucHVzaChlKX07cmV0dXJuIGwoe3N0YXJ0RG9jOmZ1bmN0aW9uKGUpe2E9W10sbj0hMX0sc3RhcnRUYWc6ZnVuY3Rpb24ocixpLGwpe2lmKCFuJiZlLkVMRU1FTlRTLmhhc093blByb3BlcnR5KHIpKXt2YXIgcz1lLkVMRU1FTlRTW3JdO2lmKCEocyZlLmVmbGFncy5GT0xEQUJMRSkpe3ZhciBjPXQocixpKTtpZighYylyZXR1cm4gdm9pZChuPSEocyZlLmVmbGFncy5FTVBUWSkpO2lmKCJvYmplY3QiIT10eXBlb2YgYyl0aHJvdyBuZXcgRXJyb3IoInRhZ1BvbGljeSBkaWQgbm90IHJldHVybiBvYmplY3QgKG9sZCBBUEk/KSIpO2lmKCEoImF0dHJpYnMiaW4gYykpdGhyb3cgbmV3IEVycm9yKCJ0YWdQb2xpY3kgZ2F2ZSBubyBhdHRyaWJzIik7aT1jLmF0dHJpYnM7dmFyIG0sdTtpZigidGFnTmFtZSJpbiBjPyh1PWMudGFnTmFtZSxtPWUuRUxFTUVOVFNbdV0pOih1PXIsbT1zKSxzJmUuZWZsYWdzLk9QVElPTkFMX0VORFRBRyl7dmFyIGg9YVthLmxlbmd0aC0xXTshaHx8aC5vcmlnIT09cnx8aC5yZXA9PT11JiZyPT09dXx8bC5wdXNoKCI8LyIsaC5yZXAsIj4iKX1zJmUuZWZsYWdzLkVNUFRZfHxhLnB1c2goe29yaWc6cixyZXA6dX0pLGwucHVzaCgiPCIsdSk7Zm9yKHZhciBwPTAsZD1pLmxlbmd0aDtkPnA7cCs9Mil7dmFyIGY9aVtwXSxnPWlbcCsxXTtudWxsIT09ZyYmdm9pZCAwIT09ZyYmbC5wdXNoKCIgIixmLCc9IicsbyhnKSwnIicpfWwucHVzaCgiPiIpLHMmZS5lZmxhZ3MuRU1QVFkmJiEobSZlLmVmbGFncy5FTVBUWSkmJmwucHVzaCgiPC8iLHUsIj4iKX19fSxlbmRUYWc6ZnVuY3Rpb24odCxyKXtpZihuKXJldHVybiB2b2lkKG49ITEpO2lmKGUuRUxFTUVOVFMuaGFzT3duUHJvcGVydHkodCkpe3ZhciBvPWUuRUxFTUVOVFNbdF07aWYoIShvJihlLmVmbGFncy5FTVBUWXxlLmVmbGFncy5GT0xEQUJMRSkpKXt2YXIgaTtpZihvJmUuZWZsYWdzLk9QVElPTkFMX0VORFRBRylmb3IoaT1hLmxlbmd0aDstLWk+PTA7KXt2YXIgbD1hW2ldLm9yaWc7aWYobD09PXQpYnJlYWs7aWYoIShlLkVMRU1FTlRTW2xdJmUuZWZsYWdzLk9QVElPTkFMX0VORFRBRykpcmV0dXJufWVsc2UgZm9yKGk9YS5sZW5ndGg7LS1pPj0wJiZhW2ldLm9yaWchPT10Oyk7aWYoMD5pKXJldHVybjtmb3IodmFyIHM9YS5sZW5ndGg7LS1zPmk7KXt2YXIgYz1hW3NdLnJlcDtlLkVMRU1FTlRTW2NdJmUuZWZsYWdzLk9QVElPTkFMX0VORFRBR3x8ci5wdXNoKCI8LyIsYywiPiIpfWk8YS5sZW5ndGgmJih0PWFbaV0ucmVwKSxhLmxlbmd0aD1pLHIucHVzaCgiPC8iLHQsIj4iKX19fSxwY2RhdGE6cixyY2RhdGE6cixjZGF0YTpyLGVuZERvYzpmdW5jdGlvbihlKXtmb3IoO2EubGVuZ3RoO2EubGVuZ3RoLS0pZS5wdXNoKCI8LyIsYVthLmxlbmd0aC0xXS5yZXAsIj4iKX19KX1mdW5jdGlvbiBUKGUsdCxhLG4scil7aWYoIXIpcmV0dXJuIG51bGw7dHJ5e3ZhciBvPVVSSS5wYXJzZSgiIitlKTtpZihvJiYoIW8uaGFzU2NoZW1lKCl8fFYudGVzdChvLmdldFNjaGVtZSgpKSkpe3ZhciBpPXIobyx0LGEsbik7cmV0dXJuIGk/aS50b1N0cmluZygpOm51bGx9fWNhdGNoKGwpe3JldHVybiBudWxsfXJldHVybiBudWxsfWZ1bmN0aW9uIEwoZSx0LGEsbixyKXtpZihhfHxlKHQrIiByZW1vdmVkIix7Y2hhbmdlOiJyZW1vdmVkIix0YWdOYW1lOnR9KSxuIT09cil7dmFyIG89ImNoYW5nZWQiO24mJiFyP289InJlbW92ZWQiOiFuJiZyJiYobz0iYWRkZWQiKSxlKHQrIi4iK2ErIiAiK28se2NoYW5nZTpvLHRhZ05hbWU6dCxhdHRyaWJOYW1lOmEsb2xkVmFsdWU6bixuZXdWYWx1ZTpyfSl9fWZ1bmN0aW9uIE0oZSx0LGEpe3ZhciBuO3JldHVybiBuPXQrIjo6IithLGUuaGFzT3duUHJvcGVydHkobik/ZVtuXToobj0iKjo6IithLGUuaGFzT3duUHJvcGVydHkobik/ZVtuXTp2b2lkIDApfWZ1bmN0aW9uIGIodCxhKXtyZXR1cm4gTShlLkxPQURFUlRZUEVTLHQsYSl9ZnVuY3Rpb24geSh0LGEpe3JldHVybiBNKGUuVVJJRUZGRUNUUyx0LGEpfWZ1bmN0aW9uIHYodCxhLG4scixvKXtmb3IodmFyIGk9MDtpPGEubGVuZ3RoO2krPTIpe3ZhciBsLHM9YVtpXSxjPWFbaSsxXSxtPWMsdT1udWxsO2lmKGw9dCsiOjoiK3MsKGUuQVRUUklCUy5oYXNPd25Qcm9wZXJ0eShsKXx8KGw9Iio6OiIrcyxlLkFUVFJJQlMuaGFzT3duUHJvcGVydHkobCkpKSYmKHU9ZS5BVFRSSUJTW2xdKSxudWxsIT09dSlzd2l0Y2godSl7Y2FzZSBlLmF0eXBlLk5PTkU6YnJlYWs7Y2FzZSBlLmF0eXBlLlNDUklQVDpjPW51bGwsbyYmTChvLHQscyxtLGMpO2JyZWFrO2Nhc2UgZS5hdHlwZS5TVFlMRTppZigidW5kZWZpbmVkIj09dHlwZW9mIEEpe2M9bnVsbCxvJiZMKG8sdCxzLG0sYyk7YnJlYWt9dmFyIGg9W107QShjLHtkZWNsYXJhdGlvbjpmdW5jdGlvbih0LGEpe3ZhciByPXQudG9Mb3dlckNhc2UoKSxvPUNbcl07byYmKFIocixvLGEsbj9mdW5jdGlvbih0KXtyZXR1cm4gVCh0LGUudWVmZmVjdHMuU0FNRV9ET0NVTUVOVCxlLmx0eXBlcy5TQU5EQk9YRUQse1RZUEU6IkNTUyIsQ1NTX1BST1A6cn0sbil9Om51bGwpLGgucHVzaCh0KyI6ICIrYS5qb2luKCIgIikpKX19KSxjPWgubGVuZ3RoPjA/aC5qb2luKCIgOyAiKTpudWxsLG8mJkwobyx0LHMsbSxjKTticmVhaztjYXNlIGUuYXR5cGUuSUQ6Y2FzZSBlLmF0eXBlLklEUkVGOmNhc2UgZS5hdHlwZS5JRFJFRlM6Y2FzZSBlLmF0eXBlLkdMT0JBTF9OQU1FOmNhc2UgZS5hdHlwZS5MT0NBTF9OQU1FOmNhc2UgZS5hdHlwZS5DTEFTU0VTOmM9cj9yKGMpOmMsbyYmTChvLHQscyxtLGMpO2JyZWFrO2Nhc2UgZS5hdHlwZS5VUkk6Yz1UKGMseSh0LHMpLGIodCxzKSx7VFlQRToiTUFSS1VQIixYTUxfQVRUUjpzLFhNTF9UQUc6dH0sbiksbyYmTChvLHQscyxtLGMpO2JyZWFrO2Nhc2UgZS5hdHlwZS5VUklfRlJBR01FTlQ6YyYmIiMiPT09Yy5jaGFyQXQoMCk/KGM9Yy5zdWJzdHJpbmcoMSksYz1yP3IoYyk6YyxudWxsIT09YyYmdm9pZCAwIT09YyYmKGM9IiMiK2MpKTpjPW51bGwsbyYmTChvLHQscyxtLGMpO2JyZWFrO2RlZmF1bHQ6Yz1udWxsLG8mJkwobyx0LHMsbSxjKX1lbHNlIGM9bnVsbCxvJiZMKG8sdCxzLG0sYyk7YVtpKzFdPWN9cmV0dXJuIGF9ZnVuY3Rpb24gSCh0LGEsbil7cmV0dXJuIGZ1bmN0aW9uKHIsbyl7cmV0dXJuIGUuRUxFTUVOVFNbcl0mZS5lZmxhZ3MuVU5TQUZFP3ZvaWQobiYmTChuLHIsdm9pZCAwLHZvaWQgMCx2b2lkIDApKTp7YXR0cmliczp2KHIsbyx0LGEsbil9fX1mdW5jdGlvbiBfKGUsdCl7dmFyIGE9W107cmV0dXJuIEUodCkoZSxhKSxhLmpvaW4oIiIpfWZ1bmN0aW9uIHcoZSx0LGEsbil7dmFyIHI9SCh0LGEsbik7cmV0dXJuIF8oZSxyKX12YXIgQSxSLEM7InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJihBPXdpbmRvdy5wYXJzZUNzc0RlY2xhcmF0aW9ucyxSPXdpbmRvdy5zYW5pdGl6ZUNzc1Byb3BlcnR5LEM9d2luZG93LmNzc1NjaGVtYSk7dmFyIFM9e2x0OiI8IixMVDoiPCIsZ3Q6Ij4iLEdUOiI+IixhbXA6IiYiLEFNUDoiJiIscXVvdDonIicsYXBvczoiJyIsbmJzcDoiwqAifSxQPS9eIyhcZCspJC8sRD0vXiN4KFswLTlBLUZhLWZdKykkLyxrPS9eW0EtWmEtel1bQS16YS16MC05XSskLyxJPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuZG9jdW1lbnQ/d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik6bnVsbCx4PS9cMC9nLE49LyYoI1swLTldK3wjW3hYXVswLTlBLUZhLWZdK3xcdyspOy9nLE89L14oI1swLTldK3wjW3hYXVswLTlBLUZhLWZdK3xcdyspOy8sRj0vJi9nLFU9LyYoW15hLXojXXwjKD86W14wLTl4XXx4KD86W14wLTlhLWZdfCQpfCQpfCQpL2dpLEI9L1s8XS9nLHE9Lz4vZyx6PS9cIi9nLEc9bmV3IFJlZ0V4cCgiXlxccyooWy0uOlxcd10rKSg/OlxccyooPSlcXHMqKChcIilbXlwiXSooXCJ8JCl8KCcpW14nXSooJ3wkKXwoPz1bYS16XVstXFx3XSpcXHMqPSl8W15cIidcXHNdKikpPyIsImkiKSwkPTM9PT0iYSxiIi5zcGxpdCgvKCwpLykubGVuZ3RoLGo9ZS5lZmxhZ3MuQ0RBVEF8ZS5lZmxhZ3MuUkNEQVRBLFk9e30sUT17fSxWPS9eKD86aHR0cHM/fG1haWx0b3xkYXRhKSQvaSxYPXt9O3JldHVybiBYLmVzY2FwZUF0dHJpYj1YLmVzY2FwZUF0dHJpYj1vLFgubWFrZUh0bWxTYW5pdGl6ZXI9WC5tYWtlSHRtbFNhbml0aXplcj1FLFgubWFrZVNheFBhcnNlcj1YLm1ha2VTYXhQYXJzZXI9bCxYLm1ha2VUYWdQb2xpY3k9WC5tYWtlVGFnUG9saWN5PUgsWC5ub3JtYWxpemVSQ0RhdGE9WC5ub3JtYWxpemVSQ0RhdGE9aSxYLnNhbml0aXplPVguc2FuaXRpemU9dyxYLnNhbml0aXplQXR0cmlicz1YLnNhbml0aXplQXR0cmlicz12LFguc2FuaXRpemVXaXRoUG9saWN5PVguc2FuaXRpemVXaXRoUG9saWN5PV8sWC51bmVzY2FwZUVudGl0aWVzPVgudW5lc2NhcGVFbnRpdGllcz1yLFh9KGh0bWw0KSxodG1sX3Nhbml0aXplPWh0bWwuc2FuaXRpemU7aHRtbDQuQVRUUklCU1siKjo6c3R5bGUiXT0wLGh0bWw0LkVMRU1FTlRTLnN0eWxlPTAsaHRtbDQuQVRUUklCU1siYTo6dGFyZ2V0Il09MCxodG1sNC5FTEVNRU5UUy52aWRlbz0wLGh0bWw0LkFUVFJJQlNbInZpZGVvOjpzcmMiXT0wLGh0bWw0LkFUVFJJQlNbInZpZGVvOjpwb3N0ZXIiXT0wLGh0bWw0LkFUVFJJQlNbInZpZGVvOjpjb250cm9scyJdPTAsaHRtbDQuRUxFTUVOVFMuYXVkaW89MCxodG1sNC5BVFRSSUJTWyJhdWRpbzo6c3JjIl09MCxodG1sNC5BVFRSSUJTWyJ2aWRlbzo6YXV0b3BsYXkiXT0wLGh0bWw0LkFUVFJJQlNbInZpZGVvOjpjb250cm9scyJdPTAsInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz1odG1sX3Nhbml0aXplKTsKfSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cm1vZHVsZS5leHBvcnRzPXsiYXV0aG9yIjoiTWFwYm94IiwibmFtZSI6Im1hcGJveC5qcyIsImRlc2NyaXB0aW9uIjoibWFwYm94IGphdmFzY3JpcHQgYXBpIiwidmVyc2lvbiI6IjIuMi40IiwiaG9tZXBhZ2UiOiJodHRwOi8vbWFwYm94LmNvbS8iLCJyZXBvc2l0b3J5Ijp7InR5cGUiOiJnaXQiLCJ1cmwiOiJnaXQ6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3guanMuZ2l0In0sIm1haW4iOiJzcmMvaW5kZXguanMiLCJkZXBlbmRlbmNpZXMiOnsiY29yc2xpdGUiOiIwLjAuNiIsImlzYXJyYXkiOiIwLjAuMSIsImxlYWZsZXQiOiIwLjcuNyIsIm11c3RhY2hlIjoiMC43LjMiLCJzYW5pdGl6ZS1jYWphIjoiMC4xLjMifSwic2NyaXB0cyI6eyJ0ZXN0IjoiZXNsaW50IC0tbm8tZXNsaW50cmMgLWMgLmVzbGludHJjIHNyYyAmJiBtb2NoYS1waGFudG9tanMgdGVzdC9pbmRleC5odG1sIn0sImxpY2Vuc2UiOiJCU0QtMy1DbGF1c2UiLCJkZXZEZXBlbmRlbmNpZXMiOnsiYnJvd3NlcmlmeSI6Il42LjMuMiIsImNsZWFuLWNzcyI6In4yLjAuNyIsImVzbGludCI6Il4wLjIzLjAiLCJleHBlY3QuanMiOiIwLjMuMSIsImhhcHBlbiI6IjAuMS4zIiwibGVhZmxldC1mdWxsc2NyZWVuIjoiMC4wLjQiLCJsZWFmbGV0LWhhc2giOiIwLjIuMSIsIm1hcmtlZCI6In4wLjMuMCIsIm1pbmlmeWlmeSI6Il42LjEuMCIsIm1pbmltaXN0IjoiMC4wLjUiLCJtb2NoYSI6IjEuMTcuMSIsIm1vY2hhLXBoYW50b21qcyI6IjMuMS42Iiwic2lub24iOiIxLjEwLjIifSwib3B0aW9uYWxEZXBlbmRlbmNpZXMiOnt9LCJlbmdpbmVzIjp7Im5vZGUiOiIqIn19Cn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7bW9kdWxlLmV4cG9ydHM9e0hUVFBfVVJMOiJodHRwOi8vYS50aWxlcy5tYXBib3guY29tL3Y0IixIVFRQU19VUkw6Imh0dHBzOi8vYS50aWxlcy5tYXBib3guY29tL3Y0IixGT1JDRV9IVFRQUzohMSxSRVFVSVJFX0FDQ0VTU19UT0tFTjohMH07Cn0se31dLDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7dmFyIHV0aWw9cmVxdWlyZSgiLi91dGlsIiksZm9ybWF0X3VybD1yZXF1aXJlKCIuL2Zvcm1hdF91cmwiKSxyZXF1ZXN0PXJlcXVpcmUoIi4vcmVxdWVzdCIpLG1hcmtlcj1yZXF1aXJlKCIuL21hcmtlciIpLHNpbXBsZXN0eWxlPXJlcXVpcmUoIi4vc2ltcGxlc3R5bGUiKSxGZWF0dXJlTGF5ZXI9TC5GZWF0dXJlR3JvdXAuZXh0ZW5kKHtvcHRpb25zOntmaWx0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sc2FuaXRpemVyOnJlcXVpcmUoInNhbml0aXplLWNhamEiKSxzdHlsZTpzaW1wbGVzdHlsZS5zdHlsZSxwb3B1cE9wdGlvbnM6e2Nsb3NlQnV0dG9uOiExfX0saW5pdGlhbGl6ZTpmdW5jdGlvbihlLHQpe0wuc2V0T3B0aW9ucyh0aGlzLHQpLHRoaXMuX2xheWVycz17fSwic3RyaW5nIj09dHlwZW9mIGU/dXRpbC5pZFVybChlLHRoaXMpOmUmJiJvYmplY3QiPT10eXBlb2YgZSYmdGhpcy5zZXRHZW9KU09OKGUpfSxzZXRHZW9KU09OOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9nZW9qc29uPWUsdGhpcy5jbGVhckxheWVycygpLHRoaXMuX2luaXRpYWxpemUoZSksdGhpc30sZ2V0R2VvSlNPTjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW9qc29ufSxsb2FkVVJMOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9yZXF1ZXN0JiYiYWJvcnQiaW4gdGhpcy5fcmVxdWVzdCYmdGhpcy5fcmVxdWVzdC5hYm9ydCgpLHRoaXMuX3JlcXVlc3Q9cmVxdWVzdChlLEwuYmluZChmdW5jdGlvbih0LGkpe3RoaXMuX3JlcXVlc3Q9bnVsbCx0JiYiYWJvcnQiIT09dC50eXBlPyh1dGlsLmxvZygiY291bGQgbm90IGxvYWQgZmVhdHVyZXMgYXQgIitlKSx0aGlzLmZpcmUoImVycm9yIix7ZXJyb3I6dH0pKTppJiYodGhpcy5zZXRHZW9KU09OKGkpLHRoaXMuZmlyZSgicmVhZHkiKSl9LHRoaXMpKSx0aGlzfSxsb2FkSUQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG9hZFVSTChmb3JtYXRfdXJsKCIvdjQvIitlKyIvZmVhdHVyZXMuanNvbiIsdGhpcy5vcHRpb25zLmFjY2Vzc1Rva2VuKSl9LHNldEZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vcHRpb25zLmZpbHRlcj1lLHRoaXMuX2dlb2pzb24mJih0aGlzLmNsZWFyTGF5ZXJzKCksdGhpcy5faW5pdGlhbGl6ZSh0aGlzLl9nZW9qc29uKSksdGhpc30sZ2V0RmlsdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5maWx0ZXJ9LF9pbml0aWFsaXplOmZ1bmN0aW9uKGUpe3ZhciB0LGkscj1MLlV0aWwuaXNBcnJheShlKT9lOmUuZmVhdHVyZXM7aWYocilmb3IodD0wLGk9ci5sZW5ndGg7aT50O3QrKykoclt0XS5nZW9tZXRyaWVzfHxyW3RdLmdlb21ldHJ5fHxyW3RdLmZlYXR1cmVzKSYmdGhpcy5faW5pdGlhbGl6ZShyW3RdKTtlbHNlIGlmKHRoaXMub3B0aW9ucy5maWx0ZXIoZSkpe3ZhciBzPXthY2Nlc3NUb2tlbjp0aGlzLm9wdGlvbnMuYWNjZXNzVG9rZW59LG89dGhpcy5vcHRpb25zLnBvaW50VG9MYXllcnx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbWFya2VyLnN0eWxlKGUsdCxzKX0sbj1MLkdlb0pTT04uZ2VvbWV0cnlUb0xheWVyKGUsbyksdT1tYXJrZXIuY3JlYXRlUG9wdXAoZSx0aGlzLm9wdGlvbnMuc2FuaXRpemVyKSxhPXRoaXMub3B0aW9ucy5zdHlsZSxsPWE9PT1zaW1wbGVzdHlsZS5zdHlsZTshKGEmJiJzZXRTdHlsZSJpbiBuKXx8bCYmKG4gaW5zdGFuY2VvZiBMLkNpcmNsZXx8biBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyKXx8KCJmdW5jdGlvbiI9PXR5cGVvZiBhJiYoYT1hKGUpKSxuLnNldFN0eWxlKGEpKSxuLmZlYXR1cmU9ZSx1JiZuLmJpbmRQb3B1cCh1LHRoaXMub3B0aW9ucy5wb3B1cE9wdGlvbnMpLHRoaXMuYWRkTGF5ZXIobil9fX0pO21vZHVsZS5leHBvcnRzLkZlYXR1cmVMYXllcj1GZWF0dXJlTGF5ZXIsbW9kdWxlLmV4cG9ydHMuZmVhdHVyZUxheWVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBGZWF0dXJlTGF5ZXIoZSx0KX07Cn0seyIuL2Zvcm1hdF91cmwiOjExLCIuL21hcmtlciI6MjUsIi4vcmVxdWVzdCI6MjYsIi4vc2ltcGxlc3R5bGUiOjI4LCIuL3V0aWwiOjMwLCJzYW5pdGl6ZS1jYWphIjo1fV0sMTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7dmFyIEZlZWRiYWNrPUwuQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpMLk1peGluLkV2ZW50cyxkYXRhOnt9LHJlY29yZDpmdW5jdGlvbihlKXtMLmV4dGVuZCh0aGlzLmRhdGEsZSksdGhpcy5maXJlKCJjaGFuZ2UiKX19KTttb2R1bGUuZXhwb3J0cz1uZXcgRmVlZGJhY2s7Cn0se31dLDExOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO3ZhciBjb25maWc9cmVxdWlyZSgiLi9jb25maWciKSx2ZXJzaW9uPXJlcXVpcmUoIi4uL3BhY2thZ2UuanNvbiIpLnZlcnNpb247bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZSxvKXtpZihvPW98fEwubWFwYm94LmFjY2Vzc1Rva2VuLCFvJiZjb25maWcuUkVRVUlSRV9BQ0NFU1NfVE9LRU4pdGhyb3cgbmV3IEVycm9yKCJBbiBBUEkgYWNjZXNzIHRva2VuIGlzIHJlcXVpcmVkIHRvIHVzZSBNYXBib3guanMuIFNlZSBodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC5qcy9hcGkvdiIrdmVyc2lvbisiL2FwaS1hY2Nlc3MtdG9rZW5zLyIpO3ZhciBzPSJodHRwczoiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x8fGNvbmZpZy5GT1JDRV9IVFRQUz9jb25maWcuSFRUUFNfVVJMOmNvbmZpZy5IVFRQX1VSTDtpZihzPXMucmVwbGFjZSgvXC92NCQvLCIiKSxzKz1lLHMrPS0xIT09cy5pbmRleE9mKCI/Iik/IiZhY2Nlc3NfdG9rZW49IjoiP2FjY2Vzc190b2tlbj0iLGNvbmZpZy5SRVFVSVJFX0FDQ0VTU19UT0tFTil7aWYoInMiPT09b1swXSl0aHJvdyBuZXcgRXJyb3IoIlVzZSBhIHB1YmxpYyBhY2Nlc3MgdG9rZW4gKHBrLiopIHdpdGggTWFwYm94LmpzLCBub3QgYSBzZWNyZXQgYWNjZXNzIHRva2VuIChzay4qKS4gU2VlIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LmpzL2FwaS92Iit2ZXJzaW9uKyIvYXBpLWFjY2Vzcy10b2tlbnMvIik7cys9b31yZXR1cm4gc30sbW9kdWxlLmV4cG9ydHMudGlsZUpTT049ZnVuY3Rpb24oZSxvKXtpZigtMSE9PWUuaW5kZXhPZigiLyIpKXJldHVybiBlO3ZhciBzPW1vZHVsZS5leHBvcnRzKCIvdjQvIitlKyIuanNvbiIsbyk7cmV0dXJuIDA9PT1zLmluZGV4T2YoImh0dHBzIikmJihzKz0iJnNlY3VyZSIpLHN9Owp9LHsiLi4vcGFja2FnZS5qc29uIjo3LCIuL2NvbmZpZyI6OH1dLDEyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO3ZhciBpc0FycmF5PXJlcXVpcmUoImlzYXJyYXkiKSx1dGlsPXJlcXVpcmUoIi4vdXRpbCIpLGZvcm1hdF91cmw9cmVxdWlyZSgiLi9mb3JtYXRfdXJsIiksZmVlZGJhY2s9cmVxdWlyZSgiLi9mZWVkYmFjayIpLHJlcXVlc3Q9cmVxdWlyZSgiLi9yZXF1ZXN0Iik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUscil7dmFyIHQ9TWF0aC5wb3coMTAscik7cmV0dXJuIGUubGF0PU1hdGgucm91bmQoZS5sYXQqdCkvdCxlLmxuZz1NYXRoLnJvdW5kKGUubG5nKnQpL3QsZX1yfHwocj17fSk7dmFyIG49e307cmV0dXJuIHV0aWwuc3RyaWN0KGUsInN0cmluZyIpLC0xPT09ZS5pbmRleE9mKCIvIikmJihlPWZvcm1hdF91cmwoIi9nZW9jb2RpbmcvdjUvIitlKyIve3F1ZXJ5fS5qc29uIixyLmFjY2Vzc1Rva2VuLDUpKSxuLmdldFVSTD1mdW5jdGlvbigpe3JldHVybiBlfSxuLnF1ZXJ5VVJMPWZ1bmN0aW9uKGUpe3ZhciByPSEoaXNBcnJheShlKXx8InN0cmluZyI9PXR5cGVvZiBlKSx1PXI/ZS5xdWVyeTplO2lmKGlzQXJyYXkodSkpe2Zvcih2YXIgbz1bXSxpPTA7aTx1Lmxlbmd0aDtpKyspb1tpXT1lbmNvZGVVUklDb21wb25lbnQodVtpXSk7dT1vLmpvaW4oIjsiKX1lbHNlIHU9ZW5jb2RlVVJJQ29tcG9uZW50KHUpO2ZlZWRiYWNrLnJlY29yZCh7Z2VvY29kaW5nOnV9KTt2YXIgYT1MLlV0aWwudGVtcGxhdGUobi5nZXRVUkwoKSx7cXVlcnk6dX0pO2lmKHImJmUudHlwZXMmJihhKz1pc0FycmF5KGUudHlwZXMpPyImdHlwZXM9IitlLnR5cGVzLmpvaW4oKToiJnR5cGVzPSIrZS50eXBlcyksciYmZS5wcm94aW1pdHkpe3ZhciBsPXQoTC5sYXRMbmcoZS5wcm94aW1pdHkpLDMpO2ErPSImcHJveGltaXR5PSIrbC5sbmcrIiwiK2wubGF0fXJldHVybiBhfSxuLnF1ZXJ5PWZ1bmN0aW9uKGUscil7cmV0dXJuIHV0aWwuc3RyaWN0KHIsImZ1bmN0aW9uIikscmVxdWVzdChuLnF1ZXJ5VVJMKGUpLGZ1bmN0aW9uKGUsdCl7aWYodCYmKHQubGVuZ3RofHx0LmZlYXR1cmVzKSl7dmFyIG49e3Jlc3VsdHM6dH07dC5mZWF0dXJlcyYmdC5mZWF0dXJlcy5sZW5ndGgmJihuLmxhdGxuZz1bdC5mZWF0dXJlc1swXS5jZW50ZXJbMV0sdC5mZWF0dXJlc1swXS5jZW50ZXJbMF1dLHQuZmVhdHVyZXNbMF0uYmJveCYmKG4uYm91bmRzPXQuZmVhdHVyZXNbMF0uYmJveCxuLmxib3VuZHM9dXRpbC5sYm91bmRzKG4uYm91bmRzKSkpLHIobnVsbCxuKX1lbHNlIHIoZXx8ITApfSksbn0sbi5yZXZlcnNlUXVlcnk9ZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB1KGUpe3ZhciByO3JldHVybiByPXZvaWQgMCE9PWUubGF0JiZ2b2lkIDAhPT1lLmxuZz9MLmxhdExuZyhlLmxhdCxlLmxuZyk6dm9pZCAwIT09ZS5sYXQmJnZvaWQgMCE9PWUubG9uP0wubGF0TG5nKGUubGF0LGUubG9uKTpMLmxhdExuZyhlWzFdLGVbMF0pLHI9dChyLDUpLHIubG5nKyIsIityLmxhdH12YXIgbz0iIjtpZihlLmxlbmd0aCYmZVswXS5sZW5ndGgpe2Zvcih2YXIgaT0wLGE9W107aTxlLmxlbmd0aDtpKyspYS5wdXNoKHUoZVtpXSkpO289YS5qb2luKCI7Iil9ZWxzZSBvPXUoZSk7cmV0dXJuIHJlcXVlc3Qobi5xdWVyeVVSTChvKSxmdW5jdGlvbihlLHQpe3IoZSx0KX0pLG59LG59Owp9LHsiLi9mZWVkYmFjayI6MTAsIi4vZm9ybWF0X3VybCI6MTEsIi4vcmVxdWVzdCI6MjYsIi4vdXRpbCI6MzAsImlzYXJyYXkiOjJ9XSwxMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0Ijt2YXIgZ2VvY29kZXI9cmVxdWlyZSgiLi9nZW9jb2RlciIpLHV0aWw9cmVxdWlyZSgiLi91dGlsIiksR2VvY29kZXJDb250cm9sPUwuQ29udHJvbC5leHRlbmQoe2luY2x1ZGVzOkwuTWl4aW4uRXZlbnRzLG9wdGlvbnM6e3Byb3hpbWl0eTohMCxwb3NpdGlvbjoidG9wbGVmdCIscG9pbnRab29tOjE2LGtlZXBPcGVuOiExLGF1dG9jb21wbGV0ZTohMX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe0wuVXRpbC5zZXRPcHRpb25zKHRoaXMsZSksdGhpcy5zZXRVUkwodCksdGhpcy5fdXBkYXRlU3VibWl0PUwuYmluZCh0aGlzLl91cGRhdGVTdWJtaXQsdGhpcyksdGhpcy5fdXBkYXRlQXV0b2NvbXBsZXRlPUwuYmluZCh0aGlzLl91cGRhdGVBdXRvY29tcGxldGUsdGhpcyksdGhpcy5fY2hvb3NlUmVzdWx0PUwuYmluZCh0aGlzLl9jaG9vc2VSZXN1bHQsdGhpcyl9LHNldFVSTDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZW9jb2Rlcj1nZW9jb2Rlcih0LHthY2Nlc3NUb2tlbjp0aGlzLm9wdGlvbnMuYWNjZXNzVG9rZW59KSx0aGlzfSxnZXRVUkw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZW9jb2Rlci5nZXRVUkwoKX0sc2V0SUQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0VVJMKHQpfSxzZXRUaWxlSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRVUkwodC5nZW9jb2Rlcil9LF90b2dnbGU6ZnVuY3Rpb24odCl7dCYmTC5Eb21FdmVudC5zdG9wKHQpLEwuRG9tVXRpbC5oYXNDbGFzcyh0aGlzLl9jb250YWluZXIsImFjdGl2ZSIpPyhMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyLCJhY3RpdmUiKSx0aGlzLl9yZXN1bHRzLmlubmVySFRNTD0iIix0aGlzLl9pbnB1dC5ibHVyKCkpOihMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCJhY3RpdmUiKSx0aGlzLl9pbnB1dC5mb2N1cygpLHRoaXMuX2lucHV0LnNlbGVjdCgpKX0sX2Nsb3NlSWZPcGVuOmZ1bmN0aW9uKCl7TC5Eb21VdGlsLmhhc0NsYXNzKHRoaXMuX2NvbnRhaW5lciwiYWN0aXZlIikmJiF0aGlzLm9wdGlvbnMua2VlcE9wZW4mJihMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyLCJhY3RpdmUiKSx0aGlzLl9yZXN1bHRzLmlubmVySFRNTD0iIix0aGlzLl9pbnB1dC5ibHVyKCkpfSxvbkFkZDpmdW5jdGlvbih0KXt2YXIgZT1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJsZWFmbGV0LWNvbnRyb2wtbWFwYm94LWdlb2NvZGVyIGxlYWZsZXQtYmFyIGxlYWZsZXQtY29udHJvbCIpLGk9TC5Eb21VdGlsLmNyZWF0ZSgiYSIsImxlYWZsZXQtY29udHJvbC1tYXBib3gtZ2VvY29kZXItdG9nZ2xlIG1hcGJveC1pY29uIG1hcGJveC1pY29uLWdlb2NvZGVyIixlKSxvPUwuRG9tVXRpbC5jcmVhdGUoImRpdiIsImxlYWZsZXQtY29udHJvbC1tYXBib3gtZ2VvY29kZXItcmVzdWx0cyIsZSkscz1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJsZWFmbGV0LWNvbnRyb2wtbWFwYm94LWdlb2NvZGVyLXdyYXAiLGUpLG49TC5Eb21VdGlsLmNyZWF0ZSgiZm9ybSIsImxlYWZsZXQtY29udHJvbC1tYXBib3gtZ2VvY29kZXItZm9ybSIscykscj1MLkRvbVV0aWwuY3JlYXRlKCJpbnB1dCIsIiIsbik7cmV0dXJuIGkuaHJlZj0iIyIsaS5pbm5lckhUTUw9IiZuYnNwOyIsci50eXBlPSJ0ZXh0IixyLnNldEF0dHJpYnV0ZSgicGxhY2Vob2xkZXIiLCJTZWFyY2giKSxMLkRvbUV2ZW50LmFkZExpc3RlbmVyKG4sInN1Ym1pdCIsdGhpcy5fZ2VvY29kZSx0aGlzKSxMLkRvbUV2ZW50LmFkZExpc3RlbmVyKHIsImtleXVwIix0aGlzLl9hdXRvY29tcGxldGUsdGhpcyksTC5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihlKSx0aGlzLl9tYXA9dCx0aGlzLl9yZXN1bHRzPW8sdGhpcy5faW5wdXQ9cix0aGlzLl9mb3JtPW4sdGhpcy5vcHRpb25zLmtlZXBPcGVuP0wuRG9tVXRpbC5hZGRDbGFzcyhlLCJhY3RpdmUiKToodGhpcy5fbWFwLm9uKCJjbGljayIsdGhpcy5fY2xvc2VJZk9wZW4sdGhpcyksTC5Eb21FdmVudC5hZGRMaXN0ZW5lcihpLCJjbGljayIsdGhpcy5fdG9nZ2xlLHRoaXMpKSxlfSxfdXBkYXRlU3VibWl0OmZ1bmN0aW9uKHQsZSl7aWYoTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lciwic2VhcmNoaW5nIiksdGhpcy5fcmVzdWx0cy5pbm5lckhUTUw9IiIsdHx8IWUpdGhpcy5maXJlKCJlcnJvciIse2Vycm9yOnR9KTtlbHNle3ZhciBpPVtdO2UucmVzdWx0cyYmZS5yZXN1bHRzLmZlYXR1cmVzJiYoaT1lLnJlc3VsdHMuZmVhdHVyZXMpLDE9PT1pLmxlbmd0aD8odGhpcy5maXJlKCJhdXRvc2VsZWN0Iix7ZmVhdHVyZTppWzBdfSksdGhpcy5maXJlKCJmb3VuZCIse3Jlc3VsdHM6ZS5yZXN1bHRzfSksdGhpcy5fY2hvb3NlUmVzdWx0KGlbMF0pLHRoaXMuX2Nsb3NlSWZPcGVuKCkpOmkubGVuZ3RoPjE/KHRoaXMuZmlyZSgiZm91bmQiLHtyZXN1bHRzOmUucmVzdWx0c30pLHRoaXMuX2Rpc3BsYXlSZXN1bHRzKGkpKTp0aGlzLl9kaXNwbGF5UmVzdWx0cyhpKX19LF91cGRhdGVBdXRvY29tcGxldGU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9yZXN1bHRzLmlubmVySFRNTD0iIix0fHwhZSl0aGlzLmZpcmUoImVycm9yIix7ZXJyb3I6dH0pO2Vsc2V7dmFyIGk9W107ZS5yZXN1bHRzJiZlLnJlc3VsdHMuZmVhdHVyZXMmJihpPWUucmVzdWx0cy5mZWF0dXJlcyksaS5sZW5ndGgmJnRoaXMuZmlyZSgiZm91bmQiLHtyZXN1bHRzOmUucmVzdWx0c30pLHRoaXMuX2Rpc3BsYXlSZXN1bHRzKGkpfX0sX2Rpc3BsYXlSZXN1bHRzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9TWF0aC5taW4odC5sZW5ndGgsNSk7aT5lO2UrKyl7dmFyIG89dFtlXSxzPW8ucGxhY2VfbmFtZTtpZihzLmxlbmd0aCl7dmFyIG49TC5Eb21VdGlsLmNyZWF0ZSgiYSIsIiIsdGhpcy5fcmVzdWx0cykscj0iaW5uZXJUZXh0ImluIG4/ImlubmVyVGV4dCI6InRleHRDb250ZW50IjtuW3JdPXMsbi5zZXRBdHRyaWJ1dGUoInRpdGxlIixzKSxuLmhyZWY9IiMiLEwuYmluZChmdW5jdGlvbih0KXtMLkRvbUV2ZW50LmFkZExpc3RlbmVyKG4sImNsaWNrIixmdW5jdGlvbihlKXt0aGlzLl9jaG9vc2VSZXN1bHQodCksTC5Eb21FdmVudC5zdG9wKGUpLHRoaXMuZmlyZSgic2VsZWN0Iix7ZmVhdHVyZTp0fSl9LHRoaXMpfSx0aGlzKShvKX19aWYodC5sZW5ndGg+NSl7dmFyIGw9TC5Eb21VdGlsLmNyZWF0ZSgic3BhbiIsIiIsdGhpcy5fcmVzdWx0cyk7bC5pbm5lckhUTUw9IlRvcCA1IG9mICIrdC5sZW5ndGgrIiAgcmVzdWx0cyJ9fSxfY2hvb3NlUmVzdWx0OmZ1bmN0aW9uKHQpe3QuYmJveD90aGlzLl9tYXAuZml0Qm91bmRzKHV0aWwubGJvdW5kcyh0LmJib3gpKTp0LmNlbnRlciYmdGhpcy5fbWFwLnNldFZpZXcoW3QuY2VudGVyWzFdLHQuY2VudGVyWzBdXSx2b2lkIDA9PT10aGlzLl9tYXAuZ2V0Wm9vbSgpP3RoaXMub3B0aW9ucy5wb2ludFpvb206TWF0aC5tYXgodGhpcy5fbWFwLmdldFpvb20oKSx0aGlzLm9wdGlvbnMucG9pbnRab29tKSl9LF9nZW9jb2RlOmZ1bmN0aW9uKHQpe3JldHVybiBMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLCIiPT09dGhpcy5faW5wdXQudmFsdWU/dGhpcy5fdXBkYXRlU3VibWl0KCk6KEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9jb250YWluZXIsInNlYXJjaGluZyIpLHZvaWQgdGhpcy5nZW9jb2Rlci5xdWVyeSh7cXVlcnk6dGhpcy5faW5wdXQudmFsdWUscHJveGltaXR5OnRoaXMub3B0aW9ucy5wcm94aW1pdHk/dGhpcy5fbWFwLmdldENlbnRlcigpOiExfSx0aGlzLl91cGRhdGVTdWJtaXQpKX0sX2F1dG9jb21wbGV0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuYXV0b2NvbXBsZXRlPyIiPT09dGhpcy5faW5wdXQudmFsdWU/dGhpcy5fdXBkYXRlQXV0b2NvbXBsZXRlKCk6dm9pZCB0aGlzLmdlb2NvZGVyLnF1ZXJ5KHtxdWVyeTp0aGlzLl9pbnB1dC52YWx1ZSxwcm94aW1pdHk6dGhpcy5vcHRpb25zLnByb3hpbWl0eT90aGlzLl9tYXAuZ2V0Q2VudGVyKCk6ITF9LHRoaXMuX3VwZGF0ZUF1dG9jb21wbGV0ZSk6dm9pZCAwfX0pO21vZHVsZS5leHBvcnRzLkdlb2NvZGVyQ29udHJvbD1HZW9jb2RlckNvbnRyb2wsbW9kdWxlLmV4cG9ydHMuZ2VvY29kZXJDb250cm9sPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBHZW9jb2RlckNvbnRyb2wodCxlKX07Cn0seyIuL2dlb2NvZGVyIjoxMiwiLi91dGlsIjozMH1dLDE0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO2Z1bmN0aW9uIHV0ZkRlY29kZSh0KXtyZXR1cm4gdD49OTMmJnQtLSx0Pj0zNSYmdC0tLHQtMzJ9bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUscil7aWYodCl7dmFyIHU9dXRmRGVjb2RlKHQuZ3JpZFtyXS5jaGFyQ29kZUF0KGUpKSxuPXQua2V5c1t1XTtyZXR1cm4gdC5kYXRhW25dfX19Owp9LHt9XSwxNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0Ijt2YXIgdXRpbD1yZXF1aXJlKCIuL3V0aWwiKSxNdXN0YWNoZT1yZXF1aXJlKCJtdXN0YWNoZSIpLEdyaWRDb250cm9sPUwuQ29udHJvbC5leHRlbmQoe29wdGlvbnM6e3Bpbm5hYmxlOiEwLGZvbGxvdzohMSxzYW5pdGl6ZXI6cmVxdWlyZSgic2FuaXRpemUtY2FqYSIpLHRvdWNoVGVhc2VyOiEwLGxvY2F0aW9uOiEwfSxfY3VycmVudENvbnRlbnQ6IiIsX3Bpbm5lZDohMSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsbyl7TC5VdGlsLnNldE9wdGlvbnModGhpcyxvKSx1dGlsLnN0cmljdF9pbnN0YW5jZSh0LEwuQ2xhc3MsIkwubWFwYm94LmdyaWRMYXllciIpLHRoaXMuX2xheWVyPXR9LHNldFRlbXBsYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB1dGlsLnN0cmljdCh0LCJzdHJpbmciKSx0aGlzLm9wdGlvbnMudGVtcGxhdGU9dCx0aGlzfSxfdGVtcGxhdGU6ZnVuY3Rpb24odCxvKXtpZihvKXt2YXIgaT10aGlzLm9wdGlvbnMudGVtcGxhdGV8fHRoaXMuX2xheWVyLmdldFRpbGVKU09OKCkudGVtcGxhdGU7aWYoaSl7dmFyIGU9e307cmV0dXJuIGVbIl9fIit0KyJfXyJdPSEwLHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoTXVzdGFjaGUudG9faHRtbChpLEwuZXh0ZW5kKGUsbykpKX19fSxfc2hvdzpmdW5jdGlvbih0LG8pe3QhPT10aGlzLl9jdXJyZW50Q29udGVudCYmKHRoaXMuX2N1cnJlbnRDb250ZW50PXQsdGhpcy5vcHRpb25zLmZvbGxvdz8odGhpcy5fcG9wdXAuc2V0Q29udGVudCh0KS5zZXRMYXRMbmcoby5sYXRMbmcpLHRoaXMuX21hcC5fcG9wdXAhPT10aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAub3Blbk9uKHRoaXMuX21hcCkpOih0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheT0iYmxvY2siLHRoaXMuX2NvbnRlbnRXcmFwcGVyLmlubmVySFRNTD10KSl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlubmVkPSExLHRoaXMuX2N1cnJlbnRDb250ZW50PSIiLHRoaXMuX21hcC5jbG9zZVBvcHVwKCksdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuX2NvbnRlbnRXcmFwcGVyLmlubmVySFRNTD0iIixMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyLCJjbG9zYWJsZSIpLHRoaXN9LF9tb3VzZW92ZXI6ZnVuY3Rpb24odCl7aWYodC5kYXRhP0wuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9tYXAuX2NvbnRhaW5lciwibWFwLWNsaWNrYWJsZSIpOkwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXAuX2NvbnRhaW5lciwibWFwLWNsaWNrYWJsZSIpLCF0aGlzLl9waW5uZWQpe3ZhciBvPXRoaXMuX3RlbXBsYXRlKCJ0ZWFzZXIiLHQuZGF0YSk7bz90aGlzLl9zaG93KG8sdCk6dGhpcy5oaWRlKCl9fSxfbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuX3Bpbm5lZHx8dGhpcy5vcHRpb25zLmZvbGxvdyYmdGhpcy5fcG9wdXAuc2V0TGF0TG5nKHQubGF0TG5nKX0sX25hdmlnYXRlVG86ZnVuY3Rpb24odCl7d2luZG93LnRvcC5sb2NhdGlvbi5ocmVmPXR9LF9jbGljazpmdW5jdGlvbih0KXt2YXIgbz10aGlzLl90ZW1wbGF0ZSgibG9jYXRpb24iLHQuZGF0YSk7aWYodGhpcy5vcHRpb25zLmxvY2F0aW9uJiZvJiYwPT09by5zZWFyY2goL15odHRwcz86LykpcmV0dXJuIHRoaXMuX25hdmlnYXRlVG8odGhpcy5fdGVtcGxhdGUoImxvY2F0aW9uIix0LmRhdGEpKTtpZih0aGlzLm9wdGlvbnMucGlubmFibGUpe3ZhciBpPXRoaXMuX3RlbXBsYXRlKCJmdWxsIix0LmRhdGEpOyFpJiZ0aGlzLm9wdGlvbnMudG91Y2hUZWFzZXImJkwuQnJvd3Nlci50b3VjaCYmKGk9dGhpcy5fdGVtcGxhdGUoInRlYXNlciIsdC5kYXRhKSksaT8oTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwiY2xvc2FibGUiKSx0aGlzLl9waW5uZWQ9ITAsdGhpcy5fc2hvdyhpLHQpKTp0aGlzLl9waW5uZWQmJihMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyLCJjbG9zYWJsZSIpLHRoaXMuX3Bpbm5lZD0hMSx0aGlzLmhpZGUoKSl9fSxfb25Qb3B1cENsb3NlOmZ1bmN0aW9uKCl7dGhpcy5fY3VycmVudENvbnRlbnQ9bnVsbCx0aGlzLl9waW5uZWQ9ITF9LF9jcmVhdGVDbG9zZWJ1dHRvbjpmdW5jdGlvbih0LG8pe3ZhciBpPUwuRG9tVXRpbC5jcmVhdGUoImEiLCJjbG9zZSIsdCk7cmV0dXJuIGkuaW5uZXJIVE1MPSJjbG9zZSIsaS5ocmVmPSIjIixpLnRpdGxlPSJjbG9zZSIsTC5Eb21FdmVudC5vbihpLCJjbGljayIsTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pLm9uKGksIm1vdXNlZG93biIsTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pLm9uKGksImRibGNsaWNrIixMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbikub24oaSwiY2xpY2siLEwuRG9tRXZlbnQucHJldmVudERlZmF1bHQpLm9uKGksImNsaWNrIixvLHRoaXMpLGl9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10O3ZhciBvPSJsZWFmbGV0LWNvbnRyb2wtZ3JpZCBtYXAtdG9vbHRpcCIsaT1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLG8pLGU9TC5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibWFwLXRvb2x0aXAtY29udGVudCIpO3JldHVybiBpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuX2NyZWF0ZUNsb3NlYnV0dG9uKGksdGhpcy5oaWRlKSxpLmFwcGVuZENoaWxkKGUpLHRoaXMuX2NvbnRlbnRXcmFwcGVyPWUsdGhpcy5fcG9wdXA9bmV3IEwuUG9wdXAoe2F1dG9QYW46ITEsY2xvc2VPbkNsaWNrOiExfSksdC5vbigicG9wdXBjbG9zZSIsdGhpcy5fb25Qb3B1cENsb3NlLHRoaXMpLEwuRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24oaSkuYWRkTGlzdGVuZXIoaSwibW91c2V3aGVlbCIsTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pLHRoaXMuX2xheWVyLm9uKCJtb3VzZW92ZXIiLHRoaXMuX21vdXNlb3Zlcix0aGlzKS5vbigibW91c2Vtb3ZlIix0aGlzLl9tb3VzZW1vdmUsdGhpcykub24oImNsaWNrIix0aGlzLl9jbGljayx0aGlzKSxpfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Lm9mZigicG9wdXBjbG9zZSIsdGhpcy5fb25Qb3B1cENsb3NlLHRoaXMpLHRoaXMuX2xheWVyLm9mZigibW91c2VvdmVyIix0aGlzLl9tb3VzZW92ZXIsdGhpcykub2ZmKCJtb3VzZW1vdmUiLHRoaXMuX21vdXNlbW92ZSx0aGlzKS5vZmYoImNsaWNrIix0aGlzLl9jbGljayx0aGlzKX19KTttb2R1bGUuZXhwb3J0cy5HcmlkQ29udHJvbD1HcmlkQ29udHJvbCxtb2R1bGUuZXhwb3J0cy5ncmlkQ29udHJvbD1mdW5jdGlvbih0LG8pe3JldHVybiBuZXcgR3JpZENvbnRyb2wodCxvKX07Cn0seyIuL3V0aWwiOjMwLCJtdXN0YWNoZSI6NCwic2FuaXRpemUtY2FqYSI6NX1dLDE2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO3ZhciB1dGlsPXJlcXVpcmUoIi4vdXRpbCIpLHJlcXVlc3Q9cmVxdWlyZSgiLi9yZXF1ZXN0IiksZ3JpZD1yZXF1aXJlKCIuL2dyaWQiKSxHcmlkTGF5ZXI9TC5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOltMLk1peGluLkV2ZW50cyxyZXF1aXJlKCIuL2xvYWRfdGlsZWpzb24iKV0sb3B0aW9uczp7dGVtcGxhdGU6ZnVuY3Rpb24oKXtyZXR1cm4iIn19LF9tb3VzZU9uOm51bGwsX3RpbGVqc29uOnt9LF9jYWNoZTp7fSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsaSl7TC5VdGlsLnNldE9wdGlvbnModGhpcyxpKSx0aGlzLl9sb2FkVGlsZUpTT04odCl9LF9zZXRUaWxlSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gdXRpbC5zdHJpY3QodCwib2JqZWN0IiksTC5leHRlbmQodGhpcy5vcHRpb25zLHtncmlkczp0LmdyaWRzLG1pblpvb206dC5taW56b29tLG1heFpvb206dC5tYXh6b29tLGJvdW5kczp0LmJvdW5kcyYmdXRpbC5sYm91bmRzKHQuYm91bmRzKX0pLHRoaXMuX3RpbGVqc29uPXQsdGhpcy5fY2FjaGU9e30sdGhpcy5fdXBkYXRlKCksdGhpc30sZ2V0VGlsZUpTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGlsZWpzb259LGFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiEhKHRoaXMuX21hcCYmdGhpcy5vcHRpb25zLmdyaWRzJiZ0aGlzLm9wdGlvbnMuZ3JpZHMubGVuZ3RoKX0sYWRkVG86ZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRkTGF5ZXIodGhpcyksdGhpc30sb25BZGQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5fbWFwLm9uKCJjbGljayIsdGhpcy5fY2xpY2ssdGhpcykub24oIm1vdXNlbW92ZSIsdGhpcy5fbW92ZSx0aGlzKS5vbigibW92ZWVuZCIsdGhpcy5fdXBkYXRlLHRoaXMpfSxvblJlbW92ZTpmdW5jdGlvbigpe3RoaXMuX21hcC5vZmYoImNsaWNrIix0aGlzLl9jbGljayx0aGlzKS5vZmYoIm1vdXNlbW92ZSIsdGhpcy5fbW92ZSx0aGlzKS5vZmYoIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZSx0aGlzKX0sZ2V0RGF0YTpmdW5jdGlvbih0LGkpe2lmKHRoaXMuYWN0aXZlKCkpe3ZhciBlPXRoaXMuX21hcCxvPWUucHJvamVjdCh0LndyYXAoKSkscz0yNTYsbj00LGE9TWF0aC5mbG9vcihvLngvcyksaD1NYXRoLmZsb29yKG8ueS9zKSxyPWUub3B0aW9ucy5jcnMuc2NhbGUoZS5nZXRab29tKCkpL3M7cmV0dXJuIGE9KGErciklcixoPShoK3IpJXIsdGhpcy5fZ2V0VGlsZShlLmdldFpvb20oKSxhLGgsZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5mbG9vcigoby54LWEqcykvbikscj1NYXRoLmZsb29yKChvLnktaCpzKS9uKTtpKHQoZSxyKSl9KSx0aGlzfX0sX2NsaWNrOmZ1bmN0aW9uKHQpe3RoaXMuZ2V0RGF0YSh0LmxhdGxuZyxMLmJpbmQoZnVuY3Rpb24oaSl7dGhpcy5maXJlKCJjbGljayIse2xhdExuZzp0LmxhdGxuZyxkYXRhOml9KX0sdGhpcykpfSxfbW92ZTpmdW5jdGlvbih0KXt0aGlzLmdldERhdGEodC5sYXRsbmcsTC5iaW5kKGZ1bmN0aW9uKGkpe2khPT10aGlzLl9tb3VzZU9uPyh0aGlzLl9tb3VzZU9uJiZ0aGlzLmZpcmUoIm1vdXNlb3V0Iix7bGF0TG5nOnQubGF0bG5nLGRhdGE6dGhpcy5fbW91c2VPbn0pLHRoaXMuZmlyZSgibW91c2VvdmVyIix7bGF0TG5nOnQubGF0bG5nLGRhdGE6aX0pLHRoaXMuX21vdXNlT249aSk6dGhpcy5maXJlKCJtb3VzZW1vdmUiLHtsYXRMbmc6dC5sYXRsbmcsZGF0YTppfSl9LHRoaXMpKX0sX2dldFRpbGVVUkw6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLmdyaWRzLGU9KHQueCt0LnkpJWkubGVuZ3RoLG89aVtlXTtyZXR1cm4gTC5VdGlsLnRlbXBsYXRlKG8sdCl9LF91cGRhdGU6ZnVuY3Rpb24oKXtpZih0aGlzLmFjdGl2ZSgpKXt2YXIgdD10aGlzLl9tYXAuZ2V0UGl4ZWxCb3VuZHMoKSxpPXRoaXMuX21hcC5nZXRab29tKCksZT0yNTY7aWYoIShpPnRoaXMub3B0aW9ucy5tYXhab29tfHxpPHRoaXMub3B0aW9ucy5taW5ab29tKSlmb3IodmFyIG89TC5ib3VuZHModC5taW4uZGl2aWRlQnkoZSkuX2Zsb29yKCksdC5tYXguZGl2aWRlQnkoZSkuX2Zsb29yKCkpLHM9dGhpcy5fbWFwLm9wdGlvbnMuY3JzLnNjYWxlKGkpL2Usbj1vLm1pbi54O248PW8ubWF4Lng7bisrKWZvcih2YXIgYT1vLm1pbi55O2E8PW8ubWF4Lnk7YSsrKXRoaXMuX2dldFRpbGUoaSwobiVzK3MpJXMsKGElcytzKSVzKX19LF9nZXRUaWxlOmZ1bmN0aW9uKHQsaSxlLG8pe3ZhciBzPXQrIl8iK2krIl8iK2Usbj1MLnBvaW50KGksZSk7aWYobi56PXQsdGhpcy5fdGlsZVNob3VsZEJlTG9hZGVkKG4pKXtpZihzIGluIHRoaXMuX2NhY2hlKXtpZighbylyZXR1cm47cmV0dXJuIHZvaWQoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuX2NhY2hlW3NdP28odGhpcy5fY2FjaGVbc10pOnRoaXMuX2NhY2hlW3NdLnB1c2gobykpfXRoaXMuX2NhY2hlW3NdPVtdLG8mJnRoaXMuX2NhY2hlW3NdLnB1c2gobykscmVxdWVzdCh0aGlzLl9nZXRUaWxlVVJMKG4pLEwuYmluZChmdW5jdGlvbih0LGkpe3ZhciBlPXRoaXMuX2NhY2hlW3NdO3RoaXMuX2NhY2hlW3NdPWdyaWQoaSk7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDsrK28pZVtvXSh0aGlzLl9jYWNoZVtzXSl9LHRoaXMpKX19LF90aWxlU2hvdWxkQmVMb2FkZWQ6ZnVuY3Rpb24odCl7aWYodC56PnRoaXMub3B0aW9ucy5tYXhab29tfHx0Lno8dGhpcy5vcHRpb25zLm1pblpvb20pcmV0dXJuITE7aWYodGhpcy5vcHRpb25zLmJvdW5kcyl7dmFyIGk9MjU2LGU9dC5tdWx0aXBseUJ5KGkpLG89ZS5hZGQobmV3IEwuUG9pbnQoaSxpKSkscz10aGlzLl9tYXAudW5wcm9qZWN0KGUpLG49dGhpcy5fbWFwLnVucHJvamVjdChvKSxhPW5ldyBMLkxhdExuZ0JvdW5kcyhbcyxuXSk7aWYoIXRoaXMub3B0aW9ucy5ib3VuZHMuaW50ZXJzZWN0cyhhKSlyZXR1cm4hMX1yZXR1cm4hMH19KTttb2R1bGUuZXhwb3J0cy5HcmlkTGF5ZXI9R3JpZExheWVyLG1vZHVsZS5leHBvcnRzLmdyaWRMYXllcj1mdW5jdGlvbih0LGkpe3JldHVybiBuZXcgR3JpZExheWVyKHQsaSl9Owp9LHsiLi9ncmlkIjoxNCwiLi9sb2FkX3RpbGVqc29uIjoyMSwiLi9yZXF1ZXN0IjoyNiwiLi91dGlsIjozMH1dLDE3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO3ZhciBsZWFmbGV0PXJlcXVpcmUoIi4vbGVhZmxldCIpO3JlcXVpcmUoIi4vbWFwYm94IiksbW9kdWxlLmV4cG9ydHM9bGVhZmxldDsKfSx7Ii4vbGVhZmxldCI6MTksIi4vbWFwYm94IjoyM31dLDE4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO3ZhciBJbmZvQ29udHJvbD1MLkNvbnRyb2wuZXh0ZW5kKHtvcHRpb25zOntwb3NpdGlvbjoiYm90dG9tcmlnaHQiLHNhbml0aXplcjpyZXF1aXJlKCJzYW5pdGl6ZS1jYWphIil9LGluaXRpYWxpemU6ZnVuY3Rpb24odCl7TC5zZXRPcHRpb25zKHRoaXMsdCksdGhpcy5faW5mbz17fSxjb25zb2xlLndhcm4oImluZm9Db250cm9sIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBtYXBib3guanMgdjMuMC4wLiBVc2UgdGhlIGRlZmF1bHQgYXR0cmlidXRpb24gY29udHJvbCBpbnN0ZWFkLCB3aGljaCBpcyBub3cgcmVzcG9uc2l2ZS4iKX0sb25BZGQ6ZnVuY3Rpb24odCl7dGhpcy5fY29udGFpbmVyPUwuRG9tVXRpbC5jcmVhdGUoImRpdiIsIm1hcGJveC1jb250cm9sLWluZm8gbWFwYm94LXNtYWxsIiksdGhpcy5fY29udGVudD1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJtYXAtaW5mby1jb250YWluZXIiLHRoaXMuX2NvbnRhaW5lcik7dmFyIGk9TC5Eb21VdGlsLmNyZWF0ZSgiYSIsIm1hcGJveC1pbmZvLXRvZ2dsZSBtYXBib3gtaWNvbiBtYXBib3gtaWNvbi1pbmZvIix0aGlzLl9jb250YWluZXIpO2kuaHJlZj0iIyIsTC5Eb21FdmVudC5hZGRMaXN0ZW5lcihpLCJjbGljayIsdGhpcy5fc2hvd0luZm8sdGhpcyksTC5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbih0aGlzLl9jb250YWluZXIpO2Zvcih2YXIgbiBpbiB0Ll9sYXllcnMpdC5fbGF5ZXJzW25dLmdldEF0dHJpYnV0aW9uJiZ0aGlzLmFkZEluZm8odC5fbGF5ZXJzW25dLmdldEF0dHJpYnV0aW9uKCkpO3JldHVybiB0Lm9uKCJsYXllcmFkZCIsdGhpcy5fb25MYXllckFkZCx0aGlzKS5vbigibGF5ZXJyZW1vdmUiLHRoaXMuX29uTGF5ZXJSZW1vdmUsdGhpcyksdGhpcy5fdXBkYXRlKCksdGhpcy5fY29udGFpbmVyfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Lm9mZigibGF5ZXJhZGQiLHRoaXMuX29uTGF5ZXJBZGQsdGhpcykub2ZmKCJsYXllcnJlbW92ZSIsdGhpcy5fb25MYXllclJlbW92ZSx0aGlzKX0sYWRkSW5mbzpmdW5jdGlvbih0KXtyZXR1cm4gdD8odGhpcy5faW5mb1t0XXx8KHRoaXMuX2luZm9bdF09MCksdGhpcy5faW5mb1t0XT0hMCx0aGlzLl91cGRhdGUoKSk6dGhpc30scmVtb3ZlSW5mbzpmdW5jdGlvbih0KXtyZXR1cm4gdD8odGhpcy5faW5mb1t0XSYmKHRoaXMuX2luZm9bdF09ITEpLHRoaXMuX3VwZGF0ZSgpKTp0aGlzfSxfc2hvd0luZm86ZnVuY3Rpb24odCl7cmV0dXJuIEwuRG9tRXZlbnQucHJldmVudERlZmF1bHQodCksdGhpcy5fYWN0aXZlPT09ITA/dGhpcy5faGlkZWNvbnRlbnQoKTooTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwiYWN0aXZlIiksdGhpcy5fYWN0aXZlPSEwLHZvaWQgdGhpcy5fdXBkYXRlKCkpfSxfaGlkZWNvbnRlbnQ6ZnVuY3Rpb24oKXt0aGlzLl9jb250ZW50LmlubmVySFRNTD0iIix0aGlzLl9hY3RpdmU9ITEsTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lciwiYWN0aXZlIil9LF91cGRhdGU6ZnVuY3Rpb24oKXtpZighdGhpcy5fbWFwKXJldHVybiB0aGlzO3RoaXMuX2NvbnRlbnQuaW5uZXJIVE1MPSIiO3ZhciB0PSJub25lIixpPVtdO2Zvcih2YXIgbiBpbiB0aGlzLl9pbmZvKXRoaXMuX2luZm8uaGFzT3duUHJvcGVydHkobikmJnRoaXMuX2luZm9bbl0mJihpLnB1c2godGhpcy5vcHRpb25zLnNhbml0aXplcihuKSksdD0iYmxvY2siKTtyZXR1cm4gdGhpcy5fY29udGVudC5pbm5lckhUTUwrPWkuam9pbigiIHwgIiksdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9dCx0aGlzfSxfb25MYXllckFkZDpmdW5jdGlvbih0KXt0LmxheWVyLmdldEF0dHJpYnV0aW9uJiZ0LmxheWVyLmdldEF0dHJpYnV0aW9uKCk/dGhpcy5hZGRJbmZvKHQubGF5ZXIuZ2V0QXR0cmlidXRpb24oKSk6Im9uImluIHQubGF5ZXImJnQubGF5ZXIuZ2V0QXR0cmlidXRpb24mJnQubGF5ZXIub24oInJlYWR5IixMLmJpbmQoZnVuY3Rpb24oKXt0aGlzLmFkZEluZm8odC5sYXllci5nZXRBdHRyaWJ1dGlvbigpKX0sdGhpcykpfSxfb25MYXllclJlbW92ZTpmdW5jdGlvbih0KXt0LmxheWVyLmdldEF0dHJpYnV0aW9uJiZ0aGlzLnJlbW92ZUluZm8odC5sYXllci5nZXRBdHRyaWJ1dGlvbigpKX19KTttb2R1bGUuZXhwb3J0cy5JbmZvQ29udHJvbD1JbmZvQ29udHJvbCxtb2R1bGUuZXhwb3J0cy5pbmZvQ29udHJvbD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEluZm9Db250cm9sKHQpfTsKfSx7InNhbml0aXplLWNhamEiOjV9XSwxOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cm1vZHVsZS5leHBvcnRzPXdpbmRvdy5MPXJlcXVpcmUoImxlYWZsZXQvZGlzdC9sZWFmbGV0LXNyYyIpOwp9LHsibGVhZmxldC9kaXN0L2xlYWZsZXQtc3JjIjozfV0sMjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7dmFyIExlZ2VuZENvbnRyb2w9TC5Db250cm9sLmV4dGVuZCh7b3B0aW9uczp7cG9zaXRpb246ImJvdHRvbXJpZ2h0IixzYW5pdGl6ZXI6cmVxdWlyZSgic2FuaXRpemUtY2FqYSIpfSxpbml0aWFsaXplOmZ1bmN0aW9uKGUpe0wuc2V0T3B0aW9ucyh0aGlzLGUpLHRoaXMuX2xlZ2VuZHM9e319LG9uQWRkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcj1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJtYXAtbGVnZW5kcyB3YXgtbGVnZW5kcyIpLEwuRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24odGhpcy5fY29udGFpbmVyKSx0aGlzLl91cGRhdGUoKSx0aGlzLl9jb250YWluZXJ9LGFkZExlZ2VuZDpmdW5jdGlvbihlKXtyZXR1cm4gZT8odGhpcy5fbGVnZW5kc1tlXXx8KHRoaXMuX2xlZ2VuZHNbZV09MCksdGhpcy5fbGVnZW5kc1tlXSsrLHRoaXMuX3VwZGF0ZSgpKTp0aGlzfSxyZW1vdmVMZWdlbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KHRoaXMuX2xlZ2VuZHNbZV0mJnRoaXMuX2xlZ2VuZHNbZV0tLSx0aGlzLl91cGRhdGUoKSk6dGhpc30sX3VwZGF0ZTpmdW5jdGlvbigpe2lmKCF0aGlzLl9tYXApcmV0dXJuIHRoaXM7dGhpcy5fY29udGFpbmVyLmlubmVySFRNTD0iIjt2YXIgZT0ibm9uZSI7Zm9yKHZhciB0IGluIHRoaXMuX2xlZ2VuZHMpaWYodGhpcy5fbGVnZW5kcy5oYXNPd25Qcm9wZXJ0eSh0KSYmdGhpcy5fbGVnZW5kc1t0XSl7dmFyIG49TC5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibWFwLWxlZ2VuZCB3YXgtbGVnZW5kIix0aGlzLl9jb250YWluZXIpO24uaW5uZXJIVE1MPXRoaXMub3B0aW9ucy5zYW5pdGl6ZXIodCksZT0iYmxvY2sifXJldHVybiB0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheT1lLHRoaXN9fSk7bW9kdWxlLmV4cG9ydHMuTGVnZW5kQ29udHJvbD1MZWdlbmRDb250cm9sLG1vZHVsZS5leHBvcnRzLmxlZ2VuZENvbnRyb2w9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBMZWdlbmRDb250cm9sKGUpfTsKfSx7InNhbml0aXplLWNhamEiOjV9XSwyMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0Ijt2YXIgcmVxdWVzdD1yZXF1aXJlKCIuL3JlcXVlc3QiKSxmb3JtYXRfdXJsPXJlcXVpcmUoIi4vZm9ybWF0X3VybCIpLHV0aWw9cmVxdWlyZSgiLi91dGlsIik7bW9kdWxlLmV4cG9ydHM9e19sb2FkVGlsZUpTT046ZnVuY3Rpb24oZSl7InN0cmluZyI9PXR5cGVvZiBlPyhlPWZvcm1hdF91cmwudGlsZUpTT04oZSx0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5hY2Nlc3NUb2tlbikscmVxdWVzdChlLEwuYmluZChmdW5jdGlvbih0LHIpe3Q/KHV0aWwubG9nKCJjb3VsZCBub3QgbG9hZCBUaWxlSlNPTiBhdCAiK2UpLHRoaXMuZmlyZSgiZXJyb3IiLHtlcnJvcjp0fSkpOnImJih0aGlzLl9zZXRUaWxlSlNPTihyKSx0aGlzLmZpcmUoInJlYWR5IikpfSx0aGlzKSkpOmUmJiJvYmplY3QiPT10eXBlb2YgZSYmdGhpcy5fc2V0VGlsZUpTT04oZSl9fTsKfSx7Ii4vZm9ybWF0X3VybCI6MTEsIi4vcmVxdWVzdCI6MjYsIi4vdXRpbCI6MzB9XSwyMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB3aXRoQWNjZXNzVG9rZW4odCxvKXtyZXR1cm4hb3x8dC5hY2Nlc3NUb2tlbj90OkwuZXh0ZW5kKHthY2Nlc3NUb2tlbjpvfSx0KX12YXIgdGlsZUxheWVyPXJlcXVpcmUoIi4vdGlsZV9sYXllciIpLnRpbGVMYXllcixmZWF0dXJlTGF5ZXI9cmVxdWlyZSgiLi9mZWF0dXJlX2xheWVyIikuZmVhdHVyZUxheWVyLGdyaWRMYXllcj1yZXF1aXJlKCIuL2dyaWRfbGF5ZXIiKS5ncmlkTGF5ZXIsZ3JpZENvbnRyb2w9cmVxdWlyZSgiLi9ncmlkX2NvbnRyb2wiKS5ncmlkQ29udHJvbCxpbmZvQ29udHJvbD1yZXF1aXJlKCIuL2luZm9fY29udHJvbCIpLmluZm9Db250cm9sLHNoYXJlQ29udHJvbD1yZXF1aXJlKCIuL3NoYXJlX2NvbnRyb2wiKS5zaGFyZUNvbnRyb2wsbGVnZW5kQ29udHJvbD1yZXF1aXJlKCIuL2xlZ2VuZF9jb250cm9sIikubGVnZW5kQ29udHJvbCxtYXBib3hMb2dvQ29udHJvbD1yZXF1aXJlKCIuL21hcGJveF9sb2dvIikubWFwYm94TG9nb0NvbnRyb2wsZmVlZGJhY2s9cmVxdWlyZSgiLi9mZWVkYmFjayIpLExNYXA9TC5NYXAuZXh0ZW5kKHtpbmNsdWRlczpbcmVxdWlyZSgiLi9sb2FkX3RpbGVqc29uIildLG9wdGlvbnM6e3RpbGVMYXllcjp7fSxmZWF0dXJlTGF5ZXI6e30sZ3JpZExheWVyOnt9LGxlZ2VuZENvbnRyb2w6e30sZ3JpZENvbnRyb2w6e30saW5mb0NvbnRyb2w6ITEsc2hhcmVDb250cm9sOiExLHNhbml0aXplcjpyZXF1aXJlKCJzYW5pdGl6ZS1jYWphIil9LF90aWxlanNvbjp7fSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsbyxlKXtpZihMLk1hcC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdCxMLmV4dGVuZCh7fSxMLk1hcC5wcm90b3R5cGUub3B0aW9ucyxlKSksdGhpcy5hdHRyaWJ1dGlvbkNvbnRyb2wpe3RoaXMuYXR0cmlidXRpb25Db250cm9sLnNldFByZWZpeCgiIik7dmFyIGk9dGhpcy5vcHRpb25zLmF0dHJpYnV0aW9uQ29udHJvbC5jb21wYWN0OyhpfHxpIT09ITEmJnRoaXMuX2NvbnRhaW5lci5vZmZzZXRXaWR0aDw9NjQwKSYmTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuYXR0cmlidXRpb25Db250cm9sLl9jb250YWluZXIsImxlYWZsZXQtY29tcGFjdC1hdHRyaWJ1dGlvbiIpLHZvaWQgMD09PWkmJnRoaXMub24oInJlc2l6ZSIsZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXIub2Zmc2V0V2lkdGg+NjQwP0wuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLmF0dHJpYnV0aW9uQ29udHJvbC5fY29udGFpbmVyLCJsZWFmbGV0LWNvbXBhY3QtYXR0cmlidXRpb24iKTpMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5hdHRyaWJ1dGlvbkNvbnRyb2wuX2NvbnRhaW5lciwibGVhZmxldC1jb21wYWN0LWF0dHJpYnV0aW9uIil9KX10aGlzLm9wdGlvbnMudGlsZUxheWVyJiYodGhpcy50aWxlTGF5ZXI9dGlsZUxheWVyKHZvaWQgMCx3aXRoQWNjZXNzVG9rZW4odGhpcy5vcHRpb25zLnRpbGVMYXllcix0aGlzLm9wdGlvbnMuYWNjZXNzVG9rZW4pKSx0aGlzLmFkZExheWVyKHRoaXMudGlsZUxheWVyKSksdGhpcy5vcHRpb25zLmZlYXR1cmVMYXllciYmKHRoaXMuZmVhdHVyZUxheWVyPWZlYXR1cmVMYXllcih2b2lkIDAsd2l0aEFjY2Vzc1Rva2VuKHRoaXMub3B0aW9ucy5mZWF0dXJlTGF5ZXIsdGhpcy5vcHRpb25zLmFjY2Vzc1Rva2VuKSksdGhpcy5hZGRMYXllcih0aGlzLmZlYXR1cmVMYXllcikpLHRoaXMub3B0aW9ucy5ncmlkTGF5ZXImJih0aGlzLmdyaWRMYXllcj1ncmlkTGF5ZXIodm9pZCAwLHdpdGhBY2Nlc3NUb2tlbih0aGlzLm9wdGlvbnMuZ3JpZExheWVyLHRoaXMub3B0aW9ucy5hY2Nlc3NUb2tlbikpLHRoaXMuYWRkTGF5ZXIodGhpcy5ncmlkTGF5ZXIpKSx0aGlzLm9wdGlvbnMuZ3JpZExheWVyJiZ0aGlzLm9wdGlvbnMuZ3JpZENvbnRyb2wmJih0aGlzLmdyaWRDb250cm9sPWdyaWRDb250cm9sKHRoaXMuZ3JpZExheWVyLHRoaXMub3B0aW9ucy5ncmlkQ29udHJvbCksdGhpcy5hZGRDb250cm9sKHRoaXMuZ3JpZENvbnRyb2wpKSx0aGlzLm9wdGlvbnMuaW5mb0NvbnRyb2wmJih0aGlzLmluZm9Db250cm9sPWluZm9Db250cm9sKHRoaXMub3B0aW9ucy5pbmZvQ29udHJvbCksdGhpcy5hZGRDb250cm9sKHRoaXMuaW5mb0NvbnRyb2wpKSx0aGlzLm9wdGlvbnMubGVnZW5kQ29udHJvbCYmKHRoaXMubGVnZW5kQ29udHJvbD1sZWdlbmRDb250cm9sKHRoaXMub3B0aW9ucy5sZWdlbmRDb250cm9sKSx0aGlzLmFkZENvbnRyb2wodGhpcy5sZWdlbmRDb250cm9sKSksdGhpcy5vcHRpb25zLnNoYXJlQ29udHJvbCYmKHRoaXMuc2hhcmVDb250cm9sPXNoYXJlQ29udHJvbCh2b2lkIDAsd2l0aEFjY2Vzc1Rva2VuKHRoaXMub3B0aW9ucy5zaGFyZUNvbnRyb2wsdGhpcy5vcHRpb25zLmFjY2Vzc1Rva2VuKSksdGhpcy5hZGRDb250cm9sKHRoaXMuc2hhcmVDb250cm9sKSksdGhpcy5fbWFwYm94TG9nb0NvbnRyb2w9bWFwYm94TG9nb0NvbnRyb2wodGhpcy5vcHRpb25zLm1hcGJveExvZ29Db250cm9sKSx0aGlzLmFkZENvbnRyb2wodGhpcy5fbWFwYm94TG9nb0NvbnRyb2wpLHRoaXMuX2xvYWRUaWxlSlNPTihvKSx0aGlzLm9uKCJsYXllcmFkZCIsdGhpcy5fb25MYXllckFkZCx0aGlzKS5vbigibGF5ZXJyZW1vdmUiLHRoaXMuX29uTGF5ZXJSZW1vdmUsdGhpcykub24oIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZU1hcEZlZWRiYWNrTGluayx0aGlzKSx0aGlzLndoZW5SZWFkeShmdW5jdGlvbigpe2ZlZWRiYWNrLm9uKCJjaGFuZ2UiLHRoaXMuX3VwZGF0ZU1hcEZlZWRiYWNrTGluayx0aGlzKX0pLHRoaXMub24oInVubG9hZCIsZnVuY3Rpb24oKXtmZWVkYmFjay5vZmYoImNoYW5nZSIsdGhpcy5fdXBkYXRlTWFwRmVlZGJhY2tMaW5rLHRoaXMpfSl9LF9zZXRUaWxlSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdGlsZWpzb249dCx0aGlzLl9pbml0aWFsaXplKHQpLHRoaXN9LGdldFRpbGVKU09OOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbGVqc29ufSxfaW5pdGlhbGl6ZTpmdW5jdGlvbih0KXtpZih0aGlzLnRpbGVMYXllciYmKHRoaXMudGlsZUxheWVyLl9zZXRUaWxlSlNPTih0KSx0aGlzLl91cGRhdGVMYXllcih0aGlzLnRpbGVMYXllcikpLHRoaXMuZmVhdHVyZUxheWVyJiYhdGhpcy5mZWF0dXJlTGF5ZXIuZ2V0R2VvSlNPTigpJiZ0LmRhdGEmJnQuZGF0YVswXSYmdGhpcy5mZWF0dXJlTGF5ZXIubG9hZFVSTCh0LmRhdGFbMF0pLHRoaXMuZ3JpZExheWVyJiYodGhpcy5ncmlkTGF5ZXIuX3NldFRpbGVKU09OKHQpLHRoaXMuX3VwZGF0ZUxheWVyKHRoaXMuZ3JpZExheWVyKSksdGhpcy5pbmZvQ29udHJvbCYmdC5hdHRyaWJ1dGlvbiYmKHRoaXMuaW5mb0NvbnRyb2wuYWRkSW5mbyh0aGlzLm9wdGlvbnMuc2FuaXRpemVyKHQuYXR0cmlidXRpb24pKSx0aGlzLl91cGRhdGVNYXBGZWVkYmFja0xpbmsoKSksdGhpcy5sZWdlbmRDb250cm9sJiZ0LmxlZ2VuZCYmdGhpcy5sZWdlbmRDb250cm9sLmFkZExlZ2VuZCh0LmxlZ2VuZCksdGhpcy5zaGFyZUNvbnRyb2wmJnRoaXMuc2hhcmVDb250cm9sLl9zZXRUaWxlSlNPTih0KSx0aGlzLl9tYXBib3hMb2dvQ29udHJvbC5fc2V0VGlsZUpTT04odCksIXRoaXMuX2xvYWRlZCYmdC5jZW50ZXIpe3ZhciBvPXZvaWQgMCE9PXRoaXMuZ2V0Wm9vbSgpP3RoaXMuZ2V0Wm9vbSgpOnQuY2VudGVyWzJdLGU9TC5sYXRMbmcodC5jZW50ZXJbMV0sdC5jZW50ZXJbMF0pO3RoaXMuc2V0VmlldyhlLG8pfX0sX3VwZGF0ZU1hcEZlZWRiYWNrTGluazpmdW5jdGlvbigpe2lmKHRoaXMuX2NvbnRyb2xDb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSl7dmFyIHQ9dGhpcy5fY29udHJvbENvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJtYXBib3gtaW1wcm92ZS1tYXAiKTtpZih0Lmxlbmd0aCYmdGhpcy5fbG9hZGVkKXt2YXIgbz10aGlzLmdldENlbnRlcigpLndyYXAoKSxlPXRoaXMuX3RpbGVqc29ufHx7fSxpPWUuaWR8fCIiLG49IiMiK2krIi8iK28ubG5nLnRvRml4ZWQoMykrIi8iK28ubGF0LnRvRml4ZWQoMykrIi8iK3RoaXMuZ2V0Wm9vbSgpO2Zvcih2YXIgciBpbiBmZWVkYmFjay5kYXRhKW4rPSIvIityKyI9IitmZWVkYmFjay5kYXRhW3JdO2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXRbYV0uaGFzaD1ufX19LF9vbkxheWVyQWRkOmZ1bmN0aW9uKHQpeyJvbiJpbiB0LmxheWVyJiZ0LmxheWVyLm9uKCJyZWFkeSIsdGhpcy5fb25MYXllclJlYWR5LHRoaXMpLHdpbmRvdy5zZXRUaW1lb3V0KEwuYmluZCh0aGlzLl91cGRhdGVNYXBGZWVkYmFja0xpbmssdGhpcyksMCl9LF9vbkxheWVyUmVtb3ZlOmZ1bmN0aW9uKHQpeyJvbiJpbiB0LmxheWVyJiZ0LmxheWVyLm9mZigicmVhZHkiLHRoaXMuX29uTGF5ZXJSZWFkeSx0aGlzKSx3aW5kb3cuc2V0VGltZW91dChMLmJpbmQodGhpcy5fdXBkYXRlTWFwRmVlZGJhY2tMaW5rLHRoaXMpLDApfSxfb25MYXllclJlYWR5OmZ1bmN0aW9uKHQpe3RoaXMuX3VwZGF0ZUxheWVyKHQudGFyZ2V0KX0sX3VwZGF0ZUxheWVyOmZ1bmN0aW9uKHQpe3Qub3B0aW9ucyYmKHRoaXMuaW5mb0NvbnRyb2wmJnRoaXMuX2xvYWRlZCYmdGhpcy5pbmZvQ29udHJvbC5hZGRJbmZvKHQub3B0aW9ucy5pbmZvQ29udHJvbCksdGhpcy5hdHRyaWJ1dGlvbkNvbnRyb2wmJnRoaXMuX2xvYWRlZCYmdC5nZXRBdHRyaWJ1dGlvbiYmdGhpcy5hdHRyaWJ1dGlvbkNvbnRyb2wuYWRkQXR0cmlidXRpb24odC5nZXRBdHRyaWJ1dGlvbigpKSxMLnN0YW1wKHQpaW4gdGhpcy5fem9vbUJvdW5kTGF5ZXJzfHwhdC5vcHRpb25zLm1heFpvb20mJiF0Lm9wdGlvbnMubWluWm9vbXx8KHRoaXMuX3pvb21Cb3VuZExheWVyc1tMLnN0YW1wKHQpXT10KSx0aGlzLl91cGRhdGVNYXBGZWVkYmFja0xpbmsoKSx0aGlzLl91cGRhdGVab29tTGV2ZWxzKCkpfX0pO21vZHVsZS5leHBvcnRzLk1hcD1MTWFwLG1vZHVsZS5leHBvcnRzLm1hcD1mdW5jdGlvbih0LG8sZSl7cmV0dXJuIG5ldyBMTWFwKHQsbyxlKX07Cn0seyIuL2ZlYXR1cmVfbGF5ZXIiOjksIi4vZmVlZGJhY2siOjEwLCIuL2dyaWRfY29udHJvbCI6MTUsIi4vZ3JpZF9sYXllciI6MTYsIi4vaW5mb19jb250cm9sIjoxOCwiLi9sZWdlbmRfY29udHJvbCI6MjAsIi4vbG9hZF90aWxlanNvbiI6MjEsIi4vbWFwYm94X2xvZ28iOjI0LCIuL3NoYXJlX2NvbnRyb2wiOjI3LCIuL3RpbGVfbGF5ZXIiOjI5LCJzYW5pdGl6ZS1jYWphIjo1fV0sMjM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7dmFyIGdlb2NvZGVyQ29udHJvbD1yZXF1aXJlKCIuL2dlb2NvZGVyX2NvbnRyb2wiKSxncmlkQ29udHJvbD1yZXF1aXJlKCIuL2dyaWRfY29udHJvbCIpLGZlYXR1cmVMYXllcj1yZXF1aXJlKCIuL2ZlYXR1cmVfbGF5ZXIiKSxsZWdlbmRDb250cm9sPXJlcXVpcmUoIi4vbGVnZW5kX2NvbnRyb2wiKSxzaGFyZUNvbnRyb2w9cmVxdWlyZSgiLi9zaGFyZV9jb250cm9sIiksdGlsZUxheWVyPXJlcXVpcmUoIi4vdGlsZV9sYXllciIpLGluZm9Db250cm9sPXJlcXVpcmUoIi4vaW5mb19jb250cm9sIiksbWFwPXJlcXVpcmUoIi4vbWFwIiksZ3JpZExheWVyPXJlcXVpcmUoIi4vZ3JpZF9sYXllciIpO0wubWFwYm94PW1vZHVsZS5leHBvcnRzPXtWRVJTSU9OOnJlcXVpcmUoIi4uL3BhY2thZ2UuanNvbiIpLnZlcnNpb24sZ2VvY29kZXI6cmVxdWlyZSgiLi9nZW9jb2RlciIpLG1hcmtlcjpyZXF1aXJlKCIuL21hcmtlciIpLHNpbXBsZXN0eWxlOnJlcXVpcmUoIi4vc2ltcGxlc3R5bGUiKSx0aWxlTGF5ZXI6dGlsZUxheWVyLnRpbGVMYXllcixUaWxlTGF5ZXI6dGlsZUxheWVyLlRpbGVMYXllcixpbmZvQ29udHJvbDppbmZvQ29udHJvbC5pbmZvQ29udHJvbCxJbmZvQ29udHJvbDppbmZvQ29udHJvbC5JbmZvQ29udHJvbCxzaGFyZUNvbnRyb2w6c2hhcmVDb250cm9sLnNoYXJlQ29udHJvbCxTaGFyZUNvbnRyb2w6c2hhcmVDb250cm9sLlNoYXJlQ29udHJvbCxsZWdlbmRDb250cm9sOmxlZ2VuZENvbnRyb2wubGVnZW5kQ29udHJvbCxMZWdlbmRDb250cm9sOmxlZ2VuZENvbnRyb2wuTGVnZW5kQ29udHJvbCxnZW9jb2RlckNvbnRyb2w6Z2VvY29kZXJDb250cm9sLmdlb2NvZGVyQ29udHJvbCxHZW9jb2RlckNvbnRyb2w6Z2VvY29kZXJDb250cm9sLkdlb2NvZGVyQ29udHJvbCxncmlkQ29udHJvbDpncmlkQ29udHJvbC5ncmlkQ29udHJvbCxHcmlkQ29udHJvbDpncmlkQ29udHJvbC5HcmlkQ29udHJvbCxncmlkTGF5ZXI6Z3JpZExheWVyLmdyaWRMYXllcixHcmlkTGF5ZXI6Z3JpZExheWVyLkdyaWRMYXllcixmZWF0dXJlTGF5ZXI6ZmVhdHVyZUxheWVyLmZlYXR1cmVMYXllcixGZWF0dXJlTGF5ZXI6ZmVhdHVyZUxheWVyLkZlYXR1cmVMYXllcixtYXA6bWFwLm1hcCxNYXA6bWFwLk1hcCxjb25maWc6cmVxdWlyZSgiLi9jb25maWciKSxzYW5pdGl6ZTpyZXF1aXJlKCJzYW5pdGl6ZS1jYWphIiksdGVtcGxhdGU6cmVxdWlyZSgibXVzdGFjaGUiKS50b19odG1sLGZlZWRiYWNrOnJlcXVpcmUoIi4vZmVlZGJhY2siKX0sd2luZG93LkwuSWNvbi5EZWZhdWx0LmltYWdlUGF0aD0oImh0dHBzOiI9PT1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbHx8Imh0dHA6Ij09PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sPyIiOiJodHRwczoiKSsiLy9hcGkudGlsZXMubWFwYm94LmNvbS9tYXBib3guanMvdiIrcmVxdWlyZSgiLi4vcGFja2FnZS5qc29uIikudmVyc2lvbisiL2ltYWdlcyI7Cn0seyIuLi9wYWNrYWdlLmpzb24iOjcsIi4vY29uZmlnIjo4LCIuL2ZlYXR1cmVfbGF5ZXIiOjksIi4vZmVlZGJhY2siOjEwLCIuL2dlb2NvZGVyIjoxMiwiLi9nZW9jb2Rlcl9jb250cm9sIjoxMywiLi9ncmlkX2NvbnRyb2wiOjE1LCIuL2dyaWRfbGF5ZXIiOjE2LCIuL2luZm9fY29udHJvbCI6MTgsIi4vbGVnZW5kX2NvbnRyb2wiOjIwLCIuL21hcCI6MjIsIi4vbWFya2VyIjoyNSwiLi9zaGFyZV9jb250cm9sIjoyNywiLi9zaW1wbGVzdHlsZSI6MjgsIi4vdGlsZV9sYXllciI6MjksIm11c3RhY2hlIjo0LCJzYW5pdGl6ZS1jYWphIjo1fV0sMjQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7dmFyIE1hcGJveExvZ29Db250cm9sPUwuQ29udHJvbC5leHRlbmQoe29wdGlvbnM6e3Bvc2l0aW9uOiJib3R0b21sZWZ0In0saW5pdGlhbGl6ZTpmdW5jdGlvbihvKXtMLnNldE9wdGlvbnModGhpcyxvKX0sb25BZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyPUwuRG9tVXRpbC5jcmVhdGUoImRpdiIsIm1hcGJveC1sb2dvIiksdGhpcy5fY29udGFpbmVyfSxfc2V0VGlsZUpTT046ZnVuY3Rpb24obyl7by5tYXBib3hfbG9nbyYmTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwibWFwYm94LWxvZ28tdHJ1ZSIpfX0pO21vZHVsZS5leHBvcnRzLk1hcGJveExvZ29Db250cm9sPU1hcGJveExvZ29Db250cm9sLG1vZHVsZS5leHBvcnRzLm1hcGJveExvZ29Db250cm9sPWZ1bmN0aW9uKG8pe3JldHVybiBuZXcgTWFwYm94TG9nb0NvbnRyb2wobyl9Owp9LHt9XSwyNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBpY29uKHIsZSl7cj1yfHx7fTt2YXIgaT17c21hbGw6WzIwLDUwXSxtZWRpdW06WzMwLDcwXSxsYXJnZTpbMzUsOTBdfSx0PXJbIm1hcmtlci1zaXplIl18fCJtZWRpdW0iLG89Im1hcmtlci1zeW1ib2wiaW4gciYmIiIhPT1yWyJtYXJrZXItc3ltYm9sIl0/Ii0iK3JbIm1hcmtlci1zeW1ib2wiXToiIixzPShyWyJtYXJrZXItY29sb3IiXXx8IjdlN2U3ZSIpLnJlcGxhY2UoIiMiLCIiKTtyZXR1cm4gTC5pY29uKHtpY29uVXJsOmZvcm1hdF91cmwoIi92NC9tYXJrZXIvcGluLSIrdC5jaGFyQXQoMCkrbysiKyIrcysoTC5Ccm93c2VyLnJldGluYT8iQDJ4IjoiIikrIi5wbmciLGUmJmUuYWNjZXNzVG9rZW4pLGljb25TaXplOmlbdF0saWNvbkFuY2hvcjpbaVt0XVswXS8yLGlbdF1bMV0vMl0scG9wdXBBbmNob3I6WzAsLWlbdF1bMV0vMl19KX1mdW5jdGlvbiBzdHlsZShyLGUsaSl7cmV0dXJuIEwubWFya2VyKGUse2ljb246aWNvbihyLnByb3BlcnRpZXMsaSksdGl0bGU6dXRpbC5zdHJpcF90YWdzKHNhbml0aXplKHIucHJvcGVydGllcyYmci5wcm9wZXJ0aWVzLnRpdGxlfHwiIikpfSl9ZnVuY3Rpb24gY3JlYXRlUG9wdXAocixlKXtpZighcnx8IXIucHJvcGVydGllcylyZXR1cm4iIjt2YXIgaT0iIjtyZXR1cm4gci5wcm9wZXJ0aWVzLnRpdGxlJiYoaSs9JzxkaXYgY2xhc3M9Im1hcmtlci10aXRsZSI+JytyLnByb3BlcnRpZXMudGl0bGUrIjwvZGl2PiIpLHIucHJvcGVydGllcy5kZXNjcmlwdGlvbiYmKGkrPSc8ZGl2IGNsYXNzPSJtYXJrZXItZGVzY3JpcHRpb24iPicrci5wcm9wZXJ0aWVzLmRlc2NyaXB0aW9uKyI8L2Rpdj4iKSwoZXx8c2FuaXRpemUpKGkpfXZhciBmb3JtYXRfdXJsPXJlcXVpcmUoIi4vZm9ybWF0X3VybCIpLHV0aWw9cmVxdWlyZSgiLi91dGlsIiksc2FuaXRpemU9cmVxdWlyZSgic2FuaXRpemUtY2FqYSIpO21vZHVsZS5leHBvcnRzPXtpY29uOmljb24sc3R5bGU6c3R5bGUsY3JlYXRlUG9wdXA6Y3JlYXRlUG9wdXB9Owp9LHsiLi9mb3JtYXRfdXJsIjoxMSwiLi91dGlsIjozMCwic2FuaXRpemUtY2FqYSI6NX1dLDI2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO3ZhciBjb3JzbGl0ZT1yZXF1aXJlKCJjb3JzbGl0ZSIpLHN0cmljdD1yZXF1aXJlKCIuL3V0aWwiKS5zdHJpY3QsY29uZmlnPXJlcXVpcmUoIi4vY29uZmlnIikscHJvdG9jb2w9L14oaHR0cHM/Oik/KD89XC9cLygufGFwaSlcLnRpbGVzXC5tYXBib3hcLmNvbVwvKS87bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odCxvKXtmdW5jdGlvbiByKHQscil7IXQmJnImJihyPUpTT04ucGFyc2Uoci5yZXNwb25zZVRleHQpKSxvKHQscil9cmV0dXJuIHN0cmljdCh0LCJzdHJpbmciKSxzdHJpY3QobywiZnVuY3Rpb24iKSx0PXQucmVwbGFjZShwcm90b2NvbCxmdW5jdGlvbih0LG8pe3JldHVybiJ3aXRoQ3JlZGVudGlhbHMiaW4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdD8iaHR0cHM6Ij09PW98fCJodHRwczoiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x8fGNvbmZpZy5GT1JDRV9IVFRQUz8iaHR0cHM6IjoiaHR0cDoiOmRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sfSksY29yc2xpdGUodCxyKX07Cn0seyIuL2NvbmZpZyI6OCwiLi91dGlsIjozMCwiY29yc2xpdGUiOjF9XSwyNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0Ijt2YXIgZm9ybWF0X3VybD1yZXF1aXJlKCIuL2Zvcm1hdF91cmwiKSxTaGFyZUNvbnRyb2w9TC5Db250cm9sLmV4dGVuZCh7aW5jbHVkZXM6W3JlcXVpcmUoIi4vbG9hZF90aWxlanNvbiIpXSxvcHRpb25zOntwb3NpdGlvbjoidG9wbGVmdCIsdXJsOiIifSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7TC5zZXRPcHRpb25zKHRoaXMsZSksdGhpcy5fbG9hZFRpbGVKU09OKHQpfSxfc2V0VGlsZUpTT046ZnVuY3Rpb24odCl7dGhpcy5fdGlsZWpzb249dH0sb25BZGQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQ7dmFyIGU9TC5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibGVhZmxldC1jb250cm9sLW1hcGJveC1zaGFyZSBsZWFmbGV0LWJhciIpLG89TC5Eb21VdGlsLmNyZWF0ZSgiYSIsIm1hcGJveC1zaGFyZSBtYXBib3gtaWNvbiBtYXBib3gtaWNvbi1zaGFyZSIsZSk7cmV0dXJuIG8uaHJlZj0iIyIsdGhpcy5fbW9kYWw9TC5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibWFwYm94LW1vZGFsIix0aGlzLl9tYXAuX2NvbnRhaW5lciksdGhpcy5fbWFzaz1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJtYXBib3gtbW9kYWwtbWFzayIsdGhpcy5fbW9kYWwpLHRoaXMuX2NvbnRlbnQ9TC5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibWFwYm94LW1vZGFsLWNvbnRlbnQiLHRoaXMuX21vZGFsKSxMLkRvbUV2ZW50LmFkZExpc3RlbmVyKG8sImNsaWNrIix0aGlzLl9zaGFyZUNsaWNrLHRoaXMpLEwuRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24oZSksdGhpcy5fbWFwLm9uKCJtb3VzZWRvd24iLHRoaXMuX2NsaWNrT3V0LHRoaXMpLGV9LF9jbGlja091dDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2hhcmluZz8oTC5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KSxMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbW9kYWwsImFjdGl2ZSIpLHRoaXMuX2NvbnRlbnQuaW5uZXJIVE1MPSIiLHZvaWQodGhpcy5fc2hhcmluZz1udWxsKSk6dm9pZCAwfSxfc2hhcmVDbGljazpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSxvKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGkuc2V0QXR0cmlidXRlKCJjbGFzcyIsdCksaS5zZXRBdHRyaWJ1dGUoImhyZWYiLGUpLGkuc2V0QXR0cmlidXRlKCJ0YXJnZXQiLCJfYmxhbmsiKSxvPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG8pLGkuYXBwZW5kQ2hpbGQobyksaX1pZihMLkRvbUV2ZW50LnN0b3AodCksdGhpcy5fc2hhcmluZylyZXR1cm4gdGhpcy5fY2xpY2tPdXQodCk7dmFyIG89dGhpcy5fdGlsZWpzb258fHRoaXMuX21hcC5fdGlsZWpzb258fHt9LGk9ZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMub3B0aW9ucy51cmx8fG8ud2VicGFnZXx8d2luZG93LmxvY2F0aW9uKSxhPWVuY29kZVVSSUNvbXBvbmVudChvLm5hbWUpLG49Zm9ybWF0X3VybCgiL3Y0LyIrby5pZCsiLyIrdGhpcy5fbWFwLmdldENlbnRlcigpLmxuZysiLCIrdGhpcy5fbWFwLmdldENlbnRlcigpLmxhdCsiLCIrdGhpcy5fbWFwLmdldFpvb20oKSsiLzYwMHg2MDAucG5nIix0aGlzLm9wdGlvbnMuYWNjZXNzVG9rZW4pLHI9Zm9ybWF0X3VybCgiL3Y0LyIrby5pZCsiLmh0bWwiLHRoaXMub3B0aW9ucy5hY2Nlc3NUb2tlbikscz0iLy90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/c3RhdHVzPSIrYSsiICIraSxsPSIvL3d3dy5mYWNlYm9vay5jb20vc2hhcmVyLnBocD91PSIraSsiJnQ9IithLG09Ii8vd3d3LnBpbnRlcmVzdC5jb20vcGluL2NyZWF0ZS9idXR0b24vP3VybD0iK2krIiZtZWRpYT0iK24rIiZkZXNjcmlwdGlvbj0iK2EsYz0nPGlmcmFtZSB3aWR0aD0iMTAwJSIgaGVpZ2h0PSI1MDBweCIgZnJhbWVCb3JkZXI9IjAiIHNyYz0iJytyKyciPjwvaWZyYW1lPicsaD0iQ29weSBhbmQgcGFzdGUgdGhpcyA8c3Ryb25nPkhUTUwgY29kZTwvc3Ryb25nPiBpbnRvIGRvY3VtZW50cyB0byBlbWJlZCB0aGlzIG1hcCBvbiB3ZWIgcGFnZXMuIjtMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbW9kYWwsImFjdGl2ZSIpLHRoaXMuX3NoYXJpbmc9TC5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibWFwYm94LW1vZGFsLWJvZHkiLHRoaXMuX2NvbnRlbnQpO3ZhciBwPWUoIm1hcGJveC1idXR0b24gbWFwYm94LWJ1dHRvbi1pY29uIG1hcGJveC1pY29uLXR3aXR0ZXIiLHMsIlR3aXR0ZXIiKSxkPWUoIm1hcGJveC1idXR0b24gbWFwYm94LWJ1dHRvbi1pY29uIG1hcGJveC1pY29uLWZhY2Vib29rIixsLCJGYWNlYm9vayIpLHU9ZSgibWFwYm94LWJ1dHRvbiBtYXBib3gtYnV0dG9uLWljb24gbWFwYm94LWljb24tcGludGVyZXN0IixtLCJQaW50ZXJlc3QiKSxiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgzIiksXz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiU2hhcmUgdGhpcyBtYXAiKTtiLmFwcGVuZENoaWxkKF8pO3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Yuc2V0QXR0cmlidXRlKCJjbGFzcyIsIm1hcGJveC1zaGFyZS1idXR0b25zIiksdi5hcHBlbmRDaGlsZChkKSx2LmFwcGVuZENoaWxkKHApLHYuYXBwZW5kQ2hpbGQodSksdGhpcy5fc2hhcmluZy5hcHBlbmRDaGlsZChiKSx0aGlzLl9zaGFyaW5nLmFwcGVuZENoaWxkKHYpO3ZhciB4PUwuRG9tVXRpbC5jcmVhdGUoImlucHV0IiwibWFwYm94LWVtYmVkIix0aGlzLl9zaGFyaW5nKTt4LnR5cGU9InRleHQiLHgudmFsdWU9Yzt2YXIgZj1MLkRvbVV0aWwuY3JlYXRlKCJsYWJlbCIsIm1hcGJveC1lbWJlZC1kZXNjcmlwdGlvbiIsdGhpcy5fc2hhcmluZyk7Zi5pbm5lckhUTUw9aDt2YXIgZz1MLkRvbVV0aWwuY3JlYXRlKCJhIiwibGVhZmxldC1wb3B1cC1jbG9zZS1idXR0b24iLHRoaXMuX3NoYXJpbmcpO2cuaHJlZj0iIyIsTC5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbih0aGlzLl9zaGFyaW5nKSxMLkRvbUV2ZW50LmFkZExpc3RlbmVyKGcsImNsaWNrIix0aGlzLl9jbGlja091dCx0aGlzKSxMLkRvbUV2ZW50LmFkZExpc3RlbmVyKHgsImNsaWNrIixmdW5jdGlvbih0KXt0LnRhcmdldC5mb2N1cygpLHQudGFyZ2V0LnNlbGVjdCgpfSl9fSk7bW9kdWxlLmV4cG9ydHMuU2hhcmVDb250cm9sPVNoYXJlQ29udHJvbCxtb2R1bGUuZXhwb3J0cy5zaGFyZUNvbnRyb2w9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFNoYXJlQ29udHJvbCh0LGUpfTsKfSx7Ii4vZm9ybWF0X3VybCI6MTEsIi4vbG9hZF90aWxlanNvbiI6MjF9XSwyODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBmYWxsYmFjayh0LGwpe3ZhciBpPXt9O2Zvcih2YXIgciBpbiBsKXZvaWQgMD09PXRbcl0/aVtyXT1sW3JdOmlbcl09dFtyXTtyZXR1cm4gaX1mdW5jdGlvbiByZW1hcCh0KXtmb3IodmFyIGw9e30saT0wO2k8bWFwcGluZy5sZW5ndGg7aSsrKWxbbWFwcGluZ1tpXVsxXV09dFttYXBwaW5nW2ldWzBdXTtyZXR1cm4gbH1mdW5jdGlvbiBzdHlsZSh0KXtyZXR1cm4gcmVtYXAoZmFsbGJhY2sodC5wcm9wZXJ0aWVzfHx7fSxkZWZhdWx0cykpfXZhciBkZWZhdWx0cz17c3Ryb2tlOiIjNTU1NTU1Iiwic3Ryb2tlLXdpZHRoIjoyLCJzdHJva2Utb3BhY2l0eSI6MSxmaWxsOiIjNTU1NTU1IiwiZmlsbC1vcGFjaXR5IjouNX0sbWFwcGluZz1bWyJzdHJva2UiLCJjb2xvciJdLFsic3Ryb2tlLXdpZHRoIiwid2VpZ2h0Il0sWyJzdHJva2Utb3BhY2l0eSIsIm9wYWNpdHkiXSxbImZpbGwiLCJmaWxsQ29sb3IiXSxbImZpbGwtb3BhY2l0eSIsImZpbGxPcGFjaXR5Il1dO21vZHVsZS5leHBvcnRzPXtzdHlsZTpzdHlsZSxkZWZhdWx0czpkZWZhdWx0c307Cn0se31dLDI5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO3ZhciB1dGlsPXJlcXVpcmUoIi4vdXRpbCIpLGZvcm1hdFBhdHRlcm49L1wuKCg/OnBuZ3xqcGcpXGQqKSg/PSR8XD8pLyxUaWxlTGF5ZXI9TC5UaWxlTGF5ZXIuZXh0ZW5kKHtpbmNsdWRlczpbcmVxdWlyZSgiLi9sb2FkX3RpbGVqc29uIildLG9wdGlvbnM6e3Nhbml0aXplcjpyZXF1aXJlKCJzYW5pdGl6ZS1jYWphIil9LGZvcm1hdHM6WyJwbmciLCJqcGciLCJwbmczMiIsInBuZzY0IiwicG5nMTI4IiwicG5nMjU2IiwianBnNzAiLCJqcGc4MCIsImpwZzkwIl0sc2NhbGVQcmVmaXg6IkAyeC4iLGluaXRpYWxpemU6ZnVuY3Rpb24odCxpKXtMLlRpbGVMYXllci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdm9pZCAwLGkpLHRoaXMuX3RpbGVqc29uPXt9LGkmJmkuZm9ybWF0JiZ1dGlsLnN0cmljdF9vbmVvZihpLmZvcm1hdCx0aGlzLmZvcm1hdHMpLHRoaXMuX2xvYWRUaWxlSlNPTih0KX0sc2V0Rm9ybWF0OmZ1bmN0aW9uKHQpe3JldHVybiB1dGlsLnN0cmljdCh0LCJzdHJpbmciKSx0aGlzLm9wdGlvbnMuZm9ybWF0PXQsdGhpcy5yZWRyYXcoKSx0aGlzfSxzZXRVcmw6bnVsbCxfc2V0VGlsZUpTT046ZnVuY3Rpb24odCl7cmV0dXJuIHV0aWwuc3RyaWN0KHQsIm9iamVjdCIpLHRoaXMub3B0aW9ucy5mb3JtYXQ9dGhpcy5vcHRpb25zLmZvcm1hdHx8dC50aWxlc1swXS5tYXRjaChmb3JtYXRQYXR0ZXJuKVsxXSxMLmV4dGVuZCh0aGlzLm9wdGlvbnMse3RpbGVzOnQudGlsZXMsYXR0cmlidXRpb246dGhpcy5vcHRpb25zLnNhbml0aXplcih0LmF0dHJpYnV0aW9uKSxtaW5ab29tOnQubWluem9vbXx8MCxtYXhab29tOnQubWF4em9vbXx8MTgsdG1zOiJ0bXMiPT09dC5zY2hlbWUsYm91bmRzOnQuYm91bmRzJiZ1dGlsLmxib3VuZHModC5ib3VuZHMpfSksdGhpcy5fdGlsZWpzb249dCx0aGlzLnJlZHJhdygpLHRoaXN9LGdldFRpbGVKU09OOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbGVqc29ufSxnZXRUaWxlVXJsOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucy50aWxlcyxlPU1hdGguZmxvb3IoTWF0aC5hYnModC54K3QueSklaS5sZW5ndGgpLG89aVtlXSxyPUwuVXRpbC50ZW1wbGF0ZShvLHQpO3JldHVybiByP3IucmVwbGFjZShmb3JtYXRQYXR0ZXJuLChMLkJyb3dzZXIucmV0aW5hP3RoaXMuc2NhbGVQcmVmaXg6Ii4iKSt0aGlzLm9wdGlvbnMuZm9ybWF0KTpyfSxfdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnRpbGVzJiZMLlRpbGVMYXllci5wcm90b3R5cGUuX3VwZGF0ZS5jYWxsKHRoaXMpfX0pO21vZHVsZS5leHBvcnRzLlRpbGVMYXllcj1UaWxlTGF5ZXIsbW9kdWxlLmV4cG9ydHMudGlsZUxheWVyPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIG5ldyBUaWxlTGF5ZXIodCxpKX07Cn0seyIuL2xvYWRfdGlsZWpzb24iOjIxLCIuL3V0aWwiOjMwLCJzYW5pdGl6ZS1jYWphIjo1fV0sMzA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7ZnVuY3Rpb24gY29udGFpbnMobix0KXtpZighdHx8IXQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWlmKHRbcl09PT1uKXJldHVybiEwO3JldHVybiExfW1vZHVsZS5leHBvcnRzPXtpZFVybDpmdW5jdGlvbihuLHQpey0xPT09bi5pbmRleE9mKCIvIik/dC5sb2FkSUQobik6dC5sb2FkVVJMKG4pfSxsb2c6ZnVuY3Rpb24obil7Im9iamVjdCI9PXR5cGVvZiBjb25zb2xlJiYiZnVuY3Rpb24iPT10eXBlb2YgY29uc29sZS5lcnJvciYmY29uc29sZS5lcnJvcihuKX0sc3RyaWN0OmZ1bmN0aW9uKG4sdCl7aWYodHlwZW9mIG4hPT10KXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBhcmd1bWVudDogIit0KyIgZXhwZWN0ZWQiKX0sc3RyaWN0X2luc3RhbmNlOmZ1bmN0aW9uKG4sdCxyKXtpZighKG4gaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgYXJndW1lbnQ6ICIrcisiIGV4cGVjdGVkIil9LHN0cmljdF9vbmVvZjpmdW5jdGlvbihuLHQpe2lmKCFjb250YWlucyhuLHQpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBhcmd1bWVudDogIituKyIgZ2l2ZW4sIHZhbGlkIHZhbHVlcyBhcmUgIit0LmpvaW4oIiwgIikpfSxzdHJpcF90YWdzOmZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoLzxbXjxdKz4vZywiIil9LGxib3VuZHM6ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBMLkxhdExuZ0JvdW5kcyhbW25bMV0sblswXV0sW25bM10sblsyXV1dKX19Owp9LHt9XX0se30sWzE3XSkKCgovLyMgc291cmNlTWFwcGluZ1VSTD1tYXBib3guanMubWFw"></script>
  <link href="https://api.mapbox.com/mapbox.js/v2.2.4/mapbox.css" rel="stylesheet" />

  <link href="http://blainelewis1.github.io/assets/style/reset.css" rel="stylesheet" />
  <!-- PROD: <link href="http://blainelewis1.github.io/assets/style/main.css" rel="stylesheet" />-->
  <link href="/assets/style/main.css" rel="stylesheet" />
  <link href="style/main.css" rel="stylesheet" />

  <script src="scripts/index.js"></script>
</head>
<body>
<div id="map"></div>

<div id="controls-wrapper">

  <div class="expandable" id="controls">
    <div id="date">
      <input type="date" id="start-date" /><span class="to" /> - </span><input type="date" id="end-date" />
    </div>

    <div id="mag">
      <input type="number" id="min-mag"/><span class="to"> - </span><input type="number" id="max-mag"/>
    </div>
    <input type="button" id="filter" value="Filter" />

    <div id="attribution">Contains information licensed under the Open Government Licence – Canada.</div>
  </div>

  <div class="expander">Filters</div>
</div>
<script type="text/javascript">(function(){if(window.location.href.indexOf("blainelewis1") > -1 || window.location.href.indexOf("localhost") > -1){var s = document.createElement("script");s.async = 'async';s.src = "/scripts/project_info.js";document.head.appendChild(s);}})()</script>
</body>
</html>
